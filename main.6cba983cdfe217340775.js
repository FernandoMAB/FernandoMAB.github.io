(self.webpackChunkingweb_fm=self.webpackChunkingweb_fm||[]).push([[179],{8255:ot=>{function Oe(j){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+j+"'");throw h.code="MODULE_NOT_FOUND",h})}Oe.keys=()=>[],Oe.resolve=Oe,Oe.id=8255,ot.exports=Oe},7716:(ot,Oe,j)=>{"use strict";j.d(Oe,{deG:()=>Nw,tb:()=>DC,AFp:()=>aI,ip1:()=>wC,CZH:()=>mc,hGG:()=>$I,z2F:()=>An,sBO:()=>AE,Sil:()=>Wu,_Vd:()=>ku,EJc:()=>uI,SBq:()=>ho,qLn:()=>y,vpe:()=>ia,gxx:()=>_u,tBr:()=>Ma,XFs:()=>ht,OlP:()=>xn,zs3:()=>Ln,ZZ4:()=>vm,aQg:()=>Fu,soG:()=>dv,YKP:()=>nS,v3s:()=>xI,h0i:()=>sc,PXZ:()=>oa,R0b:()=>Wi,FiY:()=>Is,Lbi:()=>uv,g9A:()=>lI,Qsj:()=>ym,FYo:()=>_m,JOm:()=>Rs,Tiy:()=>TE,q3G:()=>Fn,tp0:()=>mr,EAV:()=>sR,Rgc:()=>Fh,dDg:()=>LC,DyG:()=>Lo,q4F:()=>DE,GfV:()=>Ty,s_b:()=>wm,ifc:()=>Qe,eFA:()=>SI,G48:()=>UC,Gpc:()=>q,f3M:()=>Pd,X6Q:()=>mv,_c5:()=>zm,VLi:()=>Q1,c2e:()=>SC,zSh:()=>yu,wAp:()=>gt,vHH:()=>Ae,EiD:()=>au,mCW:()=>Nl,qzn:()=>ru,JVY:()=>Wg,pB0:()=>Oa,eBb:()=>iu,L6k:()=>op,LAX:()=>to,cg1:()=>uy,Tjo:()=>VI,kL8:()=>lm,yhl:()=>zo,dqk:()=>gn,sIi:()=>hh,CqO:()=>J_,QGY:()=>Kp,F4k:()=>L0,RDi:()=>yg,AaK:()=>oe,z3N:()=>eo,qOj:()=>L_,TTD:()=>gl,_Bn:()=>vE,xp6:()=>io,uIk:()=>$_,ekj:()=>ny,Suo:()=>lC,Xpm:()=>Zr,lG2:()=>ud,Yz7:()=>hn,cJS:()=>qt,oAB:()=>ld,Yjl:()=>dl,Y36:()=>Eh,_UZ:()=>Y_,GkF:()=>Q_,BQk:()=>F0,ynx:()=>K_,qZA:()=>Wp,TgZ:()=>qp,EpF:()=>Yp,n5z:()=>Hf,Ikx:()=>cy,LFG:()=>_n,$8M:()=>kg,NdJ:()=>X_,CRH:()=>Xy,kcU:()=>sb,O4$:()=>Mw,oxw:()=>Zl,Hsn:()=>ey,F$t:()=>iD,Q6J:()=>W_,VKq:()=>Gy,iGM:()=>Yh,CHM:()=>If,LSH:()=>zd,kYT:()=>cd,Udp:()=>H0,YNc:()=>H_,_uU:()=>yD,Oqu:()=>q0,hij:()=>sy,Gf:()=>Jy});var h=j(9765),le=j(5319),Y=j(7574),Ie=j(6682),De=j(8819);function re(a){for(let l in a)if(a[l]===re)return l;throw Error("Could not find renamed property on target object.")}function pe(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function oe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(oe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function X(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const H=re({__forward_ref__:re});function q(a){return a.__forward_ref__=q,a.toString=function(){return oe(this())},a}function G(a){return ce(a)?a():a}function ce(a){return"function"==typeof a&&a.hasOwnProperty(H)&&a.__forward_ref__===q}class Ae extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function Me(a){return"string"==typeof a?a:null==a?"":String(a)}function Ye(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Me(a)}function nn(a,l){const c=l?` in ${l}`:"";throw new Ae("201",`No provider for ${Ye(a)} found${c}`)}function pt(a,l){null==a&&function(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function hn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function qt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Mr(a){return Ki(a,zs)||Ki(a,Gs)}function Ki(a,l){return a.hasOwnProperty(l)?a[l]:null}function So(a){return a&&(a.hasOwnProperty(fa)||a.hasOwnProperty(pa))?a[fa]:null}const zs=re({\u0275prov:re}),fa=re({\u0275inj:re}),Gs=re({ngInjectableDef:re}),pa=re({ngInjectorDef:re});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let tr;function Ji(a){const l=tr;return tr=a,l}function It(a,l,c){const d=Mr(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ht.Optional?null:void 0!==l?l:void nn(oe(a),"Injector")}function tn(a){return{toString:a}.toString()}var Qt=(()=>((Qt=Qt||{})[Qt.OnPush=0]="OnPush",Qt[Qt.Default=1]="Default",Qt))(),Qe=(()=>((Qe=Qe||{})[Qe.Emulated=0]="Emulated",Qe[Qe.None=2]="None",Qe[Qe.ShadowDom=3]="ShadowDom",Qe))();const vt="undefined"!=typeof globalThis&&globalThis,Xi="undefined"!=typeof window&&window,Io="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ys="undefined"!=typeof global&&global,gn=vt||ys||Xi||Io,ee={},Q=[],ne=re({\u0275cmp:re}),Le=re({\u0275dir:re}),me=re({\u0275pipe:re}),lt=re({\u0275mod:re}),Rt=re({\u0275loc:re}),Yt=re({\u0275fac:re}),yn=re({__NG_ELEMENT_ID__:re});let Mn=0;function Zr(a){return tn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Q,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Qe.Emulated,id:"c",styles:a.styles||Q,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.directives,_=a.features,E=a.pipes;return d.id+=Mn++,d.inputs=mf(a.inputs,c),d.outputs=mf(a.outputs),_&&_.forEach(w=>w(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(nr):null,d.pipeDefs=E?()=>("function"==typeof E?E():E).map(pi):null,d})}function nr(a){return fr(a)||function(a){return a[Le]||null}(a)}function pi(a){return function(a){return a[me]||null}(a)}const Rc={};function ld(a){return tn(()=>{const l={type:a.type,bootstrap:a.bootstrap||Q,declarations:a.declarations||Q,imports:a.imports||Q,exports:a.exports||Q,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Rc[a.id]=a.type),l})}function cd(a,l){return tn(()=>{const c=ki(a,!0);c.declarations=l.declarations||Q,c.imports=l.imports||Q,c.exports=l.exports||Q})}function mf(a,l){if(null==a)return ee;const c={};for(const d in a)if(a.hasOwnProperty(d)){let m=a[d],_=m;Array.isArray(m)&&(_=m[1],m=m[0]),c[m]=d,l&&(l[m]=_)}return c}const ud=Zr;function dl(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function fr(a){return a[ne]||null}function ki(a,l){const c=a[lt]||null;if(!c&&!0===l)throw new Error(`Type ${oe(a)} does not have '\u0275mod' property.`);return c}function ts(a){return Array.isArray(a)&&"object"==typeof a[1]}function Pi(a){return Array.isArray(a)&&!0===a[1]}function Lc(a){return 0!=(8&a.flags)}function dd(a){return 2==(2&a.flags)}function pl(a){return 1==(1&a.flags)}function Kr(a){return null!==a.template}function Xn(a){return 0!=(512&a[2])}function ko(a,l){return a.hasOwnProperty(Yt)?a[Yt]:null}class _g{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function gl(){return No}function No(a){return a.type.prototype.ngOnChanges&&(a.setInput=yf),Kv}function Kv(){const a=bf(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===ee)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function yf(a,l,c,d){const m=bf(a)||function(a,l){return a[vf]=l}(a,{previous:ee,current:null}),_=m.current||(m.current={}),E=m.previous,w=this.declaredInputs[c],M=E[w];_[w]=new _g(M&&M.currentValue,l,E===ee),a[d]=l}gl.ngInherit=!0;const vf="__ngSimpleChanges__";function bf(a){return a[vf]||null}const Uc="http://www.w3.org/2000/svg";let $c;function yg(a){$c=a}function Cn(a){return!!a.listen}const Ws={createRenderer:(a,l)=>void 0!==$c?$c:"undefined"!=typeof document?document:void 0};function wn(a){for(;Array.isArray(a);)a=a[0];return a}function _l(a,l){return wn(l[a])}function $r(a,l){return wn(l[a.index])}function gd(a,l){return a.data[l]}function Qr(a,l){const c=l[a];return ts(c)?c:c[0]}function Tf(a){return 4==(4&a[2])}function Eg(a){return 128==(128&a[2])}function _a(a,l){return null==l?null:a[l]}function _d(a){a[18]=0}function vl(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Tt={lFrame:Tg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sf(){return Tt.bindingsEnabled}function $e(){return Tt.lFrame.lView}function zt(){return Tt.lFrame.tView}function If(a){return Tt.lFrame.contextLView=a,a[8]}function vn(){let a=Af();for(;null!==a&&64===a.type;)a=a.parent;return a}function Af(){return Tt.lFrame.currentTNode}function Fi(a,l){const c=Tt.lFrame;c.currentTNode=a,c.isParent=l}function vd(){return Tt.lFrame.isParent}function bl(){Tt.lFrame.isParent=!1}function El(){return Tt.isInCheckNoChangesMode}function bd(a){Tt.isInCheckNoChangesMode=a}function Ys(){return Tt.lFrame.bindingIndex++}function Cg(a,l){const c=Tt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Rf(l)}function Rf(a){Tt.lFrame.currentDirectiveIndex=a}function wg(){return Tt.lFrame.currentQueryIndex}function zc(a){Tt.lFrame.currentQueryIndex=a}function kf(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function Cd(a,l,c){if(c&ht.SkipSelf){let m=l,_=a;for(;!(m=m.parent,null!==m||c&ht.Host||(m=kf(_),null===m||(_=_[15],10&m.type))););if(null===m)return!1;l=m,a=_}const d=Tt.lFrame=va();return d.currentTNode=l,d.lView=a,!0}function wd(a){const l=va(),c=a[1];Tt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function va(){const a=Tt.lFrame,l=null===a?null:a.child;return null===l?Tg(a):l}function Tg(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Dg(){const a=Tt.lFrame;return Tt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const nb=Dg;function Gc(){const a=Dg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Hr(){return Tt.lFrame.selectedIndex}function Cl(a){Tt.lFrame.selectedIndex=a}function Yn(){const a=Tt.lFrame;return gd(a.tView,a.selectedIndex)}function Mw(){Tt.lFrame.currentNamespace=Uc}function sb(){Tt.lFrame.currentNamespace=null}function wl(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const _=a.data[c].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:w,ngAfterViewInit:M,ngAfterViewChecked:R,ngOnDestroy:O}=_;E&&(a.contentHooks||(a.contentHooks=[])).push(-c,E),w&&((a.contentHooks||(a.contentHooks=[])).push(c,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,w)),M&&(a.viewHooks||(a.viewHooks=[])).push(-c,M),R&&((a.viewHooks||(a.viewHooks=[])).push(c,R),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,R)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(c,O)}}function Tl(a,l,c){Sg(a,l,3,c)}function Td(a,l,c,d){(3&a[2])===c&&Sg(a,l,c,d)}function Of(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Sg(a,l,c,d){const _=null!=d?d:-1,E=l.length-1;let w=0;for(let M=void 0!==d?65535&a[18]:0;M<E;M++)if("number"==typeof l[M+1]){if(w=l[M],null!=d&&w>=d)break}else l[M]<0&&(a[18]+=65536),(w<_||-1==_)&&(Pf(a,c,l,M),a[18]=(4294901760&a[18])+M+2),M++}function Pf(a,l,c,d){const m=c[d]<0,_=c[d+1],w=a[m?-c[d]:c[d]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(w)}finally{}}}else try{_.call(w)}finally{}}class Dd{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Cs(a,l,c){const d=Cn(a);let m=0;for(;m<c.length;){const _=c[m];if("number"==typeof _){if(0!==_)break;m++;const E=c[m++],w=c[m++],M=c[m++];d?a.setAttribute(l,w,M,E):l.setAttributeNS(E,w,M)}else{const E=_,w=c[++m];ws(E)?d&&a.setProperty(l,E,w):d?a.setAttribute(l,E,w):l.setAttribute(E,w),m++}}return m}function Ag(a){return 3===a||4===a||6===a}function ws(a){return 64===a.charCodeAt(0)}function Po(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const m=l[d];"number"==typeof m?c=m:0===c||Mg(a,c,m,null,-1===c||2===c?l[++d]:null)}}return a}function Mg(a,l,c,d,m){let _=0,E=a.length;if(-1===l)E=-1;else for(;_<a.length;){const w=a[_++];if("number"==typeof w){if(w===l){E=-1;break}if(w>l){E=_-1;break}}}for(;_<a.length;){const w=a[_];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==m&&(a[_+1]=m));if(d===a[_+1])return void(a[_+2]=m)}_++,null!==d&&_++,null!==m&&_++}-1!==E&&(a.splice(E,0,l),_=E+1),a.splice(_++,0,c),null!==d&&a.splice(_++,0,d),null!==m&&a.splice(_++,0,m)}function Pn(a){return-1!==a}function ba(a){return 32767&a}function Wc(a,l){let c=function(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let Sd=!0;function Id(a){const l=Sd;return Sd=a,l}let $f=0;function Ks(a,l){const c=cn(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,Zc(d.data,a),Zc(l,null),Zc(d.blueprint,null));const m=it(a,l),_=a.injectorIndex;if(Pn(m)){const E=ba(m),w=Wc(m,l),M=w[1].data;for(let R=0;R<8;R++)l[_+R]=w[E+R]|M[E+R]}return l[_+8]=m,_}function Zc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function cn(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function it(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,m=l;for(;null!==m;){const _=m[1],E=_.type;if(d=2===E?_.declTNode:1===E?m[6]:null,null===d)return-1;if(c++,m=m[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Xt(a,l,c){!function(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(yn)&&(d=c[yn]),null==d&&(d=c[yn]=$f++);const m=255&d;l.data[a+(m>>5)]|=1<<m}(a,l,c)}function Jr(a,l,c){if(c&ht.Optional)return a;nn(l,"NodeInjector")}function Ea(a,l,c,d){if(c&ht.Optional&&void 0===d&&(d=null),0==(c&(ht.Self|ht.Host))){const m=a[9],_=Ji(void 0);try{return m?m.get(l,d,c&ht.Optional):It(l,d,c&ht.Optional)}finally{Ji(_)}}return Jr(d,l,c)}function Dl(a,l,c,d=ht.Default,m){if(null!==a){const _=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(yn)?a[yn]:void 0;return"number"==typeof l?l>=0?255&l:lb:l}(c);if("function"==typeof _){if(!Cd(l,a,d))return d&ht.Host?Jr(m,c,d):Ea(l,c,d,m);try{const E=_(d);if(null!=E||d&ht.Optional)return E;nn(c)}finally{nb()}}else if("number"==typeof _){let E=null,w=cn(a,l),M=-1,R=d&ht.Host?l[16][6]:null;for((-1===w||d&ht.SkipSelf)&&(M=-1===w?it(a,l):l[w+8],-1!==M&&Yc(d,!1)?(E=l[1],w=ba(M),l=Wc(M,l)):w=-1);-1!==w;){const O=l[1];if(Rg(_,w,O.data)){const V=Rw(w,l,c,E,d,R);if(V!==Xr)return V}M=l[w+8],-1!==M&&Yc(d,l[1].data[w+8]===R)&&Rg(_,w,l)?(E=O,w=ba(M),l=Wc(M,l)):w=-1}}}return Ea(l,c,d,m)}const Xr={};function lb(){return new Sl(vn(),$e())}function Rw(a,l,c,d,m,_){const E=l[1],w=E.data[a+8],O=Fo(w,E,c,null==d?dd(w)&&Sd:d!=E&&0!=(3&w.type),m&ht.Host&&_===w);return null!==O?Tn(l,E,O,w):Xr}function Fo(a,l,c,d,m){const _=a.providerIndexes,E=l.data,w=1048575&_,M=a.directiveStart,O=_>>20,B=m?w+O:a.directiveEnd;for(let W=d?w:w+O;W<B;W++){const te=E[W];if(W<M&&c===te||W>=M&&te.type===c)return W}if(m){const W=E[M];if(W&&Kr(W)&&W.type===c)return M}return null}function Tn(a,l,c,d){let m=a[c];const _=l.data;if(function(a){return a instanceof Dd}(m)){const E=m;E.resolving&&function(a,l){throw new Ae("200",`Circular dependency in DI detected for ${a}`)}(Ye(_[c]));const w=Id(E.canSeeViewProviders);E.resolving=!0;const M=E.injectImpl?Ji(E.injectImpl):null;Cd(a,d,ht.Default);try{m=a[c]=E.factory(void 0,_,a,d),l.firstCreatePass&&c>=d.directiveStart&&function(a,l,c){const{ngOnChanges:d,ngOnInit:m,ngDoCheck:_}=l.type.prototype;if(d){const E=No(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,E),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,E)}m&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,m),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,_))}(c,_[c],l)}finally{null!==M&&Ji(M),Id(w),E.resolving=!1,nb()}}return m}function Rg(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Yc(a,l){return!(a&ht.Self||a&ht.Host&&l)}class Sl{constructor(l,c){this._tNode=l,this._lView=c}get(l,c){return Dl(this._tNode,this._lView,l,void 0,c)}}function Hf(a){return tn(()=>{const l=a.prototype.constructor,c=l[Yt]||Md(l),d=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==d;){const _=m[Yt]||Md(m);if(_&&_!==c)return _;m=Object.getPrototypeOf(m)}return _=>new _})}function Md(a){return ce(a)?()=>{const l=Md(G(a));return l&&l()}:ko(a)}function kg(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let m=0;for(;m<d;){const _=c[m];if(Ag(_))break;if(0===_)m+=2;else if("number"==typeof _)for(m++;m<d&&"string"==typeof c[m];)m++;else{if(_===l)return c[m+1];m+=2}}}return null}(vn(),a)}const Vi="__parameters__";function Ts(a,l,c){return tn(()=>{const d=function(a){return function(...c){if(a){const d=a(...c);for(const m in d)this[m]=d[m]}}}(l);function m(..._){if(this instanceof m)return d.apply(this,_),this;const E=new m(..._);return w.annotation=E,w;function w(M,R,O){const V=M.hasOwnProperty(Vi)?M[Vi]:Object.defineProperty(M,Vi,{value:[]})[Vi];for(;V.length<=O;)V.push(null);return(V[O]=V[O]||[]).push(E),M}}return c&&(m.prototype=Object.create(c.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class xn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=hn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Nw=new xn("AnalyzeForEntryComponents"),Lo=Function;function $i(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),$i(d,l)):l!==a&&l.push(d)}return l}function Ss(a,l){a.forEach(c=>Array.isArray(c)?Ss(c,l):l(c))}function Sa(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Vo(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Uo(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function jn(a,l,c){let d=Bo(a,l);return d>=0?a[1|d]=c:(d=~d,function(a,l,c,d){let m=a.length;if(m==l)a.push(c,d);else if(1===m)a.push(d,a[0]),a[0]=c;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function ir(a,l){const c=Bo(a,l);if(c>=0)return a[1|c]}function Bo(a,l){return function(a,l,c){let d=0,m=a.length>>c;for(;m!==d;){const _=d+(m-d>>1),E=a[_<<c];if(l===E)return _<<c;E>l?m=_:d=_+1}return~(m<<c)}(a,l,1)}const Kc={},Jf="__NG_DI_FLAG__",$o="ngTempTokenPath",Ug=/\n/gm,ep="__source",Ml=re({provide:String,useValue:re});let Ho;function Nt(a){const l=Ho;return Ho=a,l}function tp(a,l=ht.Default){if(void 0===Ho)throw new Error("inject() must be called from an injection context");return null===Ho?It(a,void 0,l):Ho.get(a,l&ht.Optional?null:void 0,l)}function _n(a,l=ht.Default){return(tr||tp)(G(a),l)}const Pd=_n;function jo(a){const l=[];for(let c=0;c<a.length;c++){const d=G(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let m,_=ht.Default;for(let E=0;E<d.length;E++){const w=d[E],M=$g(w);"number"==typeof M?-1===M?m=w.token:_|=M:m=w}l.push(_n(m,_))}else l.push(_n(d))}return l}function Qc(a,l){return a[Jf]=l,a.prototype[Jf]=l,a}function $g(a){return a[Jf]}function yi(a,l,c,d){const m=a[$o];throw l[ep]&&m.unshift(l[ep]),a.message=function(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let m=oe(l);if(Array.isArray(l))m=l.map(oe).join(" -> ");else if("object"==typeof l){let _=[];for(let E in l)if(l.hasOwnProperty(E)){let w=l[E];_.push(E+":"+("string"==typeof w?JSON.stringify(w):oe(w)))}m=`{${_.join(", ")}}`}return`${c}${d?"("+d+")":""}[${m}]: ${a.replace(Ug,"\n  ")}`}("\n"+a.message,m,c,d),a.ngTokenPath=m,a[$o]=null,a}const Ma=Qc(Ts("Inject",a=>({token:a})),-1),Is=Qc(Ts("Optional"),8),mr=Qc(Ts("SkipSelf"),4);let kl;function Js(a){var l;return(null===(l=function(){if(void 0===kl&&(kl=null,gn.trustedTypes))try{kl=gn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return kl}())||void 0===l?void 0:l.createHTML(a))||a}class Xs{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gb extends Xs{getTypeName(){return"HTML"}}class _b extends Xs{getTypeName(){return"Style"}}class Ud extends Xs{getTypeName(){return"Script"}}class yb extends Xs{getTypeName(){return"URL"}}class vb extends Xs{getTypeName(){return"ResourceURL"}}function eo(a){return a instanceof Xs?a.changingThisBreaksApplicationSecurity:a}function ru(a,l){const c=zo(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function zo(a){return a instanceof Xs&&a.getTypeName()||null}function Wg(a){return new gb(a)}function op(a){return new _b(a)}function iu(a){return new Ud(a)}function to(a){return new yb(a)}function Oa(a){return new vb(a)}class Zg{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Js(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class lp{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Js(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Js(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let m=c.length-1;0<m;m--){const E=c.item(m).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&l.removeAttribute(E)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Yg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nl(a){return(a=String(a)).match(Yg)||a.match(Bd)?a:"unsafe:"+a}function os(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function Fa(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const su=os("area,br,col,hr,img,wbr"),Hd=os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ou=os("rp,rt"),cp=Fa(su,Fa(Hd,os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fa(ou,os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fa(ou,Hd)),Ol=os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),As=os("srcset"),up=Fa(Ol,As,os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),e_=os("script,style,template");class dp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let m=this.checkClobberedElement(c,c.nextSibling);if(m){c=m;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!cp.hasOwnProperty(c))return this.sanitizedSomething=!0,!e_.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let m=0;m<d.length;m++){const _=d.item(m),E=_.name,w=E.toLowerCase();if(!up.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let M=_.value;Ol[w]&&(M=Nl(M)),As[w]&&(a=M,M=(a=String(a)).split(",").map(l=>Nl(l.trim())).join(", ")),this.buf.push(" ",E,'="',t_(M),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();cp.hasOwnProperty(c)&&!su.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(t_(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Cb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wb=/([^\#-~ |!])/g;function t_(a){return a.replace(/&/g,"&amp;").replace(Cb,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(wb,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Go;function au(a,l){let c=null;try{Go=Go||function(a){const l=new lp(a);return function(){try{return!!(new window.DOMParser).parseFromString(Js(""),"text/html")}catch(a){return!1}}()?new Zg(l):l}(a);let d=l?String(l):"";c=Go.getInertBodyElement(d);let m=5,_=d;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,d=_,_=c.innerHTML,c=Go.getInertBodyElement(d)}while(d!==_);return Js((new dp).sanitizeChildren(jd(c)||c))}finally{if(c){const d=jd(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function jd(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function zd(a){const l=function(){const a=$e();return a&&a[12]}();return l?l.sanitize(Fn.URL,a)||"":ru(a,"URL")?eo(a):Nl(Me(a))}const La="__ngContext__";function _r(a,l){a[La]=l}function Wd(a){const l=function(a){return a[La]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Ba(a){return a.ngOriginalError}function D(a,...l){a.error(...l)}class y{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=this._findContext(l),m=(a=l)&&a.ngErrorLogger||D;var a;m(this._console,"ERROR",l),c&&m(this._console,"ORIGINAL ERROR",c),d&&m(this._console,"ERROR CONTEXT",d)}_findContext(l){return l?l.ngDebugContext||this._findContext(Ba(l)):null}_findOriginalError(l){let c=l&&Ba(l);for(;c&&Ba(c);)c=Ba(c);return c||null}}const uu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gn))();function Hi(a){return a instanceof Function?a():a}var Rs=(()=>((Rs=Rs||{})[Rs.Important=1]="Important",Rs[Rs.DashCase=2]="DashCase",Rs))();function Jd(a,l){return undefined(a,l)}function yp(a){const l=a[3];return Pi(l)?l[3]:l}function l_(a){return xb(a[13])}function Bw(a){return xb(a[4])}function xb(a){for(;null!==a&&!Pi(a);)a=a[4];return a}function hu(a,l,c,d,m){if(null!=d){let _,E=!1;Pi(d)?_=d:ts(d)&&(E=!0,d=d[0]);const w=wn(d);0===a&&null!==c?null==m?Gw(l,c,w):Ul(l,c,w,m||null,!0):1===a&&null!==c?Ul(l,c,w,m||null,!0):2===a?function(a,l,c){const d=h_(a,l);d&&function(a,l,c,d){Cn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,w,E):3===a&&l.destroyNode(w),null!=_&&function(a,l,c,d,m){const _=c[7];_!==wn(c)&&hu(l,a,d,_,m);for(let w=10;w<c.length;w++){const M=c[w];pu(M[1],M,a,l,d,_)}}(l,a,_,c,m)}}function Rb(a,l,c){return Cn(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function u_(a,l){const c=a[9],d=c.indexOf(l),m=l[3];1024&l[2]&&(l[2]&=-1025,vl(m,-1)),c.splice(d,1)}function d_(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const m=d[17];null!==m&&m!==a&&u_(m,d),l>0&&(a[c-1][4]=d[4]);const _=Vo(a,10+l);!function(a,l){pu(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const E=_[19];null!==E&&E.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Hw(a,l){if(!(256&l[2])){const c=l[11];Cn(c)&&c.destroyNode&&pu(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return Vl(a[1],a);for(;l;){let c=null;if(ts(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)ts(l)&&Vl(l[1],l),l=l[3];null===l&&(l=a),ts(l)&&Vl(l[1],l),c=l&&l[4]}l=c}}(l)}}function Vl(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const m=l[c[d]];if(!(m instanceof Dd)){const _=c[d+1];if(Array.isArray(_))for(let E=0;E<_.length;E+=2){const w=m[_[E]],M=_[E+1];try{M.call(w)}finally{}}else try{_.call(m)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,d=l[7];let m=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const E=c[_+1],w="function"==typeof E?E(l):wn(l[E]),M=d[m=c[_+2]],R=c[_+3];"boolean"==typeof R?w.removeEventListener(c[_],M,R):R>=0?d[m=R]():d[m=-R].unsubscribe(),_+=2}else{const E=d[m=c[_+1]];c[_].call(E)}if(null!==d){for(let _=m+1;_<d.length;_++)d[_]();l[7]=null}}(a,l),1===l[1].type&&Cn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Pi(l[3])){c!==l[3]&&u_(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function jw(a,l,c){return function(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const m=a.data[d.directiveStart].encapsulation;if(m===Qe.None||m===Qe.Emulated)return null}return $r(d,c)}(a,l.parent,c)}function Ul(a,l,c,d,m){Cn(a)?a.insertBefore(l,c,d,m):l.insertBefore(c,d,m)}function Gw(a,l,c){Cn(a)?a.appendChild(l,c):l.appendChild(c)}function qw(a,l,c,d,m){null!==d?Ul(a,l,c,d,m):Gw(a,l,c)}function h_(a,l){return Cn(a)?a.parentNode(l):l.parentNode}function Xd(a,l,c){return fu(a,l,c)}let fu=function(a,l,c){return 40&a.type?$r(a,c):null};function th(a,l,c,d){const m=jw(a,d,l),_=l[11],w=Xd(d.parent||l[6],d,l);if(null!=m)if(Array.isArray(c))for(let M=0;M<c.length;M++)qw(_,m,c[M],w,!1);else qw(_,m,c,w,!1)}function p_(a,l){if(null!==l){const c=l.type;if(3&c)return $r(l,a);if(4&c)return Pb(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return p_(a,d);{const m=a[l.index];return Pi(m)?Pb(-1,m):wn(m)}}if(32&c)return Jd(l,a)()||wn(a[l.index]);{const d=Ob(a,l);return null!==d?Array.isArray(d)?d[0]:p_(yp(a[16]),d):p_(a,l.next)}}return null}function Ob(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Pb(a,l){const c=10+a+1;if(c<l.length){const d=l[c],m=d[1].firstChild;if(null!==m)return p_(d,m)}return l[7]}function m_(a,l,c,d,m,_,E){for(;null!=c;){const w=d[c.index],M=c.type;if(E&&0===l&&(w&&_r(wn(w),d),c.flags|=4),64!=(64&c.flags))if(8&M)m_(a,l,c.child,d,m,_,!1),hu(l,a,m,w,_);else if(32&M){const R=Jd(c,d);let O;for(;O=R();)hu(l,a,m,O,_);hu(l,a,m,w,_)}else 16&M?Bl(a,l,d,c,m,_):hu(l,a,m,w,_);c=E?c.projectionNext:c.next}}function pu(a,l,c,d,m,_){m_(c,d,a.firstChild,l,m,_,!1)}function Bl(a,l,c,d,m,_){const E=c[16],M=E[6].projection[d.projection];if(Array.isArray(M))for(let R=0;R<M.length;R++)hu(l,a,m,M[R],_);else m_(a,l,M,E[3],m,_,!0)}function Yw(a,l,c){Cn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function Lb(a,l,c){Cn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function Vb(a,l,c){let d=a.length;for(;;){const m=a.indexOf(l,c);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const _=l.length;if(m+_===d||a.charCodeAt(m+_)<=32)return m}c=m+1}}const Kw="ng-template";function RM(a,l,c){let d=0;for(;d<a.length;){let m=a[d++];if(c&&"class"===m){if(m=a[d],-1!==Vb(m.toLowerCase(),l,0))return!0}else if(1===m){for(;d<a.length&&"string"==typeof(m=a[d++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function Ub(a){return 4===a.type&&a.value!==Kw}function kM(a,l,c){return l===(4!==a.type||c?a.value:Kw)}function NM(a,l,c){let d=4;const m=a.attrs||[],_=function(a){for(let l=0;l<a.length;l++)if(Ag(a[l]))return l;return a.length}(m);let E=!1;for(let w=0;w<l.length;w++){const M=l[w];if("number"!=typeof M){if(!E)if(4&d){if(d=2|1&d,""!==M&&!kM(a,M,c)||""===M&&1===l.length){if(ro(d))return!1;E=!0}}else{const R=8&d?M:l[++w];if(8&d&&null!==a.attrs){if(!RM(a.attrs,R,c)){if(ro(d))return!1;E=!0}continue}const V=Bb(8&d?"class":M,m,Ub(a),c);if(-1===V){if(ro(d))return!1;E=!0;continue}if(""!==R){let B;B=V>_?"":m[V+1].toLowerCase();const W=8&d?B:null;if(W&&-1!==Vb(W,R,0)||2&d&&R!==B){if(ro(d))return!1;E=!0}}}}else{if(!E&&!ro(d)&&!ro(M))return!1;if(E&&ro(M))continue;E=!1,d=M|1&d}}return ro(d)||E}function ro(a){return 0==(1&a)}function Bb(a,l,c,d){if(null===l)return-1;let m=0;if(d||!c){let _=!1;for(;m<l.length;){const E=l[m];if(E===a)return m;if(3===E||6===E)_=!0;else{if(1===E||2===E){let w=l[++m];for(;"string"==typeof w;)w=l[++m];continue}if(4===E)break;if(0===E){m+=4;continue}}m+=_?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function Qw(a,l,c=!1){for(let d=0;d<l.length;d++)if(NM(a,l[d],c))return!0;return!1}function PN(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let m=0;m<a.length;m++)if(a[m]!==d[m])continue e;return!0}}return!1}function Xw(a,l){return a?":not("+l.trim()+")":l}function eT(a){let l=a[0],c=1,d=2,m="",_=!1;for(;c<a.length;){let E=a[c];if("string"==typeof E)if(2&d){const w=a[++c];m+="["+E+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?m+="."+E:4&d&&(m+=" "+E);else""!==m&&!ro(E)&&(l+=Xw(_,m),m=""),d=E,_=_||!ro(d);c++}return""!==m&&(l+=Xw(_,m)),l}const Ct={};function io(a){nT(zt(),$e(),Hr()+a,El())}function nT(a,l,c,d){if(!d)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&Tl(l,_,c)}else{const _=a.preOrderHooks;null!==_&&Td(l,_,0,c)}Cl(c)}function vp(a,l){return a<<17|l<<2}function so(a){return a>>17&32767}function nh(a){return 2|a}function ti(a){return(131068&a)>>2}function __(a,l){return-131069&a|l<<2}function qo(a){return 1|a}function KM(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d],_=c[d+1];if(-1!==_){const E=a.data[_];zc(m),E.contentQueries(2,l[_],_)}}}function E_(a,l,c,d,m,_,E,w,M,R){const O=l.blueprint.slice();return O[0]=m,O[2]=140|d,_d(O),O[3]=O[15]=a,O[8]=c,O[10]=E||a&&a[10],O[11]=w||a&&a[11],O[12]=M||a&&a[12]||null,O[9]=R||a&&a[9]||null,O[6]=_,O[16]=2==l.type?a[16]:O,O}function wp(a,l,c,d,m){let _=a.data[l];if(null===_)_=function(a,l,c,d,m){const _=Af(),E=vd(),M=a.data[l]=function(a,l,c,d,m,_){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?_:_&&_.parent,c,l,d,m);return null===a.firstChild&&(a.firstChild=M),null!==_&&(E?null==_.child&&null!==M.parent&&(_.child=M):null===_.next&&(_.next=M)),M}(a,l,c,d,m),Tt.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=d,_.attrs=m;const E=function(){const a=Tt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===E?-1:E.injectorIndex}return Fi(_,!0),_}function Ga(a,l,c,d){if(0===c)return-1;const m=l.length;for(let _=0;_<c;_++)l.push(d),a.blueprint.push(d),a.data.push(null);return m}function qa(a,l,c){wd(l);try{const d=a.viewQuery;null!==d&&xp(1,d,c);const m=a.template;null!==m&&hT(a,l,m,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&KM(a,l),a.staticViewQueries&&xp(2,a.viewQuery,c);const _=a.components;null!==_&&function(a,l){for(let c=0;c<l.length;c++)ET(a,l[c])}(l,_)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,Gc()}}function Wa(a,l,c,d){const m=l[2];if(256==(256&m))return;wd(l);const _=El();try{_d(l),function(a){Tt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&hT(a,l,c,2,d);const E=3==(3&m);if(!_)if(E){const R=a.preOrderCheckHooks;null!==R&&Tl(l,R,null)}else{const R=a.preOrderHooks;null!==R&&Td(l,R,0,null),Of(l,0)}if(function(a){for(let l=l_(a);null!==l;l=Bw(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const m=c[d],_=m[3];0==(1024&m[2])&&vl(_,1),m[2]|=1024}}}(l),function(a){for(let l=l_(a);null!==l;l=Bw(l))for(let c=10;c<l.length;c++){const d=l[c],m=d[1];Eg(d)&&Wa(m,d,m.template,d[8])}}(l),null!==a.contentQueries&&KM(a,l),!_)if(E){const R=a.contentCheckHooks;null!==R&&Tl(l,R)}else{const R=a.contentHooks;null!==R&&Td(l,R,1),Of(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const m=c[d];if(m<0)Cl(~m);else{const _=m,E=c[++d],w=c[++d];Cg(E,_),w(2,l[_])}}}finally{Cl(-1)}}(a,l);const w=a.components;null!==w&&function(a,l){for(let c=0;c<l.length;c++)bT(a,l[c])}(l,w);const M=a.viewQuery;if(null!==M&&xp(2,M,d),!_)if(E){const R=a.viewCheckHooks;null!==R&&Tl(l,R)}else{const R=a.viewHooks;null!==R&&Td(l,R,2),Of(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,vl(l[3],-1))}finally{Gc()}}function C_(a,l,c,d){const m=l[10],_=!El(),E=Tf(l);try{_&&!E&&m.begin&&m.begin(),E&&qa(a,l,d),Wa(a,l,c,d)}finally{_&&!E&&m.end&&m.end()}}function hT(a,l,c,d,m){const _=Hr(),E=2&d;try{Cl(-1),E&&l.length>20&&nT(a,l,20,El()),c(d,m)}finally{Cl(_)}}function w_(a,l,c){if(Lc(l)){const m=l.directiveEnd;for(let _=l.directiveStart;_<m;_++){const E=a.data[_];E.contentQueries&&E.contentQueries(1,c[_],_)}}}function ih(a,l,c){!Sf()||(function(a,l,c,d){const m=c.directiveStart,_=c.directiveEnd;a.firstCreatePass||Ks(c,l),_r(d,l);const E=c.initialInputs;for(let w=m;w<_;w++){const M=a.data[w],R=Kr(M);R&&yT(l,c,M);const O=Tn(l,a,w,c);_r(O,l),null!==E&&zN(0,w-m,O,M,0,E),R&&(Qr(c.index,l)[8]=O)}}(a,l,c,$r(c,l)),128==(128&c.flags)&&function(a,l,c){const d=c.directiveStart,m=c.directiveEnd,E=c.index,w=Tt.lFrame.currentDirectiveIndex;try{Cl(E);for(let M=d;M<m;M++){const R=a.data[M],O=l[M];Rf(M),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&gu(R,O)}}finally{Cl(-1),Rf(w)}}(a,l,c))}function Zb(a,l,c=$r){const d=l.localNames;if(null!==d){let m=l.index+1;for(let _=0;_<d.length;_+=2){const E=d[_+1],w=-1===E?c(l,a):a[E];a[m++]=w}}}function fT(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Tp(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Tp(a,l,c,d,m,_,E,w,M,R){const O=20+d,V=O+m,B=function(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Ct);return c}(O,V),W="function"==typeof R?R():R;return B[1]={type:a,blueprint:B,template:c,queries:null,viewQuery:w,declTNode:l,data:B.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:M,consts:W,incompleteFirstPass:!1}}function pT(a,l,c,d){const m=TT(l);null===c?m.push(d):(m.push(c),a.firstCreatePass&&ah(a).push(d,m.length-1))}function mT(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const m=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,m):c[d]=[l,m]}return c}function ni(a,l,c,d,m,_,E,w){const M=$r(l,c);let O,R=l.inputs;!w&&null!=R&&(O=R[d])?(ST(a,c,O,d,m),dd(l)&&function(a,l){const c=Qr(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),m=null!=E?E(m,l.value||"",d):m,Cn(_)?_.setProperty(M,d,m):ws(d)||(M.setProperty?M.setProperty(d,m):M[d]=m))}function T_(a,l,c,d){let m=!1;if(Sf()){const _=function(a,l,c){const d=a.directiveRegistry;let m=null;if(d)for(let _=0;_<d.length;_++){const E=d[_];Qw(c,E.selectors,!1)&&(m||(m=[]),Xt(Ks(c,l),a,E.type),Kr(E)?(S_(a,c),m.unshift(E)):m.push(E))}return m}(a,l,c),E=null===d?null:{"":-1};if(null!==_){m=!0,oh(c,a.data.length,_.length);for(let O=0;O<_.length;O++){const V=_[O];V.providersResolver&&V.providersResolver(V)}let w=!1,M=!1,R=Ga(a,l,_.length,null);for(let O=0;O<_.length;O++){const V=_[O];c.mergedAttrs=Po(c.mergedAttrs,V.hostAttrs),Ap(a,c,l,R,V),jN(R,V,E),null!==V.contentQueries&&(c.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(c.flags|=128);const B=V.type.prototype;!w&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),w=!0),!M&&(B.ngOnChanges||B.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),M=!0),R++}!function(a,l){const d=l.directiveEnd,m=a.data,_=l.attrs,E=[];let w=null,M=null;for(let R=l.directiveStart;R<d;R++){const O=m[R],V=O.inputs,B=null===_||Ub(l)?null:GN(V,_);E.push(B),w=mT(V,R,w),M=mT(O.outputs,R,M)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=E,l.inputs=w,l.outputs=M}(a,c)}E&&function(a,l,c){if(l){const d=a.localNames=[];for(let m=0;m<l.length;m+=2){const _=c[l[m+1]];if(null==_)throw new Ae("301",`Export of name '${l[m+1]}' not found!`);d.push(l[m],_)}}}(c,d,E)}return c.mergedAttrs=Po(c.mergedAttrs,c.attrs),m}function D_(a,l,c,d,m,_){const E=_.hostBindings;if(E){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const M=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(w)!=M&&w.push(M),w.push(d,m,E)}}function gu(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function S_(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function jN(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;Kr(l)&&(c[""]=a)}}function oh(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function Ap(a,l,c,d,m){a.data[d]=m;const _=m.factory||(m.factory=ko(m.type)),E=new Dd(_,Kr(m),null);a.blueprint[d]=E,c[d]=E,D_(a,l,0,d,Ga(a,c,m.hostVars,Ct),m)}function yT(a,l,c){const d=$r(l,a),m=fT(c),_=a[10],E=Mp(a,E_(a,m,null,c.onPush?64:16,d,l,_,_.createRenderer(d,c),null,null));a[l.index]=E}function Za(a,l,c,d,m,_){const E=$r(a,l);!function(a,l,c,d,m,_,E){if(null==_)Cn(a)?a.removeAttribute(l,m,c):l.removeAttribute(m);else{const w=null==E?Me(_):E(_,d||"",m);Cn(a)?a.setAttribute(l,m,w,c):c?l.setAttributeNS(c,m,w):l.setAttribute(m,w)}}(l[11],E,_,a.value,c,d,m)}function zN(a,l,c,d,m,_){const E=_[l];if(null!==E){const w=d.setInput;for(let M=0;M<E.length;){const R=E[M++],O=E[M++],V=E[M++];null!==w?d.setInput(c,V,R,O):c[O]=V}}}function GN(a,l){let c=null,d=0;for(;d<l.length;){const m=l[d];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===c&&(c=[]),c.push(m,a[m],l[d+1])),d+=2}else d+=2;else d+=4}return c}function n0(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function bT(a,l){const c=Qr(l,a);if(Eg(c)){const d=c[1];80&c[2]?Wa(d,c,d.template,c[8]):c[5]>0&&I_(c)}}function I_(a){for(let d=l_(a);null!==d;d=Bw(d))for(let m=10;m<d.length;m++){const _=d[m];if(1024&_[2]){const E=_[1];Wa(E,_,E.template,_[8])}else _[5]>0&&I_(_)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const m=Qr(c[d],a);Eg(m)&&m[5]>0&&I_(m)}}function ET(a,l){const c=Qr(l,a),d=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),qa(d,c,c[8])}function Mp(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function r0(a){for(;a;){a[2]|=64;const l=yp(a);if(Xn(a)&&!l)return a;a=l}return null}function s0(a,l,c){const d=l[10];d.begin&&d.begin();try{Wa(a,l,a.template,c)}catch(m){throw M_(l,m),m}finally{d.end&&d.end()}}function o0(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=Wd(c),m=d[1];C_(m,d,m.template,c)}}(a[8])}function xp(a,l,c){zc(0),l(a,c)}const wT=(()=>Promise.resolve(null))();function TT(a){return a[7]||(a[7]=[])}function ah(a){return a.cleanup||(a.cleanup=[])}function M_(a,l){const c=a[9],d=c?c.get(y,null):null;d&&d.handleError(l)}function ST(a,l,c,d,m){for(let _=0;_<c.length;){const E=c[_++],w=c[_++],M=l[E],R=a.data[E];null!==R.setInput?R.setInput(M,m,d,w):M[w]=m}}function oo(a,l,c){const d=_l(l,a);!function(a,l,c){Cn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function Rp(a,l,c){let d=c?a.styles:null,m=c?a.classes:null,_=0;if(null!==l)for(let E=0;E<l.length;E++){const w=l[E];"number"==typeof w?_=w:1==_?m=X(m,w):2==_&&(d=X(d,w+": "+l[++E]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=m:a.classesWithoutHost=m}const _u=new xn("INJECTOR",-1);class IT{get(l,c=Kc){if(c===Kc){const d=new Error(`NullInjectorError: No provider for ${oe(l)}!`);throw d.name="NullInjectorError",d}return c}}const yu=new xn("Set Injector scope."),kp={},ix={};let x_;function AT(){return void 0===x_&&(x_=new IT),x_}function R_(a,l=null,c=null,d){return new sx(a,c,l||AT(),d)}class sx{constructor(l,c,d,m=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];c&&Ss(c,w=>this.processProvider(w,l,c)),Ss([l],w=>this.processInjectorType(w,[],_)),this.records.set(_u,lh(void 0,this));const E=this.records.get(yu);this.scope=null!=E?E.value:null,this.source=m||("object"==typeof l?null:oe(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Kc,d=ht.Default){this.assertNotDestroyed();const m=Nt(this),_=Ji(void 0);try{if(!(d&ht.SkipSelf)){let w=this.records.get(l);if(void 0===w){const M=("function"==typeof(a=l)||"object"==typeof a&&a instanceof xn)&&Mr(l);w=M&&this.injectableDefInScope(M)?lh(k_(l),kp):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(d&ht.Self?AT():this.parent).get(l,c=d&ht.Optional&&c===Kc?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[$o]=E[$o]||[]).unshift(oe(l)),m)throw E;return yi(E,l,"R3InjectorError",this.source)}throw E}finally{Ji(_),Nt(m)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,m)=>l.push(oe(m))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,d){if(!(l=G(l)))return!1;let m=So(l);const _=null==m&&l.ngModule||void 0,E=void 0===_?l:_,w=-1!==d.indexOf(E);if(void 0!==_&&(m=So(_)),null==m)return!1;if(null!=m.imports&&!w){let O;d.push(E);try{Ss(m.imports,V=>{this.processInjectorType(V,c,d)&&(void 0===O&&(O=[]),O.push(V))})}finally{}if(void 0!==O)for(let V=0;V<O.length;V++){const{ngModule:B,providers:W}=O[V];Ss(W,te=>this.processProvider(te,B,W||Q))}}this.injectorDefTypes.add(E);const M=ko(E)||(()=>new E);this.records.set(E,lh(M,kp));const R=m.providers;if(null!=R&&!w){const O=l;Ss(R,V=>this.processProvider(V,O,R))}return void 0!==_&&void 0!==l.providers}processProvider(l,c,d){let m=$l(l=G(l))?l:G(l&&l.provide);const _=c0(a=l)?lh(void 0,a.useValue):lh(l0(a),kp);var a;if($l(l)||!0!==l.multi)this.records.get(m);else{let E=this.records.get(m);E||(E=lh(void 0,kp,!0),E.factory=()=>jo(E.multi),this.records.set(m,E)),m=l,E.multi.push(l)}this.records.set(m,_)}hydrate(l,c){return c.value===kp&&(c.value=ix,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=G(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function k_(a){const l=Mr(a),c=null!==l?l.factory:ko(a);if(null!==c)return c;if(a instanceof xn)throw new Error(`Token ${oe(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const d=Uo(l,"?");throw new Error(`Can't resolve all parameters for ${oe(a)}: (${d.join(", ")}).`)}const c=function(a){const l=a&&(a[zs]||a[Gs]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function l0(a,l,c){let d;if($l(a)){const m=G(a);return ko(m)||k_(m)}if(c0(a))d=()=>G(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...jo(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>_n(G(a.useExisting));else{const m=G(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return ko(m)||k_(m);d=()=>new m(...jo(a.deps))}return d}function lh(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function c0(a){return null!==a&&"object"==typeof a&&Ml in a}function $l(a){return"function"==typeof a}const u0=function(a,l,c){return function(a,l=null,c=null,d){const m=R_(a,l,c,d);return m._resolveInjectorDefTypes(),m}({name:c},l,a,c)};let Ln=(()=>{class a{static create(c,d){return Array.isArray(c)?u0(c,d,""):u0(c.providers,c.parent,c.name||"")}}return a.THROW_IF_NOT_FOUND=Kc,a.NULL=new IT,a.\u0275prov=hn({token:a,providedIn:"any",factory:()=>_n(_u)}),a.__NG_ELEMENT_ID__=-1,a})();function _x(a,l){wl(Wd(a)[1],vn())}function L_(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let m;if(Kr(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");m=l.\u0275dir}if(m){if(c){d.push(m);const E=a;E.inputs=V_(a.inputs),E.declaredInputs=V_(a.declaredInputs),E.outputs=V_(a.outputs);const w=m.hostBindings;w&&HT(a,w);const M=m.viewQuery,R=m.contentQueries;if(M&&f0(a,M),R&&U_(a,R),pe(a.inputs,m.inputs),pe(a.declaredInputs,m.declaredInputs),pe(a.outputs,m.outputs),Kr(m)&&m.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(m.data.animation)}}const _=m.features;if(_)for(let E=0;E<_.length;E++){const w=_[E];w&&w.ngInherit&&w(a),w===L_&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const m=a[d];m.hostVars=l+=m.hostVars,m.hostAttrs=Po(m.hostAttrs,c=Po(c,m.hostAttrs))}}(d)}function V_(a){return a===ee?{}:a===Q?[]:a}function f0(a,l){const c=a.viewQuery;a.viewQuery=c?(d,m)=>{l(d,m),c(d,m)}:l}function U_(a,l){const c=a.contentQueries;a.contentQueries=c?(d,m,_)=>{l(d,m,_),c(d,m,_)}:l}function HT(a,l){const c=a.hostBindings;a.hostBindings=c?(d,m)=>{l(d,m),c(d,m)}:l}let Lp=null;function vu(){if(!Lp){const a=gn.Symbol;if(a&&a.iterator)Lp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Lp=d)}}}return Lp}function hh(a){return!!g0(a)&&(Array.isArray(a)||!(a instanceof Map)&&vu()in a)}function g0(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Gr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function $_(a,l,c,d){const m=$e();return Gr(m,Ys(),l)&&(zt(),Za(Yn(),m,a,l,c,d)),$_}function H_(a,l,c,d,m,_,E,w){const M=$e(),R=zt(),O=a+20,V=R.firstCreatePass?function(a,l,c,d,m,_,E,w,M){const R=l.consts,O=wp(l,a,4,E||null,_a(R,w));T_(l,c,O,_a(R,M)),wl(l,O);const V=O.tViews=Tp(2,O,d,m,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,R);return null!==l.queries&&(l.queries.template(l,O),V.queries=l.queries.embeddedTView(O)),O}(O,R,M,l,c,d,m,_,E):R.data[O];Fi(V,!1);const B=M[11].createComment("");th(R,M,B,V),_r(B,M),Mp(M,M[O]=n0(B,M,B,V)),pl(V)&&ih(R,M,V),null!=E&&Zb(M,V,w)}function Eh(a,l=ht.Default){const c=$e();return null===c?_n(a,l):Dl(vn(),c,G(a),l)}function W_(a,l,c){const d=$e();return Gr(d,Ys(),l)&&ni(zt(),Yn(),d,a,l,d[11],c,!1),W_}function Z_(a,l,c,d,m){const E=m?"class":"style";ST(a,c,l.inputs[E],E,d)}function qp(a,l,c,d){const m=$e(),_=zt(),E=20+a,w=m[11],M=m[E]=Rb(w,l,Tt.lFrame.currentNamespace),R=_.firstCreatePass?function(a,l,c,d,m,_,E){const w=l.consts,R=wp(l,a,2,m,_a(w,_));return T_(l,c,R,_a(w,E)),null!==R.attrs&&Rp(R,R.attrs,!1),null!==R.mergedAttrs&&Rp(R,R.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,R),R}(E,_,m,0,l,c,d):_.data[E];Fi(R,!0);const O=R.mergedAttrs;null!==O&&Cs(w,M,O);const V=R.classes;null!==V&&Lb(w,M,V);const B=R.styles;null!==B&&Yw(w,M,B),64!=(64&R.flags)&&th(_,m,M,R),0===Tt.lFrame.elementDepthCount&&_r(M,m),Tt.lFrame.elementDepthCount++,pl(R)&&(ih(_,m,R),w_(_,R,m)),null!==d&&Zb(m,R)}function Wp(){let a=vn();vd()?bl():(a=a.parent,Fi(a,!1));const l=a;Tt.lFrame.elementDepthCount--;const c=zt();c.firstCreatePass&&(wl(c,a),Lc(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Z_(c,l,$e(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Z_(c,l,$e(),l.stylesWithoutHost,!1)}function Y_(a,l,c,d){qp(a,l,c,d),Wp()}function K_(a,l,c){const d=$e(),m=zt(),_=a+20,E=m.firstCreatePass?function(a,l,c,d,m){const _=l.consts,E=_a(_,d),w=wp(l,a,8,"ng-container",E);return null!==E&&Rp(w,E,!0),T_(l,c,w,_a(_,m)),null!==l.queries&&l.queries.elementStart(l,w),w}(_,m,d,l,c):m.data[_];Fi(E,!0);const w=d[_]=d[11].createComment("");th(m,d,w,E),_r(w,d),pl(E)&&(ih(m,d,E),w_(m,E,d)),null!=c&&Zb(d,E)}function F0(){let a=vn();const l=zt();vd()?bl():(a=a.parent,Fi(a,!1)),l.firstCreatePass&&(wl(l,a),Lc(a)&&l.queries.elementEnd(a))}function Q_(a,l,c){K_(a,l,c),F0()}function Yp(){return $e()}function Kp(a){return!!a&&"function"==typeof a.then}function L0(a){return!!a&&"function"==typeof a.subscribe}const J_=L0;function X_(a,l,c,d){const m=$e(),_=zt(),E=vn();return function(a,l,c,d,m,_,E,w){const M=pl(d),O=a.firstCreatePass&&ah(a),V=l[8],B=TT(l);let W=!0;if(3&d.type||w){const de=$r(d,l),qe=w?w(de):de,Ne=B.length,ft=w?xt=>w(wn(xt[d.index])):d.index;if(Cn(c)){let xt=null;if(!w&&M&&(xt=function(a,l,c,d){const m=a.cleanup;if(null!=m)for(let _=0;_<m.length-1;_+=2){const E=m[_];if(E===c&&m[_+1]===d){const w=l[7],M=m[_+2];return w.length>M?w[M]:null}"string"==typeof E&&(_+=2)}return null}(a,l,m,d.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=_,xt.__ngLastListenerFn__=_,W=!1;else{_=wu(d,l,V,_,!1);const Jt=c.listen(qe,m,_);B.push(_,Jt),O&&O.push(m,ft,Ne,Ne+1)}}else _=wu(d,l,V,_,!0),qe.addEventListener(m,_,E),B.push(_),O&&O.push(m,ft,Ne,E)}else _=wu(d,l,V,_,!1);const te=d.outputs;let be;if(W&&null!==te&&(be=te[m])){const de=be.length;if(de)for(let qe=0;qe<de;qe+=2){const Lr=l[be[qe]][be[qe+1]].subscribe(_),vo=B.length;B.push(_,Lr),O&&O.push(m,d.index,vo,-(vo+1))}}}(_,m,m[11],E,a,l,!!c,d),X_}function Jp(a,l,c,d){try{return!1!==c(d)}catch(m){return M_(a,m),!1}}function wu(a,l,c,d,m){return function _(E){if(E===Function)return d;const w=2&a.flags?Qr(a.index,l):l;0==(32&l[2])&&r0(w);let M=Jp(l,0,d,E),R=_.__ngNextListenerFn__;for(;R;)M=Jp(l,0,R,E)&&M,R=R.__ngNextListenerFn__;return m&&!1===M&&(E.preventDefault(),E.returnValue=!1),M}}function Zl(a=1){return function(a){return(Tt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,Tt.lFrame.contextLView))[8]}(a)}function U0(a,l){let c=null;const d=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let m=0;m<l.length;m++){const _=l[m];if("*"!==_){if(null===d?Qw(a,_,!0):PN(d,_))return m}else c=m}return c}function iD(a){const l=$e()[16][6];if(!l.projection){const d=l.projection=Uo(a?a.length:1,null),m=d.slice();let _=l.child;for(;null!==_;){const E=a?U0(_,a):0;null!==E&&(m[E]?m[E].projectionNext=_:d[E]=_,m[E]=_),_=_.next}}}function ey(a,l=0,c){const d=$e(),m=zt(),_=wp(m,20+a,16,null,c||null);null===_.projection&&(_.projection=l),bl(),64!=(64&_.flags)&&function(a,l,c){Bl(l[11],0,l,c,jw(a,c,l),Xd(c.parent||l[6],c,l))}(m,d,_)}function oD(a,l,c,d,m){const _=a[c+1],E=null===l;let w=d?so(_):ti(_),M=!1;for(;0!==w&&(!1===M||E);){const O=a[w+1];Mx(a[w],l)&&(M=!0,a[w+1]=d?qo(O):nh(O)),w=d?so(O):ti(O)}M&&(a[c+1]=d?nh(_):qo(_))}function Mx(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Bo(a,l)>=0}function H0(a,l,c){return ls(a,l,c,!1),H0}function ny(a,l){return ls(a,l,null,!0),ny}function ls(a,l,c,d){const m=$e(),_=zt(),E=function(a){const l=Tt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}(2);_.firstUpdatePass&&function(a,l,c,d){const m=a.data;if(null===m[c+1]){const _=m[Hr()],E=function(a,l){return l>=a.expandoStartIndex}(a,c);(function(a,l){return 0!=(a.flags&(l?16:32))})(_,d)&&null===l&&!E&&(l=!1),l=function(a,l,c,d){const m=function(a){const l=Tt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let _=d?l.residualClasses:l.residualStyles;if(null===m)0===(d?l.classBindings:l.styleBindings)&&(c=Jl(c=Su(null,a,l,c,d),l.attrs,d),_=null);else{const E=l.directiveStylingLast;if(-1===E||a[E]!==m)if(c=Su(m,a,l,c,d),null===_){let M=function(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==ti(d))return a[so(d)]}(a,l,d);void 0!==M&&Array.isArray(M)&&(M=Su(null,a,l,M[1],d),M=Jl(M,l.attrs,d),function(a,l,c,d){a[so(c?l.classBindings:l.styleBindings)]=d}(a,l,d,M))}else _=function(a,l,c){let d;const m=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<m;_++)d=Jl(d,a[_].hostAttrs,c);return Jl(d,l.attrs,c)}(a,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),c}(m,_,l,d),function(a,l,c,d,m,_){let E=_?l.classBindings:l.styleBindings,w=so(E),M=ti(E);a[d]=c;let O,R=!1;if(Array.isArray(c)){const V=c;O=V[1],(null===O||Bo(V,O)>0)&&(R=!0)}else O=c;if(m)if(0!==M){const B=so(a[w+1]);a[d+1]=vp(B,w),0!==B&&(a[B+1]=__(a[B+1],d)),a[w+1]=function(a,l){return 131071&a|l<<17}(a[w+1],d)}else a[d+1]=vp(w,0),0!==w&&(a[w+1]=__(a[w+1],d)),w=d;else a[d+1]=vp(M,0),0===w?w=d:a[M+1]=__(a[M+1],d),M=d;R&&(a[d+1]=nh(a[d+1])),oD(a,O,d,!0),oD(a,O,d,!1),function(a,l,c,d,m){const _=m?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&Bo(_,l)>=0&&(c[d+1]=qo(c[d+1]))}(l,O,a,d,_),E=vp(w,M),_?l.classBindings=E:l.styleBindings=E}(m,_,l,c,E,d)}}(_,a,E,d),l!==Ct&&Gr(m,E,l)&&function(a,l,c,d,m,_,E,w){if(!(3&l.type))return;const M=a.data,R=M[w+1];Gn(function(a){return 1==(1&a)}(R)?mD(M,l,c,m,ti(R),E):void 0)||(Gn(_)||function(a){return 2==(2&a)}(R)&&(_=mD(M,null,c,m,w,E)),function(a,l,c,d,m){const _=Cn(a);if(l)m?_?a.addClass(c,d):c.classList.add(d):_?a.removeClass(c,d):c.classList.remove(d);else{let E=-1===d.indexOf("-")?void 0:Rs.DashCase;if(null==m)_?a.removeStyle(c,d,E):c.style.removeProperty(d);else{const w="string"==typeof m&&m.endsWith("!important");w&&(m=m.slice(0,-10),E|=Rs.Important),_?a.setStyle(c,d,m,E):c.style.setProperty(d,m,w?"important":"")}}}(d,E,_l(Hr(),c),m,_))}(_,_.data[Hr()],m,m[11],a,m[E+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=oe(eo(a)))),a}(l,c),d,E)}function Su(a,l,c,d,m){let _=null;const E=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<E&&(_=l[w],d=Jl(d,_.hostAttrs,m),_!==a);)w++;return null!==a&&(c.directiveStylingLast=w),d}function Jl(a,l,c){const d=c?1:2;let m=-1;if(null!==l)for(let _=0;_<l.length;_++){const E=l[_];"number"==typeof E?m=E:m===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),jn(a,E,!!c||l[++_]))}return void 0===a?null:a}function mD(a,l,c,d,m,_){const E=null===l;let w;for(;m>0;){const M=a[m],R=Array.isArray(M),O=R?M[1]:M,V=null===O;let B=c[m+1];B===Ct&&(B=V?Q:void 0);let W=V?ir(B,d):O===d?B:void 0;if(R&&!Gn(W)&&(W=ir(M,d)),Gn(W)&&(w=W,E))return w;const te=a[m+1];m=E?so(te):ti(te)}if(null!==l){let M=_?l.residualClasses:l.residualStyles;null!=M&&(w=ir(M,d))}return w}function Gn(a){return void 0!==a}function yD(a,l=""){const c=$e(),d=zt(),m=a+20,_=d.firstCreatePass?wp(d,m,1,l,null):d.data[m],E=c[m]=function(a,l){return Cn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);th(d,c,E,_),Fi(_,!1)}function q0(a){return sy("",a,""),q0}function sy(a,l,c){const d=$e(),m=function(a,l,c,d){return Gr(a,Ys(),c)?l+Me(c)+d:Ct}(d,a,l,c);return m!==Ct&&oo(d,Hr(),m),sy}function cy(a,l,c){const d=$e();return Gr(d,Ys(),l)&&ni(zt(),Yn(),d,a,l,d[11],c,!0),cy}const Au=void 0;var cE=["en",[["a","p"],["AM","PM"],Au],[["AM","PM"],Au,Au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Au,"{1} 'at' {0}",Au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Th={};function uy(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=ID(l);if(c)return c;const d=l.split("-")[0];if(c=ID(d),c)return c;if("en"===d)return cE;throw new Error(`Missing locale data for the locale "${a}".`)}function lm(a){return uy(a)[gt.PluralCase]}function ID(a){return a in Th||(Th[a]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[a]),Th[a]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const Ze="en-US";let AD=Ze;function et(a){pt(a,"Expected localeId to be defined"),"string"==typeof a&&(AD=a.toLowerCase().replace(/_/g,"-"))}function kh(a,l,c,d,m){if(a=G(a),Array.isArray(a))for(let _=0;_<a.length;_++)kh(a[_],l,c,d,m);else{const _=zt(),E=$e();let w=$l(a)?a:G(a.provide),M=l0(a);const R=vn(),O=1048575&R.providerIndexes,V=R.directiveStart,B=R.providerIndexes>>20;if($l(a)||!a.multi){const W=new Dd(M,m,Eh),te=mm(w,l,m?O:O+B,V);-1===te?(Xt(Ks(R,E),_,w),pm(_,a,l.length),l.push(w),R.directiveStart++,R.directiveEnd++,m&&(R.providerIndexes+=1048576),c.push(W),E.push(W)):(c[te]=W,E[te]=W)}else{const W=mm(w,l,O+B,V),te=mm(w,l,O,O+B),be=W>=0&&c[W],de=te>=0&&c[te];if(m&&!de||!m&&!be){Xt(Ks(R,E),_,w);const qe=function(a,l,c,d,m){const _=new Dd(a,c,Eh);return _.multi=[],_.index=l,_.componentProviders=0,vy(_,m,d&&!c),_}(m?Fs:Nh,c.length,m,d,M);!m&&de&&(c[te].providerFactory=qe),pm(_,a,l.length,0),l.push(w),R.directiveStart++,R.directiveEnd++,m&&(R.providerIndexes+=1048576),c.push(qe),E.push(qe)}else pm(_,a,W>-1?W:te,vy(c[m?te:W],M,!m&&d));!m&&d&&de&&c[te].componentProviders++}}}function pm(a,l,c,d){const m=$l(l);if(m||function(a){return!!a.useClass}(l)){const E=(l.useClass||l).prototype.ngOnDestroy;if(E){const w=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const M=w.indexOf(c);-1===M?w.push(c,[d,E]):w[M+1].push(d,E)}else w.push(c,E)}}}function vy(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function mm(a,l,c,d){for(let m=c;m<d;m++)if(l[m]===a)return m;return-1}function Nh(a,l,c,d){return by(this.multi,[])}function Fs(a,l,c,d){const m=this.multi;let _;if(this.providerFactory){const E=this.providerFactory.componentProviders,w=Tn(c,c[1],this.providerFactory.index,d);_=w.slice(0,E),by(m,_);for(let M=E;M<w.length;M++)_.push(w[M])}else _=[],by(m,_);return _}function by(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function vE(a,l=[]){return c=>{c.providersResolver=(d,m)=>function(a,l,c){const d=zt();if(d.firstCreatePass){const m=Kr(a);kh(c,d.data,d.blueprint,m,!0),kh(l,d.data,d.blueprint,m,!1)}}(d,m?m(a):a,l)}}class Oh{}const GD="ngComponent";class qD{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${oe(a)}. Did you add it to @NgModule.entryComponents?`);return l[GD]=a,l}(l)}}let ku=(()=>{class a{}return a.NULL=new qD,a})();function Ey(...a){}function uo(a,l){return new ho($r(a,l))}const Ou=function(){return uo(vn(),$e())};let ho=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Ou,a})();function Pu(a){return a instanceof ho?a.nativeElement:a}class _m{}let ym=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>or(),a})();const or=function(){const a=$e(),c=Qr(vn().index,a);return function(a){return a[11]}(ts(c)?c:a)};let TE=(()=>{class a{}return a.\u0275prov=hn({token:a,providedIn:"root",factory:()=>null}),a})();class Ty{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const DE=new Ty("12.2.8");class SE{constructor(){}supports(l){return hh(l)}create(l){return new ic(l)}}const ZD=(a,l)=>l;class ic{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ZD}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,m=0,_=null;for(;c||d;){const E=!d||c&&c.currentIndex<Ph(d,m,_)?c:d,w=Ph(E,m,_),M=E.currentIndex;if(E===d)m--,d=d._nextRemoved;else if(c=c._next,null==E.previousIndex)m++;else{_||(_=[]);const R=w-m,O=M-m;if(R!=O){for(let B=0;B<R;B++){const W=B<_.length?_[B]:_[B]=0,te=W+B;O<=te&&te<R&&(_[B]=W+1)}_[E.previousIndex]=O-R}}w!==M&&l(E,w,M)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!hh(l))throw new Error(`Error trying to diff '${oe(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,_,E,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)_=l[w],E=this._trackByFn(w,_),null!==c&&Object.is(c.trackById,E)?(d&&(c=this._verifyReinsertion(c,_,E,w)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,E,w),d=!0),c=c._next}else m=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[vu()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,w=>{E=this._trackByFn(m,w),null!==c&&Object.is(c.trackById,E)?(d&&(c=this._verifyReinsertion(c,w,E,m)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,E,m),d=!0),c=c._next,m++}),this.length=m;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,m){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,m))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,m)):l=this._addAfter(new YD(c,d),_,m),l}_verifyReinsertion(l,c,d,m){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,_=l._nextRemoved;return null===m?this._removalsHead=_:m._nextRemoved=_,null===_?this._removalsTail=m:_._prevRemoved=m,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const m=null===c?this._itHead:c._next;return l._next=m,l._prev=c,null===m?this._itTail=l:m._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new IE),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IE),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class YD{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KD{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class IE{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new KD,this.map.set(c,d)),d.add(l)}get(l,c){const m=this.map.get(l);return m?m.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ph(a,l,c){const d=a.previousIndex;if(null===d)return d;let m=0;return c&&d<c.length&&(m=c[d]),d+l+m}class Sy{constructor(){}supports(l){return l instanceof Map||g0(l)}create(){return new t1}}class t1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||g0(l)))throw new Error(`Error trying to diff '${oe(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,m)=>{if(c&&c.key===m)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(m,d);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,c);const _=m._prev,E=m._next;return _&&(_._next=E),E&&(E._prev=_),m._next=null,m._prev=null,m}const d=new ar(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class ar{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function en(){return new vm([new SE])}let vm=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const m=d.factories.slice();c=c.concat(m)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||en()),deps:[[a,new mr,new Is]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:en}),a})();function lr(){return new Fu([new Sy])}let Fu=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const m=d.factories.slice();c=c.concat(m)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||lr()),deps:[[a,new mr,new Is]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=hn({token:a,providedIn:"root",factory:lr}),a})();function cr(a,l,c,d,m=!1){for(;null!==c;){const _=l[c.index];if(null!==_&&d.push(wn(_)),Pi(_))for(let w=10;w<_.length;w++){const M=_[w],R=M[1].firstChild;null!==R&&cr(M[1],M,R,d)}const E=c.type;if(8&E)cr(a,l,c.child,d);else if(32&E){const w=Jd(c,l);let M;for(;M=w();)d.push(M)}else if(16&E){const w=Ob(l,c);if(Array.isArray(w))d.push(...w);else{const M=yp(l[16]);cr(M[1],M,w,d,!0)}}c=m?c.projectionNext:c.next}return d}class In{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return cr(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Pi(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(d_(l,d),Vo(c,d))}this._attachedToViewContainer=!1}Hw(this._lView[1],this._lView)}onDestroy(l){pT(this._lView[1],this._lView,null,l)}markForCheck(){r0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){s0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){bd(!0);try{s0(a,l,c)}finally{bd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,pu(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class JD extends In{constructor(l){super(l),this._view=l}detectChanges(){o0(this._view)}checkNoChanges(){!function(a){bd(!0);try{o0(a)}finally{bd(!1)}}(this._view)}get context(){return null}}const r1=function(a){return function(a,l,c){if(dd(a)&&!c){const d=Qr(a.index,l);return new In(d,d)}return 47&a.type?new In(l[16],l):null}(vn(),$e(),16==(16&a))};let AE=(()=>{class a{}return a.__NG_ELEMENT_ID__=r1,a})();const s1=[new Sy],o1=new vm([new SE]),Iy=new Fu(s1),My=function(){return Em(vn(),$e())};let Fh=(()=>{class a{}return a.__NG_ELEMENT_ID__=My,a})();const eS=Fh,tS=class extends eS{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=E_(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),qa(c,d,l),new In(d)}};function Em(a,l){return 4&a.type?new tS(l,a,uo(a,l)):null}class sc{}class nS{}const Cm=function(){return po(vn(),$e())};let wm=(()=>{class a{}return a.__NG_ELEMENT_ID__=Cm,a})();const Or=wm,xy=class extends Or{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new Sl(this._hostTNode,this._hostLView)}get parentInjector(){const l=it(this._hostTNode,this._hostLView);if(Pn(l)){const c=Wc(l,this._hostLView),d=ba(l);return new Sl(c[1].data[d+8],c)}return new Sl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=ME(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const m=l.createEmbeddedView(c||{});return this.insert(m,d),m}createComponent(l,c,d,m,_){const E=d||this.parentInjector;if(!_&&null==l.ngModule&&E){const M=E.get(sc,null);M&&(_=M)}const w=l.create(E,m,void 0,_);return this.insert(w.hostView,c),w}insert(l,c){const d=l._lView,m=d[1];if(Pi(d[3])){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const V=d[3],B=new xy(V,V[6],V[3]);B.detach(B.indexOf(l))}}const _=this._adjustIndex(c),E=this._lContainer;!function(a,l,c,d){const m=10+d,_=c.length;d>0&&(c[m-1][4]=l),d<_-10?(l[4]=c[m],Sa(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const E=l[17];null!==E&&c!==E&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(E,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(m,d,E,_);const w=Pb(_,E),M=d[11],R=h_(M,E[7]);return null!==R&&function(a,l,c,d,m,_){d[0]=m,d[6]=l,pu(a,d,c,1,m,_)}(m,E[6],M,d,R,w),l.attachToViewContainerRef(),Sa(Lu(E),_,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=ME(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=d_(this._lContainer,c);d&&(Vo(Lu(this._lContainer),c),Hw(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=d_(this._lContainer,c);return d&&null!=Vo(Lu(this._lContainer),c)?new In(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function ME(a){return a[8]}function Lu(a){return a[8]||(a[8]=[])}function po(a,l){let c;const d=l[a.index];if(Pi(d))c=d;else{let m;if(8&a.type)m=wn(d);else{const _=l[11];m=_.createComment("");const E=$r(a,l);Ul(_,h_(_,E),m,function(a,l){return Cn(a)?a.nextSibling(l):l.nextSibling}(_,E),!1)}l[a.index]=c=n0(d,l,m,a),Mp(l,c)}return new xy(c,a,l)}const uc={};class qE extends ku{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=fr(l);return new SS(c,this.ngModule)}}function wS(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const DS=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uu});class SS extends Oh{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(eT).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return wS(this.componentDef.inputs)}get outputs(){return wS(this.componentDef.outputs)}create(l,c,d,m){const _=(m=m||this.ngModule)?function(a,l){return{get:(c,d,m)=>{const _=a.get(c,uc,m);return _!==uc||d===uc?_:l.get(c,d,m)}}}(l,m.injector):l,E=_.get(_m,Ws),w=_.get(TE,null),M=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",O=d?function(a,l,c){if(Cn(a))return a.selectRootElement(l,c===Qe.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(M,d,this.componentDef.encapsulation):Rb(E.createRenderer(null,this.componentDef),R,function(a){const l=a.toLowerCase();return"svg"===l?Uc:"math"===l?"http://www.w3.org/1998/MathML/":null}(R)),V=this.componentDef.onPush?576:528,B=function(a,l){return{components:[],scheduler:a||uu,clean:wT,playerHandler:l||null,flags:0}}(),W=Tp(0,null,null,1,0,null,null,null,null,null),te=E_(null,W,B,V,null,null,E,M,w,_);let be,de;wd(te);try{const qe=function(a,l,c,d,m,_){const E=c[1];c[20]=a;const M=wp(E,20,2,"#host",null),R=M.mergedAttrs=l.hostAttrs;null!==R&&(Rp(M,R,!0),null!==a&&(Cs(m,a,R),null!==M.classes&&Lb(m,a,M.classes),null!==M.styles&&Yw(m,a,M.styles)));const O=d.createRenderer(a,l),V=E_(c,fT(l),null,l.onPush?64:16,c[20],M,d,O,_||null,null);return E.firstCreatePass&&(Xt(Ks(M,c),E,l.type),S_(E,M),oh(M,c.length,1)),Mp(c,V),c[20]=V}(O,this.componentDef,te,E,M);if(O)if(d)Cs(M,O,["ng-version",DE.full]);else{const{attrs:Ne,classes:ft}=function(a){const l=[],c=[];let d=1,m=2;for(;d<a.length;){let _=a[d];if("string"==typeof _)2===m?""!==_&&l.push(_,a[++d]):8===m&&c.push(_);else{if(!ro(m))break;m=_}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);Ne&&Cs(M,O,Ne),ft&&ft.length>0&&Lb(M,O,ft.join(" "))}if(de=gd(W,20),void 0!==c){const Ne=de.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const xt=c[ft];Ne.push(null!=xt?Array.from(xt):null)}}be=function(a,l,c,d,m){const _=c[1],E=function(a,l,c){const d=vn();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Ap(a,d,l,Ga(a,l,1,null),c));const m=Tn(l,a,d.directiveStart,d);_r(m,l);const _=$r(d,l);return _&&_r(_,l),m}(_,c,l);if(d.components.push(E),a[8]=E,m&&m.forEach(M=>M(E,l)),l.contentQueries){const M=vn();l.contentQueries(1,E,M.directiveStart)}const w=vn();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Cl(w.index),D_(c[1],w,0,w.directiveStart,w.directiveEnd,l),gu(l,E)),E}(qe,this.componentDef,te,B,[_x]),qa(W,te,null)}finally{Gc()}return new AS(this.componentType,be,uo(de,te),te,de)}}class AS extends class{}{constructor(l,c,d,m,_){super(),this.location=d,this._rootLView=m,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new JD(m),this.componentType=l}get injector(){return new Sl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const _o=new Map;class C1 extends sc{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qE(this);const d=ki(l),m=l[Rt]||null;m&&et(m),this._bootstrapComponents=Hi(d.bootstrap),this._r3Injector=R_(l,c,[{provide:sc,useValue:this},{provide:ku,useValue:this.componentFactoryResolver}],oe(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Ln.THROW_IF_NOT_FOUND,d=ht.Default){return l===Ln||l===sc||l===_u?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Mm extends nS{constructor(l){super(),this.moduleType=l,null!==ki(l)&&function(a){const l=new Set;!function c(d){const m=ki(d,!0),_=m.id;null!==_&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${oe(l)} vs ${oe(l.name)}`)}(_,_o.get(_),d),_o.set(_,d));const E=Hi(m.imports);for(const w of E)l.has(w)||(l.add(w),c(w))}(a)}(l)}create(l){return new C1(this.moduleType,l)}}function Gy(a,l,c,d){return function(a,l,c,d,m,_){const E=l+c;return Gr(a,E,m)?function(a,l,c){return a[l]=c}(a,E+1,_?d.call(_,m):d(m)):function(a,l){const c=a[l];return c===Ct?void 0:c}(a,E+1)}($e(),function(){const a=Tt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}(),a,l,c,d)}function rC(a){return l=>{setTimeout(a,void 0,l)}}const ia=class extends h.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var m,_,E;let w=l,M=c||(()=>null),R=d;if(l&&"object"==typeof l){const V=l;w=null===(m=V.next)||void 0===m?void 0:m.bind(V),M=null===(_=V.error)||void 0===_?void 0:_.bind(V),R=null===(E=V.complete)||void 0===E?void 0:E.bind(V)}this.__isAsync&&(M=rC(M),w&&(w=rC(w)),R&&(R=rC(R)));const O=super.subscribe({next:w,error:M,complete:R});return l instanceof le.w&&l.add(O),O}};function M1(){return this._results[vu()]()}class Nm{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=vu(),d=Nm.prototype;d[c]||(d[c]=M1)}get changes(){return this._changes||(this._changes=new ia)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const m=$i(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let m=a[d],_=l[d];if(c&&(m=c(m),_=c(_)),_!==m)return!1}return!0}(d._results,m,c))&&(d._results=m,d.length=m.length,d.last=m[this.length-1],d.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ky{constructor(l){this.queryList=l,this.matches=null}clone(){return new Ky(this.queryList)}setDirty(){this.queryList.setDirty()}}class iC{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,m=[];for(let _=0;_<d;_++){const E=c.getByIndex(_);m.push(this.queries[E.indexInDeclarationView].clone())}return new iC(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==ev(l,c).matches&&this.queries[c].setDirty()}}class NS{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class sC{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const m=null!==c?c.length:0,_=this.getByIndex(d).embeddedTView(l,m);_&&(_.indexInDeclarationView=d,null!==c?c.push(_):c=[_])}return null!==c?new sC(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class oC{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new oC(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let m=0;m<d.length;m++){const _=d[m];this.matchTNodeWithReadOption(l,c,x1(c,_)),this.matchTNodeWithReadOption(l,c,Fo(c,l,_,!1,!1))}else d===Fh?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Fo(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const m=this.metadata.read;if(null!==m)if(m===ho||m===wm||m===Fh&&4&c.type)this.addMatch(c.index,-2);else{const _=Fo(c,l,m,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function x1(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function aC(a,l,c,d){return-1===c?function(a,l){return 11&a.type?uo(a,l):4&a.type?Em(a,l):null}(l,a):-2===c?function(a,l,c){return c===ho?uo(l,a):c===Fh?Em(l,a):c===wm?po(l,a):void 0}(a,l,d):Tn(a,a[1],c,l)}function Qy(a,l,c,d){const m=l[19].queries[d];if(null===m.matches){const _=a.data,E=c.matches,w=[];for(let M=0;M<E.length;M+=2){const R=E[M];w.push(R<0?null:aC(l,_[R],E[M+1],c.metadata.read))}m.matches=w}return m.matches}function Zh(a,l,c,d){const m=a.queries.getByIndex(c),_=m.matches;if(null!==_){const E=Qy(a,l,m,c);for(let w=0;w<_.length;w+=2){const M=_[w];if(M>0)d.push(E[w/2]);else{const R=_[w+1],O=l[-M];for(let V=10;V<O.length;V++){const B=O[V];B[17]===B[3]&&Zh(B[1],B,R,d)}if(null!==O[9]){const V=O[9];for(let B=0;B<V.length;B++){const W=V[B];Zh(W[1],W,R,d)}}}}}return d}function Yh(a){const l=$e(),c=zt(),d=wg();zc(d+1);const m=ev(c,d);if(a.dirty&&Tf(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const _=m.crossesNgTemplate?Zh(c,l,d,[]):Qy(c,l,m,d);a.reset(_,Pu),a.notifyOnChanges()}return!0}return!1}function Jy(a,l,c){const d=zt();d.firstCreatePass&&(uC(d,new NS(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),rl(d,$e(),l)}function lC(a,l,c,d){const m=zt();if(m.firstCreatePass){const _=vn();uC(m,new NS(l,c,d),_.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(m,a),2==(2&c)&&(m.staticContentQueries=!0)}rl(m,$e(),c)}function Xy(){return a=$e(),l=wg(),a[19].queries[l].queryList;var a,l}function rl(a,l,c){const d=new Nm(4==(4&c));pT(a,l,d,d.destroy),null===l[19]&&(l[19]=new iC),l[19].queries.push(new Ky(d))}function uC(a,l,c){null===a.queries&&(a.queries=new sC),a.queries.track(new oC(l,c))}function ev(a,l){return a.queries.getByIndex(l)}const wC=new xn("Application Initializer");let mc=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Ey,this.reject=Ey,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,m)=>{this.resolve=d,this.reject=m})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const _=this.appInits[m]();if(Kp(_))c.push(_);else if(J_(_)){const E=new Promise((w,M)=>{_.subscribe({complete:w,error:M})});c.push(E)}}Promise.all(c).then(()=>{d()}).catch(m=>{this.reject(m)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(_n(wC,8))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const aI=new xn("AppId"),z1={provide:aI,useFactory:function(){return`${Vm()}${Vm()}${Vm()}`},deps:[]};function Vm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lI=new xn("Platform Initializer"),uv=new xn("Platform ID"),DC=new xn("appBootstrapListener");let SC=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const dv=new xn("LocaleId"),uI=new xn("DefaultCurrencyCode");class pI{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}const Um=function(a){return new Mm(a)},mI=Um,q1=function(a){return Promise.resolve(Um(a))},gI=function(a){const l=Um(a),d=Hi(ki(a).declarations).reduce((m,_)=>{const E=fr(_);return E&&m.push(new SS(E)),m},[]);return new pI(l,d)},_I=gI,MC=function(a){return Promise.resolve(gI(a))};let Wu=(()=>{class a{constructor(){this.compileModuleSync=mI,this.compileModuleAsync=q1,this.compileModuleAndAllComponentsSync=_I,this.compileModuleAndAllComponentsAsync=MC}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();const RC=(()=>Promise.resolve(0))();function pv(a){"undefined"==typeof Zone?RC.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Wi{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ia(!1),this.onMicrotaskEmpty=new ia(!1),this.onStable=new ia(!1),this.onError=new ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!d&&c,m.shouldCoalesceRunChangeDetection=d,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let a=gn.requestAnimationFrame,l=gn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(gn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,PC(a),a.isCheckStableRunning=!0,gc(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),PC(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,m,_,E,w)=>{try{return vI(a),c.invokeTask(m,_,E,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),FC(a)}},onInvoke:(c,d,m,_,E,w,M)=>{try{return vI(a),c.invoke(m,_,E,w,M)}finally{a.shouldCoalesceRunChangeDetection&&l(),FC(a)}},onHasTask:(c,d,m,_)=>{c.hasTask(m,_),d===m&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,PC(a),gc(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,d,m,_)=>(c.handleError(m,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,m){const _=this._inner,E=_.scheduleEventTask("NgZoneEvent: "+m,l,NC,Ey,Ey);try{return _.runTask(E,c,d)}finally{_.cancelTask(E)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const NC={};function gc(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function PC(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function vI(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function FC(a){a._nesting--,gc(a)}class Y1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ia,this.onMicrotaskEmpty=new ia,this.onStable=new ia,this.onError=new ia}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,m){return l.apply(c,d)}}let LC=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wi.assertNotInAngularZone(),pv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,m){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==_),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:m})}whenStable(c,d,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,m){return[]}}return a.\u0275fac=function(c){return new(c||a)(_n(Wi))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})(),bI=(()=>{class a{constructor(){this._applications=new Map,VC.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return VC.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();class K1{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function Q1(a){VC=a}let VC=new K1,EI=!0,Zu=!1;function mv(){return Zu=!0,EI}function UC(){if(Zu)throw new Error("Cannot enable prod mode after platform setup.");EI=!1}let Us;const Wr=new xn("AllowMultipleToken");class oa{constructor(l,c){this.name=l,this.token=c}}function SI(a,l,c=[]){const d=`Platform: ${l}`,m=new xn(d);return(_=[])=>{let E=BC();if(!E||E.injector.get(Wr,!1))if(a)a(c.concat(_).concat({provide:m,useValue:!0}));else{const w=c.concat(_).concat({provide:m,useValue:!0},{provide:yu,useValue:"platform"});!function(a){if(Us&&!Us.destroyed&&!Us.injector.get(Wr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Us=a.get(II);const l=a.get(lI,null);l&&l.forEach(c=>c())}(Ln.create({providers:w,name:d}))}return function(a){const l=BC();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(m)}}function BC(){return Us&&!Us.destroyed?Us:null}let II=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function(a,l){let c;return c="noop"===a?new Y1:("zone.js"===a?void 0:a)||new Wi({enableLongStackTrace:mv(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),M=[{provide:Wi,useValue:w}];return w.run(()=>{const R=Ln.create({providers:M,parent:this.injector,name:c.moduleType.name}),O=c.create(R),V=O.injector.get(y,null);if(!V)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const B=w.onError.subscribe({next:W=>{V.handleError(W)}});O.onDestroy(()=>{MI(this._modules,O),B.unsubscribe()})}),function(a,l,c){try{const d=c();return Kp(d)?d.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(V,w,()=>{const B=O.injector.get(mc);return B.runInitializers(),B.donePromise.then(()=>(et(O.injector.get(dv,Ze)||Ze),this._moduleDoBootstrap(O),O))})})}bootstrapModule(c,d=[]){const m=AI({},d);return function(a,l,c){const d=new Mm(c);return Promise.resolve(d)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,m))}_moduleDoBootstrap(c){const d=c.injector.get(An);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(m=>d.bootstrap(m));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${oe(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(_n(Ln))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function AI(a,l){return Array.isArray(l)?l.reduce(AI,a):Object.assign(Object.assign({},a),l)}let An=(()=>{class a{constructor(c,d,m,_,E){this._zone=c,this._injector=d,this._exceptionHandler=m,this._componentFactoryResolver=_,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new Y.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),M=new Y.y(R=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Wi.assertNotInAngularZone(),pv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Wi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{O.unsubscribe(),V.unsubscribe()}});this.isStable=(0,Ie.T)(w,M.pipe((0,De.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=c instanceof Oh?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(m.componentType);const _=function(a){return a.isBoundToModule}(m)?void 0:this._injector.get(sc),w=m.create(Ln.NULL,[],d||m.selector,_),M=w.location.nativeElement,R=w.injector.get(LC,null),O=R&&w.injector.get(bI);return R&&O&&O.registerApplication(M,R),w.onDestroy(()=>{this.detachView(w.hostView),MI(this.components,w),O&&O.unregisterApplication(M)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;MI(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(DC,[]).concat(this._bootstrapListeners).forEach(m=>m(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(_n(Wi),_n(Ln),_n(y),_n(ku),_n(mc))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function MI(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}class xI{}class iR{}const NO={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let sR=(()=>{class a{constructor(c,d){this._compiler=c,this._config=d||NO}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[d,m]=c.split("#");return void 0===m&&(m="default"),j(8255)(d).then(_=>_[m]).then(_=>NI(_,d,m)).then(_=>this._compiler.compileModuleAsync(_))}loadFactory(c){let[d,m]=c.split("#"),_="NgFactory";return void 0===m&&(m="default",_=""),j(8255)(this._config.factoryPathPrefix+d+this._config.factoryPathSuffix).then(E=>E[m+_]).then(E=>NI(E,d,m))}}return a.\u0275fac=function(c){return new(c||a)(_n(Wu),_n(iR,8))},a.\u0275prov=hn({token:a,factory:a.\u0275fac}),a})();function NI(a,l,c){if(!a)throw new Error(`Cannot find '${c}' in '${l}'`);return a}const VI=function(a){return null},zm=SI(null,"core",[{provide:uv,useValue:"unknown"},{provide:II,deps:[Ln]},{provide:bI,deps:[]},{provide:SC,deps:[]}]),vc=[{provide:An,useClass:An,deps:[Wi,Ln,y,ku,mc]},{provide:DS,deps:[Wi],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:mc,useClass:mc,deps:[[new Is,wC]]},{provide:Wu,useClass:Wu,deps:[]},z1,{provide:vm,useFactory:function(){return o1},deps:[]},{provide:Fu,useFactory:function(){return Iy},deps:[]},{provide:dv,useFactory:function(a){return et(a=a||"undefined"!=typeof $localize&&$localize.locale||Ze),a},deps:[[new Ma(dv),new Is,new mr]]},{provide:uI,useValue:"USD"}];let $I=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(_n(An))},a.\u0275mod=ld({type:a}),a.\u0275inj=qt({providers:vc}),a})()},8939:(ot,Oe,j)=>{"use strict";j.d(Oe,{hO:()=>ce,xv:()=>X,Dh:()=>oe,GT:()=>re,on:()=>H,pX:()=>De});var h=j(7716),le=j(7841),Y=j(9126);ot=j.hmd(ot);const Ie=["ngOnDestroy"],De=(fe,Ae,ye,Be={})=>new Proxy(fe,{get:(Me,Ye)=>ye.runOutsideAngular(()=>{var Et;if(fe[Ye])return(null===(Et=null==Be?void 0:Be.spy)||void 0===Et?void 0:Et.get)&&Be.spy.get(Ye,fe[Ye]),fe[Ye];if(Ie.indexOf(Ye)>-1)return()=>{};const At=Ae.toPromise().then(Mt=>{const nn=Mt&&Mt[Ye];return"function"==typeof nn?nn.bind(Mt):nn&&nn.then?nn.then(Gt=>ye.run(()=>Gt)):ye.run(()=>nn)});return new Proxy(()=>{},{get:(Mt,nn)=>At[nn],apply:(Mt,nn,Gt)=>At.then(Kt=>{var Ue;const ge=Kt&&Kt(...Gt);return(null===(Ue=null==Be?void 0:Be.spy)||void 0===Ue?void 0:Ue.apply)&&Be.spy.apply(Ye,Gt,ge),ge})})})}),re=(fe,Ae)=>{Ae.forEach(ye=>{Object.getOwnPropertyNames(ye.prototype||ye).forEach(Be=>{Object.defineProperty(fe.prototype,Be,Object.getOwnPropertyDescriptor(ye.prototype||ye,Be))})})};class pe{constructor(Ae){return Ae}}const oe=new h.OlP("angularfire2.app.options"),X=new h.OlP("angularfire2.app.name");function H(fe,Ae,ye){const Me="object"==typeof ye&&ye||{};Me.name=Me.name||"string"==typeof ye&&ye||"[DEFAULT]";const Et=le.Z.apps.filter(At=>At&&At.name===Me.name)[0]||Ae.runOutsideAngular(()=>le.Z.initializeApp(fe,Me));try{JSON.stringify(fe)!==JSON.stringify(Et.options)&&q("error",`${Et.name} Firebase App already initialized with different options${ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(At){}return new pe(Et)}const q=(fe,...Ae)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[fe](...Ae)},G={provide:pe,useFactory:H,deps:[oe,h.R0b,[new h.FiY,X]]};let ce=(()=>{class fe{constructor(ye){le.Z.registerVersion("angularfire",Y.q4.full,"core"),le.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),le.Z.registerVersion("angular",h.q4F.full,ye.toString())}static initializeApp(ye,Be){return{ngModule:fe,providers:[{provide:oe,useValue:ye},{provide:X,useValue:Be}]}}}return fe.\u0275fac=function(ye){return new(ye||fe)(h.LFG(h.Lbi))},fe.\u0275mod=h.oAB({type:fe}),fe.\u0275inj=h.cJS({providers:[G]}),fe})()},9126:(ot,Oe,j)=>{"use strict";j.d(Oe,{q4:()=>H,iC:()=>ge,fc:()=>Kt,HU:()=>At,cc:()=>ce});var h=j(7716);(0,j(5452).registerVersion)("firebase","9.1.1","app");var De=j(7771),re=j(3637),pe=j(3342),oe=j(6136),X=j(9673);ot=j.hmd(ot);const H=new h.GfV("7.0.4"),q=!!ot.hot,G=(we,...ue)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[we](...ue)};function ce(we,ue,Ke,ut,Vt){const[,_t,pt]=globalThis.\u0275AngularfireInstanceCache.find(wt=>wt[0]===we)||[];if(_t)return function(we,ue){try{return we.toString()===ue.toString()}catch(Ke){return we===ue}}(Vt,pt)||(G("error",`${ue} was already initialized on the ${Ke} Firebase App with different settings.${q?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:Vt,was:pt})),_t;{const wt=ut();return globalThis.\u0275AngularfireInstanceCache.push([we,wt,Vt]),wt}}function Me(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ye{constructor(ue,Ke=De.N){this.zone=ue,this.delegate=Ke}now(){return this.delegate.now()}schedule(ue,Ke,ut){const Vt=this.zone;return this.delegate.schedule(function(pt){Vt.runGuarded(()=>{ue.apply(this,[pt])})},Ke,ut)}}class Et{constructor(ue){this.zone=ue,this.task=null}call(ue,Ke){const ut=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)),Ke.pipe((0,pe.b)({next:ut,complete:ut,error:ut})).subscribe(ue).add(ut)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let At=(()=>{class we{constructor(Ke){this.ngZone=Ke,this.outsideAngular=Ke.runOutsideAngular(()=>new Ye(Zone.current)),this.insideAngular=Ke.run(()=>new Ye(Zone.current,re.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return we.\u0275fac=function(Ke){return new(Ke||we)(h.LFG(h.R0b))},we.\u0275prov=h.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();function Mt(){const we=globalThis.\u0275AngularFireScheduler;if(!we)throw new Error("AngularFireModule has not been provided");return we}function Kt(we){return we.pipe((0,oe.QV)(Mt().outsideAngular))}function ge(we){return Mt(),function(we){return function(Ke){return(Ke=Ke.lift(new Et(we.ngZone))).pipe((0,X.R)(we.outsideAngular),(0,oe.QV)(we.insideAngular))}}(Mt())(we)}},4486:(ot,Oe,j)=>{"use strict";j.d(Oe,{Z:()=>Ae});var h=j(3854),le=j(6034),Y=j(5452),Ie=j(5601);class De{constructor(Be,Me){this._delegate=Be,this.firebase=Me,(0,Y._addComponent)(Be,new le.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Be,Me=Y._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Be);return!Et.isInitialized()&&"EXPLICIT"===(null===(Ye=Et.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Me})}_removeServiceInstance(Be,Me=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Me)}_addComponent(Be){(0,Y._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,Y._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function X(){const ye=function(ye){const Be={},Me={__esModule:!0,initializeApp:function(Kt,Ue={}){const ge=Y.initializeApp(Kt,Ue);if((0,h.r3)(Be,ge.name))return Be[ge.name];const ve=new ye(ge,Me);return Be[ge.name]=ve,ve},app:Et,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function(Kt){const Ue=Kt.name,ge=Ue.replace("-compat","");if(Y._registerComponent(Kt)&&"PUBLIC"===Kt.type){const ve=(Re=Et())=>{if("function"!=typeof Re[ge])throw pe.create("invalid-app-argument",{appName:Ue});return Re[ge]()};void 0!==Kt.serviceProps&&(0,h.ZB)(ve,Kt.serviceProps),Me[ge]=ve,ye.prototype[ge]=function(...Re){return this._getService.bind(this,Ue).apply(this,Kt.multipleInstances?Re:[])}}return"PUBLIC"===Kt.type?Me[ge]:null},removeApp:function(Kt){delete Be[Kt]},useAsService:function(Kt,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:Y}};function Et(Kt){if(!(0,h.r3)(Be,Kt=Kt||Y._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Kt});return Be[Kt]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function(){return Object.keys(Be).map(Kt=>Be[Kt])}}),Et.App=ye,Me}(De);return ye.INTERNAL=Object.assign(Object.assign({},ye.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(Me){(0,h.ZB)(ye,Me)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),ye}(),q=new Ie.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ye=self.firebase.SDK_VERSION;ye&&ye.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=H;(0,Y.registerVersion)("@firebase/app-compat","0.1.3",undefined)},5452:(ot,Oe,j)=>{"use strict";j.r(Oe),j.d(Oe,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>xi,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>Yi,_apps:()=>pt,_clearComponents:()=>qt,_components:()=>wt,_getProvider:()=>hn,_registerComponent:()=>Mi,_removeServiceInstance:()=>bn,deleteApp:()=>Gs,getApp:()=>zs,getApps:()=>fa,initializeApp:()=>So,onLog:()=>tr,registerVersion:()=>ht,setLogLevel:()=>Qi});var h=j(8239),le=j(6034),Y=j(5601),Ie=j(3854);class De{constructor(yt){this.container=yt}getPlatformInfoString(){return this.container.getProviders().map(tn=>{if(function(It){const yt=It.getComponent();return"VERSION"===(null==yt?void 0:yt.type)}(tn)){const Qt=tn.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(tn=>tn).join(" ")}}const pe="@firebase/app",X=new Y.Yd("@firebase/app"),Vt="[DEFAULT]",_t={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,wt=new Map;function Nn(It,yt){try{It.container.addComponent(yt)}catch(tn){X.debug(`Component ${yt.name} failed to register with FirebaseApp ${It.name}`,tn)}}function Yi(It,yt){It.container.addOrOverwriteComponent(yt)}function Mi(It){const yt=It.name;if(wt.has(yt))return X.debug(`There were multiple attempts to register component ${yt}.`),!1;wt.set(yt,It);for(const tn of pt.values())Nn(tn,It);return!0}function hn(It,yt){return It.container.getProvider(yt)}function bn(It,yt,tn=Vt){hn(It,yt).clearInstance(tn)}function qt(){wt.clear()}const Ki=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class ha{constructor(yt,tn,Qt){this._isDeleted=!1,this._options=Object.assign({},yt),this._config=Object.assign({},tn),this._name=tn.name,this._automaticDataCollectionEnabled=tn.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this.checkDestroyed(),this._automaticDataCollectionEnabled=yt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(yt){this._isDeleted=yt}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}const xi="9.1.1";function So(It,yt={}){"object"!=typeof yt&&(yt={name:yt});const tn=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},yt),Qt=tn.name;if("string"!=typeof Qt||!Qt)throw Ki.create("bad-app-name",{appName:String(Qt)});const Br=pt.get(Qt);if(Br){if((0,Ie.vZ)(It,Br.options)&&(0,Ie.vZ)(tn,Br.config))return Br;throw Ki.create("duplicate-app",{appName:Qt})}const ln=new le.H0(Qt);for(const vt of wt.values())ln.addComponent(vt);const Qe=new ha(It,tn,ln);return pt.set(Qt,Qe),Qe}function zs(It=Vt){const yt=pt.get(It);if(!yt)throw Ki.create("no-app",{appName:It});return yt}function fa(){return Array.from(pt.values())}function Gs(It){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(It){const yt=It.name;pt.has(yt)&&(pt.delete(yt),yield Promise.all(It.container.getProviders().map(tn=>tn.delete())),It.isDeleted=!0)})).apply(this,arguments)}function ht(It,yt,tn){var Qt;let Br=null!==(Qt=_t[It])&&void 0!==Qt?Qt:It;tn&&(Br+=`-${tn}`);const ln=Br.match(/\s|\//),Qe=yt.match(/\s|\//);if(ln||Qe){const vt=[`Unable to register library "${Br}" with version "${yt}":`];return ln&&vt.push(`library name "${Br}" contains illegal characters (whitespace or "/")`),ln&&Qe&&vt.push("and"),Qe&&vt.push(`version name "${yt}" contains illegal characters (whitespace or "/")`),void X.warn(vt.join(" "))}Mi(new le.wA(`${Br}-version`,()=>({library:Br,version:yt}),"VERSION"))}function tr(It,yt){if(null!==It&&"function"!=typeof It)throw Ki.create("invalid-log-argument");(0,Y.Am)(It,yt)}function Qi(It){(0,Y.Ub)(It)}Mi(new le.wA("platform-logger",yt=>new De(yt),"PRIVATE")),ht(pe,"0.7.2",undefined),ht("fire-js","")},6034:(ot,Oe,j)=>{"use strict";j.d(Oe,{wA:()=>Y,H0:()=>oe});var h=j(4762),le=j(3854),Y=function(){function X(H,q,G){this.name=H,this.instanceFactory=q,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return X.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},X.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},X.prototype.setServiceProps=function(H){return this.serviceProps=H,this},X.prototype.setInstanceCreatedCallback=function(H){return this.onInstanceCreated=H,this},X}(),Ie="[DEFAULT]",De=function(){function X(H,q){this.name=H,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return X.prototype.get=function(H){var q=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(q)){var G=new le.BH;if(this.instancesDeferred.set(q,G),this.isInitialized(q)||this.shouldAutoInitialize())try{var ce=this.getOrInitializeService({instanceIdentifier:q});ce&&G.resolve(ce)}catch(fe){}}return this.instancesDeferred.get(q).promise},X.prototype.getImmediate=function(H){var q,G=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),ce=null!==(q=null==H?void 0:H.optional)&&void 0!==q&&q;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(ce)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(fe){if(ce)return null;throw fe}},X.prototype.getComponent=function(){return this.component},X.prototype.setComponent=function(H){var q,G;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,this.shouldAutoInitialize()){if(function(X){return"EAGER"===X.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch(Et){}try{for(var ce=(0,h.XA)(this.instancesDeferred.entries()),fe=ce.next();!fe.done;fe=ce.next()){var Ae=(0,h.CR)(fe.value,2),Be=Ae[1],Me=this.normalizeInstanceIdentifier(Ae[0]);try{var Ye=this.getOrInitializeService({instanceIdentifier:Me});Be.resolve(Ye)}catch(Et){}}}catch(Et){q={error:Et}}finally{try{fe&&!fe.done&&(G=ce.return)&&G.call(ce)}finally{if(q)throw q.error}}}},X.prototype.clearInstance=function(H){void 0===H&&(H=Ie),this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)},X.prototype.delete=function(){return(0,h.mG)(this,void 0,void 0,function(){var H;return(0,h.Jh)(this,function(q){switch(q.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all((0,h.ev)((0,h.ev)([],(0,h.CR)(H.filter(function(G){return"INTERNAL"in G}).map(function(G){return G.INTERNAL.delete()}))),(0,h.CR)(H.filter(function(G){return"_delete"in G}).map(function(G){return G._delete()}))))];case 1:return q.sent(),[2]}})})},X.prototype.isComponentSet=function(){return null!=this.component},X.prototype.isInitialized=function(H){return void 0===H&&(H=Ie),this.instances.has(H)},X.prototype.getOptions=function(H){return void 0===H&&(H=Ie),this.instancesOptions.get(H)||{}},X.prototype.initialize=function(H){var q,G;void 0===H&&(H={});var ce=H.options,fe=void 0===ce?{}:ce,Ae=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Ae))throw Error(this.name+"("+Ae+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ye=this.getOrInitializeService({instanceIdentifier:Ae,options:fe});try{for(var Be=(0,h.XA)(this.instancesDeferred.entries()),Me=Be.next();!Me.done;Me=Be.next()){var Ye=(0,h.CR)(Me.value,2),At=Ye[1];Ae===this.normalizeInstanceIdentifier(Ye[0])&&At.resolve(ye)}}catch(nn){q={error:nn}}finally{try{Me&&!Me.done&&(G=Be.return)&&G.call(Be)}finally{if(q)throw q.error}}return ye},X.prototype.onInit=function(H,q){var G,ce=this.normalizeInstanceIdentifier(q),fe=null!==(G=this.onInitCallbacks.get(ce))&&void 0!==G?G:new Set;fe.add(H),this.onInitCallbacks.set(ce,fe);var Ae=this.instances.get(ce);return Ae&&H(Ae,ce),function(){fe.delete(H)}},X.prototype.invokeOnInitCallbacks=function(H,q){var G,ce,fe=this.onInitCallbacks.get(q);if(fe)try{for(var Ae=(0,h.XA)(fe),ye=Ae.next();!ye.done;ye=Ae.next()){var Be=ye.value;try{Be(H,q)}catch(Me){}}}catch(Me){G={error:Me}}finally{try{ye&&!ye.done&&(ce=Ae.return)&&ce.call(Ae)}finally{if(G)throw G.error}}},X.prototype.getOrInitializeService=function(H){var q=H.instanceIdentifier,G=H.options,ce=void 0===G?{}:G,fe=this.instances.get(q);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:re(q),options:ce}),this.instances.set(q,fe),this.instancesOptions.set(q,ce),this.invokeOnInitCallbacks(fe,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,fe)}catch(Ae){}return fe||null},X.prototype.normalizeInstanceIdentifier=function(H){return void 0===H&&(H=Ie),this.component?this.component.multipleInstances?H:Ie:H},X.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},X}();function re(X){return X===Ie?void 0:X}var oe=function(){function X(H){this.name=H,this.providers=new Map}return X.prototype.addComponent=function(H){var q=this.getProvider(H.name);if(q.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);q.setComponent(H)},X.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},X.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var q=new De(H,this);return this.providers.set(H,q),q},X.prototype.getProviders=function(){return Array.from(this.providers.values())},X}()},5601:(ot,Oe,j)=>{"use strict";j.d(Oe,{in:()=>le,Yd:()=>pe,Ub:()=>oe,Am:()=>X});const h=[];var le=(()=>{return(H=le||(le={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",le;var H})();const Y={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},Ie=le.INFO,De={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},re=(H,q,...G)=>{if(q<H.logLevel)return;const ce=(new Date).toISOString(),fe=De[q];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[fe](`[${ce}]  ${H.name}:`,...G)};class pe{constructor(q){this.name=q,this._logLevel=Ie,this._logHandler=re,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in le))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?Y[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...q),this._logHandler(this,le.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...q),this._logHandler(this,le.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,le.INFO,...q),this._logHandler(this,le.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,le.WARN,...q),this._logHandler(this,le.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...q),this._logHandler(this,le.ERROR,...q)}}function oe(H){h.forEach(q=>{q.setLogLevel(H)})}function X(H,q){for(const G of h){let ce=null;q&&q.level&&(ce=Y[q.level]),G.userLogHandler=null===H?null:(fe,Ae,...ye)=>{const Be=ye.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch(Ye){return null}}).filter(Me=>Me).join(" ");Ae>=(null!=ce?ce:fe.logLevel)&&H({level:le[Ae].toLowerCase(),message:Be,args:ye,type:fe.name})}}}},3854:(ot,Oe,j)=>{"use strict";j.d(Oe,{BH:()=>ce,LL:()=>ue,ZR:()=>we,tV:()=>X,r3:()=>hn,Sg:()=>fe,ne:()=>Gs,vZ:()=>Ki,ZB:()=>q,pd:()=>zs,m9:()=>ul,z$:()=>Ae,jU:()=>Me,ru:()=>Ye,d:()=>At,xb:()=>qt,w1:()=>Mt,hl:()=>Ue,uI:()=>ye,UG:()=>Be,b$:()=>Et,G6:()=>Kt,Mn:()=>nn,xO:()=>xi,zd:()=>So});const Ie=function(ee){const Q=[];let ne=0;for(let Le=0;Le<ee.length;Le++){let me=ee.charCodeAt(Le);me<128?Q[ne++]=me:me<2048?(Q[ne++]=me>>6|192,Q[ne++]=63&me|128):55296==(64512&me)&&Le+1<ee.length&&56320==(64512&ee.charCodeAt(Le+1))?(me=65536+((1023&me)<<10)+(1023&ee.charCodeAt(++Le)),Q[ne++]=me>>18|240,Q[ne++]=me>>12&63|128,Q[ne++]=me>>6&63|128,Q[ne++]=63&me|128):(Q[ne++]=me>>12|224,Q[ne++]=me>>6&63|128,Q[ne++]=63&me|128)}return Q},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,Q){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let me=0;me<ee.length;me+=3){const lt=ee[me],Rt=me+1<ee.length,Yt=Rt?ee[me+1]:0,yn=me+2<ee.length,Mn=yn?ee[me+2]:0;let nr=(15&Yt)<<2|Mn>>6,pi=63&Mn;yn||(pi=64,Rt||(nr=64)),Le.push(ne[lt>>2],ne[(3&lt)<<4|Yt>>4],ne[nr],ne[pi])}return Le.join("")},encodeString(ee,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(ee):this.encodeByteArray(Ie(ee),Q)},decodeString(ee,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(ee):function(ee){const Q=[];let ne=0,Le=0;for(;ne<ee.length;){const me=ee[ne++];if(me<128)Q[Le++]=String.fromCharCode(me);else if(me>191&&me<224){const lt=ee[ne++];Q[Le++]=String.fromCharCode((31&me)<<6|63&lt)}else if(me>239&&me<365){const yn=((7&me)<<18|(63&ee[ne++])<<12|(63&ee[ne++])<<6|63&ee[ne++])-65536;Q[Le++]=String.fromCharCode(55296+(yn>>10)),Q[Le++]=String.fromCharCode(56320+(1023&yn))}else{const lt=ee[ne++],Rt=ee[ne++];Q[Le++]=String.fromCharCode((15&me)<<12|(63&lt)<<6|63&Rt)}}return Q.join("")}(this.decodeStringToByteArray(ee,Q))},decodeStringToByteArray(ee,Q){this.init_();const ne=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let me=0;me<ee.length;){const lt=ne[ee.charAt(me++)],Yt=me<ee.length?ne[ee.charAt(me)]:0;++me;const Mn=me<ee.length?ne[ee.charAt(me)]:64;++me;const Zt=me<ee.length?ne[ee.charAt(me)]:64;if(++me,null==lt||null==Yt||null==Mn||null==Zt)throw Error();Le.push(lt<<2|Yt>>4),64!==Mn&&(Le.push(Yt<<4&240|Mn>>2),64!==Zt&&Le.push(Mn<<6&192|Zt))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}},oe=function(ee){return function(ee){const Q=Ie(ee);return re.encodeByteArray(Q,!0)}(ee).replace(/\./g,"")},X=function(ee){try{return re.decodeString(ee,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function q(ee,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===ee&&(ee={});break;case Array:ee=[];break;default:return Q}for(const ne in Q)!Q.hasOwnProperty(ne)||!G(ne)||(ee[ne]=q(ee[ne],Q[ne]));return ee}function G(ee){return"__proto__"!==ee}class ce{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,ne)=>{this.resolve=Q,this.reject=ne})}wrapCallback(Q){return(ne,Le)=>{ne?this.reject(ne):this.resolve(Le),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(ne):Q(ne,Le))}}}function fe(ee,Q){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=Q||"demo-project",me=ee.iat||0,lt=ee.sub||ee.user_id;if(!lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Rt=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:me,exp:me+3600,auth_time:me,sub:lt,user_id:lt,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(Rt)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function Be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ee){return!1}}function Me(){return"object"==typeof self&&self.self===self}function Ye(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){return Ae().indexOf("Electron/")>=0}function Mt(){const ee=Ae();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function nn(){return Ae().indexOf("MSAppHost/")>=0}function Kt(){return!Be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ue(){return"object"==typeof indexedDB}class we extends Error{constructor(Q,ne,Le){super(ne),this.code=Q,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(Q,ne,Le){this.service=Q,this.serviceName=ne,this.errors=Le}create(Q,...ne){const Le=ne[0]||{},me=`${this.service}/${Q}`,lt=this.errors[Q],Rt=lt?function(ee,Q){return ee.replace(ut,(ne,Le)=>{const me=Q[Le];return null!=me?String(me):`<${Le}?>`})}(lt,Le):"Error";return new we(me,`${this.serviceName}: ${Rt} (${me}).`,Le)}}const ut=/\{\$([^}]+)}/g;function hn(ee,Q){return Object.prototype.hasOwnProperty.call(ee,Q)}function qt(ee){for(const Q in ee)if(Object.prototype.hasOwnProperty.call(ee,Q))return!1;return!0}function Ki(ee,Q){if(ee===Q)return!0;const ne=Object.keys(ee),Le=Object.keys(Q);for(const me of ne){if(!Le.includes(me))return!1;const lt=ee[me],Rt=Q[me];if(ha(lt)&&ha(Rt)){if(!Ki(lt,Rt))return!1}else if(lt!==Rt)return!1}for(const me of Le)if(!ne.includes(me))return!1;return!0}function ha(ee){return null!==ee&&"object"==typeof ee}function xi(ee){const Q=[];for(const[ne,Le]of Object.entries(ee))Array.isArray(Le)?Le.forEach(me=>{Q.push(encodeURIComponent(ne)+"="+encodeURIComponent(me))}):Q.push(encodeURIComponent(ne)+"="+encodeURIComponent(Le));return Q.length?"&"+Q.join("&"):""}function So(ee){const Q={};return ee.replace(/^\?/,"").split("&").forEach(Le=>{if(Le){const[me,lt]=Le.split("=");Q[decodeURIComponent(me)]=decodeURIComponent(lt)}}),Q}function zs(ee){const Q=ee.indexOf("?");if(!Q)return"";const ne=ee.indexOf("#",Q);return ee.substring(Q,ne>0?ne:void 0)}function Gs(ee,Q){const ne=new pa(ee,Q);return ne.subscribe.bind(ne)}class pa{constructor(Q,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{Q(this)}).catch(Le=>{this.error(Le)})}next(Q){this.forEachObserver(ne=>{ne.next(Q)})}error(Q){this.forEachObserver(ne=>{ne.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,ne,Le){let me;if(void 0===Q&&void 0===ne&&void 0===Le)throw new Error("Missing Observer.");me=function(ee,Q){if("object"!=typeof ee||null===ee)return!1;for(const ne of["next","error","complete"])if(ne in ee&&"function"==typeof ee[ne])return!0;return!1}(Q)?Q:{next:Q,error:ne,complete:Le},void 0===me.next&&(me.next=Qi),void 0===me.error&&(me.error=Qi),void 0===me.complete&&(me.complete=Qi);const lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch(Rt){}}),this.observers.push(me),lt}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,Q)}sendOne(Q,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{ne(this.observers[Q])}catch(Le){"undefined"!=typeof console&&console.error&&console.error(Le)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qi(){}function ul(ee){return ee&&ee._delegate?ee._delegate:ee}},7841:(ot,Oe,j)=>{"use strict";j.d(Oe,{Z:()=>h.Z});var h=j(4486);h.Z.registerVersion("firebase","9.1.1","app-compat")},5128:(ot,Oe,j)=>{"use strict";j.r(Oe);var h=j(8239),le=j(4486),Y=j(3854),Ie=j(5452),De=j(4762),re=j(5601),pe=j(6034);const Ae=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ye=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ye=new re.Yd("@firebase/auth");function Et(D,...y){Ye.logLevel<=re.in.ERROR&&Ye.error(`Auth (${Ie.SDK_VERSION}): ${D}`,...y)}function At(D,...y){throw Kt(D,...y)}function Mt(D,...y){return Kt(D,...y)}function nn(D,y,b){const I=Object.assign(Object.assign({},ye()),{[y]:b});return new Y.LL("auth","Firebase",I).create(y,{appName:D.name})}function Gt(D,y,b){if(!(y instanceof b))throw b.name!==y.constructor.name&&At(D,"argument-error"),nn(D,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kt(D,...y){if("string"!=typeof D){const b=y[0],I=[...y.slice(1)];return I[0]&&(I[0].appName=D.name),D._errorFactory.create(b,...I)}return Be.create(D,...y)}function Ue(D,y,...b){if(!D)throw Kt(y,...b)}function ge(D){const y="INTERNAL ASSERTION FAILED: "+D;throw Et(y),new Error(y)}function ve(D,y){D||ge(y)}const Re=new Map;function Ce(D){ve(D instanceof Function,"Expected a class definition");let y=Re.get(D);return y?(ve(y instanceof D,"Instance stored in cache mismatched with class"),y):(y=new D,Re.set(D,y),y)}function Ke(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function ut(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class wt{constructor(y,b){this.shortDelay=y,this.longDelay=b,ve(b>y,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,Y.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Nn(D,y){ve(D.emulator,"Emulator should always be set here");const{url:b}=D.emulator;return y?`${b}${y.startsWith("/")?y.slice(1):y}`:b}class Yi{static initialize(y,b,I){this.fetchImpl=y,b&&(this.headersImpl=b),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new wt(3e4,6e4);function bn(D,y){return D.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:D.tenantId}):y}function qt(D,y,b,I){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(D,y,b,I,P={}){return Ki(D,P,()=>{let U={},se={};I&&("GET"===y?se=I:U={body:JSON.stringify(I)});const Se=(0,Y.xO)(Object.assign({key:D.config.apiKey},se)).slice(1),We=new(Yi.headers());return We.set("Content-Type","application/json"),We.set("X-Client-Version",D._getSdkClientVersion()),D.languageCode&&We.set("X-Firebase-Locale",D.languageCode),Yi.fetch()(zs(D,D.config.apiHost,b,Se),Object.assign({method:y,headers:We,referrerPolicy:"no-referrer"},U))})})).apply(this,arguments)}function Ki(D,y,b){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(D,y,b){D._canInitEmulator=!1;const I=Object.assign(Object.assign({},Mi),y);try{const P=new fa(D),U=yield Promise.race([b(),P.promise]);P.clearNetworkTimeout();const se=yield U.json();if("needConfirmation"in se)throw Gs(D,"account-exists-with-different-credential",se);if(U.ok&&!("errorMessage"in se))return se;{const Se=U.ok?se.errorMessage:se.error.message,[We,at]=Se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw Gs(D,"credential-already-in-use",se);if("EMAIL_EXISTS"===We)throw Gs(D,"email-already-in-use",se);const St=I[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw nn(D,St,at);At(D,St)}}catch(P){if(P instanceof Y.ZR)throw P;At(D,"network-request-failed")}})).apply(this,arguments)}function xi(D,y,b,I){return So.apply(this,arguments)}function So(){return(So=(0,h.Z)(function*(D,y,b,I,P={}){const U=yield qt(D,y,b,I,P);return"mfaPendingCredential"in U&&At(D,"multi-factor-auth-required",{serverResponse:U}),U})).apply(this,arguments)}function zs(D,y,b,I){const P=`${y}${b}?${I}`;return D.config.emulator?Nn(D.config,P):`${D.config.apiScheme}://${P}`}class fa{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((b,I)=>{this.timer=setTimeout(()=>I(Mt(this.auth,"timeout")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gs(D,y,b){const I={appName:D.name};b.email&&(I.email=b.email),b.phoneNumber&&(I.phoneNumber=b.phoneNumber);const P=Mt(D,y,I);return P.customData._tokenResponse=b,P}function ht(){return(ht=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function tr(D,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ji(D,y){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function yt(D){if(D)try{const y=new Date(Number(D));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Br(){return(Br=(0,h.Z)(function*(D,y=!1){const b=(0,Y.m9)(D),I=yield b.getIdToken(y),P=Qe(I);Ue(P&&P.exp&&P.auth_time&&P.iat,b.auth,"internal-error");const U="object"==typeof P.firebase?P.firebase:void 0,se=null==U?void 0:U.sign_in_provider;return{claims:P,token:I,authTime:yt(ln(P.auth_time)),issuedAtTime:yt(ln(P.iat)),expirationTime:yt(ln(P.exp)),signInProvider:se||null,signInSecondFactor:(null==U?void 0:U.sign_in_second_factor)||null}})).apply(this,arguments)}function ln(D){return 1e3*Number(D)}function Qe(D){const[y,b,I]=D.split(".");if(void 0===y||void 0===b||void 0===I)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,Y.tV)(b);return P?JSON.parse(P):(Et("Failed to decode base64 JWT payload"),null)}catch(P){return Et("Caught error parsing JWT payload as JSON",P),null}}function Xi(D,y){return Io.apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(D,y,b=!1){if(b)return y;try{return yield y}catch(I){throw I instanceof Y.ZR&&ys(I)&&D.auth.currentUser===D&&(yield D.auth.signOut()),I}})).apply(this,arguments)}function ys({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class gn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var b;if(y){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const P=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(y=!1){var b=this;if(!this.isRunning)return;const I=this.getInterval(y);this.timerId=setTimeout((0,h.Z)(function*(){yield b.iteration()}),I)}iteration(){var y=this;return(0,h.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b.code&&y.schedule(!0))}y.schedule()})()}}class fi{constructor(y,b){this.createdAt=y,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=yt(this.lastLoginAt),this.creationTime=yt(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ul(D){return ee.apply(this,arguments)}function ee(){return(ee=(0,h.Z)(function*(D){var y;const b=D.auth,I=yield D.getIdToken(),P=yield Xi(D,Ji(b,{idToken:I}));Ue(null==P?void 0:P.users.length,b,"internal-error");const U=P.users[0];D._notifyReloadListener(U);const se=(null===(y=U.providerUserInfo)||void 0===y?void 0:y.length)?me(U.providerUserInfo):[],Se=Le(D.providerData,se),St=!!D.isAnonymous&&!(D.email&&U.passwordHash||(null==Se?void 0:Se.length)),mt={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Se,metadata:new fi(U.createdAt,U.lastLoginAt),isAnonymous:St};Object.assign(D,mt)})).apply(this,arguments)}function ne(){return(ne=(0,h.Z)(function*(D){const y=(0,Y.m9)(D);yield ul(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Le(D,y){return[...D.filter(I=>!y.some(P=>P.providerId===I.providerId)),...y]}function me(D){return D.map(y=>{var{providerId:b}=y,I=(0,De._T)(y,["providerId"]);return{providerId:b,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Rt(){return(Rt=(0,h.Z)(function*(D,y){const b=yield Ki(D,{},()=>{const I=(0,Y.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:P,apiKey:U}=D.config,se=zs(D,P,"/v1/token",`key=${U}`);return Yi.fetch()(se,{method:"POST",headers:{"X-Client-Version":D._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:I})});return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Yt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Ue(y.idToken,"internal-error"),Ue(void 0!==y.idToken,"internal-error"),Ue(void 0!==y.refreshToken,"internal-error");const b="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(D){const y=Qe(D);return Ue(y,"internal-error"),Ue(void 0!==y.exp,"internal-error"),Ue(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,b)}getToken(y,b=!1){var I=this;return(0,h.Z)(function*(){return Ue(!I.accessToken||I.refreshToken,y,"user-token-expired"),b||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(y,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,b){var I=this;return(0,h.Z)(function*(){const{accessToken:P,refreshToken:U,expiresIn:se}=yield function(D,y){return Rt.apply(this,arguments)}(y,b);I.updateTokensAndExpiration(P,U,Number(se))})()}updateTokensAndExpiration(y,b,I){this.refreshToken=b||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(y,b){const{refreshToken:I,accessToken:P,expirationTime:U}=b,se=new Yt;return I&&(Ue("string"==typeof I,"internal-error",{appName:y}),se.refreshToken=I),P&&(Ue("string"==typeof P,"internal-error",{appName:y}),se.accessToken=P),U&&(Ue("number"==typeof U,"internal-error",{appName:y}),se.expirationTime=U),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Yt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function yn(D,y){Ue("string"==typeof D||void 0===D,"internal-error",{appName:y})}class Mn{constructor(y){var{uid:b,auth:I,stsTokenManager:P}=y,U=(0,De._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=I,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=U.displayName||null,this.email=U.email||null,this.emailVerified=U.emailVerified||!1,this.phoneNumber=U.phoneNumber||null,this.photoURL=U.photoURL||null,this.isAnonymous=U.isAnonymous||!1,this.metadata=new fi(U.createdAt||void 0,U.lastLoginAt||void 0)}getIdToken(y){var b=this;return(0,h.Z)(function*(){const I=yield Xi(b,b.stsTokenManager.getToken(b.auth,y));return Ue(I,b.auth,"internal-error"),b.accessToken!==I&&(b.accessToken=I,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),I})()}getIdTokenResult(y){return function(D){return Br.apply(this,arguments)}(this,y)}reload(){return function(D){return ne.apply(this,arguments)}(this)}_assign(y){this!==y&&(Ue(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(b=>Object.assign({},b)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new Mn(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,b=!1){var I=this;return(0,h.Z)(function*(){let P=!1;y.idToken&&y.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(y),P=!0),b&&(yield ul(I)),yield I.auth._persistUserIfCurrent(I),P&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var y=this;return(0,h.Z)(function*(){const b=yield y.getIdToken();return yield Xi(y,function(D,y){return ht.apply(this,arguments)}(y.auth,{idToken:b})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,b){var I,P,U,se,Se,We,at,St;const mt=null!==(I=b.displayName)&&void 0!==I?I:void 0,Qn=null!==(P=b.email)&&void 0!==P?P:void 0,ei=null!==(U=b.phoneNumber)&&void 0!==U?U:void 0,uu=null!==(se=b.photoURL)&&void 0!==se?se:void 0,o_=null!==(Se=b.tenantId)&&void 0!==Se?Se:void 0,$a=null!==(We=b._redirectEventId)&&void 0!==We?We:void 0,a_=null!==(at=b.createdAt)&&void 0!==at?at:void 0,Ha=null!==(St=b.lastLoginAt)&&void 0!==St?St:void 0,{uid:Hi,emailVerified:Ib,isAnonymous:Ab,providerData:Qd,stsTokenManager:Mb}=b;Ue(Hi&&Mb,y,"internal-error");const Rs=Yt.fromJSON(this.name,Mb);Ue("string"==typeof Hi,y,"internal-error"),yn(mt,y.name),yn(Qn,y.name),Ue("boolean"==typeof Ib,y,"internal-error"),Ue("boolean"==typeof Ab,y,"internal-error"),yn(ei,y.name),yn(uu,y.name),yn(o_,y.name),yn($a,y.name),yn(a_,y.name),yn(Ha,y.name);const du=new Mn({uid:Hi,auth:y,email:Qn,emailVerified:Ib,displayName:mt,isAnonymous:Ab,photoURL:uu,phoneNumber:ei,tenantId:o_,stsTokenManager:Rs,createdAt:a_,lastLoginAt:Ha});return Qd&&Array.isArray(Qd)&&(du.providerData=Qd.map(Jd=>Object.assign({},Jd))),$a&&(du._redirectEventId=$a),du}static _fromIdTokenResponse(y,b,I=!1){return(0,h.Z)(function*(){const P=new Yt;P.updateFromServerResponse(b);const U=new Mn({uid:b.localId,auth:y,stsTokenManager:P,isAnonymous:I});return yield ul(U),U})()}}const Zt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(b,I){var P=this;return(0,h.Z)(function*(){P.storage[b]=I})()}_get(b){var I=this;return(0,h.Z)(function*(){const P=I.storage[b];return void 0===P?null:P})()}_remove(b){var I=this;return(0,h.Z)(function*(){delete I.storage[b]})()}_addListener(b,I){}_removeListener(b,I){}}return D.type="NONE",D})();function nr(D,y,b){return`firebase:${D}:${y}:${b}`}class pi{constructor(y,b,I){this.persistence=y,this.auth=b,this.userKey=I;const{config:P,name:U}=this.auth;this.fullUserKey=nr(this.userKey,P.apiKey,U),this.fullPersistenceKey=nr("persistence",P.apiKey,U),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,h.Z)(function*(){const b=yield y.persistence._get(y.fullUserKey);return b?Mn._fromJSON(y.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var b=this;return(0,h.Z)(function*(){if(b.persistence===y)return;const I=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=y,I?b.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,b,I="authUser"){return(0,h.Z)(function*(){if(!b.length)return new pi(Ce(Zt),y,I);const P=(yield Promise.all(b.map(function(){var at=(0,h.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return at.apply(this,arguments)}}()))).filter(at=>at);let U=P[0]||Ce(Zt);const se=nr(I,y.config.apiKey,y.name);let Se=null;for(const at of b)try{const St=yield at._get(se);if(St){const mt=Mn._fromJSON(y,St);at!==U&&(Se=mt),U=at;break}}catch(St){}const We=P.filter(at=>at._shouldAllowMigration);return U._shouldAllowMigration&&We.length?(U=We[0],Se&&(yield U._set(se,Se.toJSON())),yield Promise.all(b.map(function(){var at=(0,h.Z)(function*(St){if(St!==U)try{yield St._remove(se)}catch(mt){}});return function(St){return at.apply(this,arguments)}}())),new pi(U,y,I)):new pi(U,y,I)})()}}function Rc(D){const y=D.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(ud(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ld(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(fr(y))return"Blackberry";if(Ri(y))return"Webos";if(cd(y))return"Safari";if((y.includes("chrome/")||mf(y))&&!y.includes("edge/"))return"Chrome";if(dl(y))return"Android";{const I=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function ld(D=(0,Y.z$)()){return/firefox\//i.test(D)}function cd(D=(0,Y.z$)()){const y=D.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function mf(D=(0,Y.z$)()){return/crios\//i.test(D)}function ud(D=(0,Y.z$)()){return/iemobile/i.test(D)}function dl(D=(0,Y.z$)()){return/android/i.test(D)}function fr(D=(0,Y.z$)()){return/blackberry/i.test(D)}function Ri(D=(0,Y.z$)()){return/webos/i.test(D)}function xr(D=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(D)}function tt(D=(0,Y.z$)()){return xr(D)||dl(D)||Ri(D)||fr(D)||/windows phone/i.test(D)||ud(D)}function fn(D,y=[]){let b;switch(D){case"Browser":b=Rc((0,Y.z$)());break;case"Worker":b=`${Rc((0,Y.z$)())}-${D}`;break;default:b=D}const I=y.length?y.join(","):"FirebaseCore-web";return`${b}/JsCore/${Ie.SDK_VERSION}/${I}`}class mi{constructor(y,b){this.app=y,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jn(this),this.idTokenSubscription=new Jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(y,b){var I=this;return b&&(this._popupRedirectResolver=Ce(b)),this._initializationPromise=this.queue((0,h.Z)(function*(){var P;I._deleted||(I.persistenceManager=yield pi.create(I,y),!I._deleted&&((null===(P=I._popupRedirectResolver)||void 0===P?void 0:P._shouldInitProactively)&&(yield I._popupRedirectResolver._initialize(I)),yield I.initializeCurrentUser(b),!I._deleted&&(I._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,h.Z)(function*(){if(y._deleted)return;const b=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||b){if(y.currentUser&&b&&y.currentUser.uid===b.uid)return y._currentUser._assign(b),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(b)}})()}initializeCurrentUser(y){var b=this;return(0,h.Z)(function*(){var I;let P=yield b.assertedPersistence.getCurrentUser();if(y&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const U=null===(I=b.redirectUser)||void 0===I?void 0:I._redirectEventId,se=null==P?void 0:P._redirectEventId,Se=yield b.tryRedirectSignIn(y);(!U||U===se)&&(null==Se?void 0:Se.user)&&(P=Se.user)}return P?P._redirectEventId?(Ue(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===P._redirectEventId?b.directlySetCurrentUser(P):b.reloadAndSetCurrentUserOrClear(P)):b.reloadAndSetCurrentUserOrClear(P):b.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var b=this;return(0,h.Z)(function*(){let I=null;try{I=yield b._popupRedirectResolver._completeRedirectFn(b,y,!0)}catch(P){yield b._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(y){var b=this;return(0,h.Z)(function*(){try{yield ul(y)}catch(I){if("auth/network-request-failed"!==I.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var y=this;return(0,h.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var b=this;return(0,h.Z)(function*(){const I=y?(0,Y.m9)(y):null;return I&&Ue(I.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(I&&I._clone(b))})()}_updateCurrentUser(y){var b=this;return(0,h.Z)(function*(){if(!b._deleted)return y&&Ue(b.tenantId===y.tenantId,b,"tenant-id-mismatch"),b.queue((0,h.Z)(function*(){yield b.directlySetCurrentUser(y),b.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,h.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var b=this;return this.queue((0,h.Z)(function*(){yield b.assertedPersistence.setPersistence(Ce(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new Y.LL("auth","Firebase",y())}onAuthStateChanged(y,b,I){return this.registerStateListener(this.authStateSubscription,y,b,I)}onIdTokenChanged(y,b,I){return this.registerStateListener(this.idTokenSubscription,y,b,I)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,b){var I=this;return(0,h.Z)(function*(){const P=yield I.getOrInitRedirectPersistenceManager(b);return null===y?P.removeCurrentUser():P.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var b=this;return(0,h.Z)(function*(){if(!b.redirectPersistenceManager){const I=y&&Ce(y)||b._popupRedirectResolver;Ue(I,b,"argument-error"),b.redirectPersistenceManager=yield pi.create(b,[Ce(I._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(y){var b=this;return(0,h.Z)(function*(){var I,P;return b._isInitialized&&(yield b.queue((0,h.Z)(function*(){}))),(null===(I=b._currentUser)||void 0===I?void 0:I._redirectEventId)===y?b._currentUser:(null===(P=b.redirectUser)||void 0===P?void 0:P._redirectEventId)===y?b.redirectUser:null})()}_persistUserIfCurrent(y){var b=this;return(0,h.Z)(function*(){if(y===b.currentUser)return b.queue((0,h.Z)(function*(){return b.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(b=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,b,I,P){if(this._deleted)return()=>{};const U="function"==typeof b?b:b.next.bind(b),se=this._isInitialized?Promise.resolve():this._initializationPromise;return Ue(se,this,"internal-error"),se.then(()=>U(this.currentUser)),"function"==typeof b?y.addObserver(b,I,P):y.addObserver(b)}directlySetCurrentUser(y){var b=this;return(0,h.Z)(function*(){b.currentUser&&b.currentUser!==y&&(b._currentUser._stopProactiveRefresh(),y&&b.isProactiveRefreshEnabled&&y._startProactiveRefresh()),b.currentUser=y,y?yield b.assertedPersistence.setCurrentUser(y):yield b.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=fn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function En(D){return(0,Y.m9)(D)}class Jn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,Y.ne)(b=>this.observer=b)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function On(D){const y=D.indexOf(":");return y<0?"":D.substr(0,y+1)}function ma(D){if(!D)return null;const y=Number(D);return isNaN(y)?null:y}class Ni{constructor(y,b){this.providerId=y,this.signInMethod=b}toJSON(){return ge("not implemented")}_getIdTokenResponse(y){return ge("not implemented")}_linkToIdToken(y,b){return ge("not implemented")}_getReauthenticationResolver(y){return ge("not implemented")}}function Ao(D,y){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:resetPassword",bn(D,y))})).apply(this,arguments)}function hl(D,y){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Oc(D,y){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:update",bn(D,y))})).apply(this,arguments)}function on(){return(on=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signInWithPassword",bn(D,y))})).apply(this,arguments)}function Pc(D,y){return gf.apply(this,arguments)}function gf(){return(gf=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:sendOobCode",bn(D,y))})).apply(this,arguments)}function xo(D,y){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,h.Z)(function*(D,y){return Pc(D,y)})).apply(this,arguments)}function fl(D,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(D,y){return Pc(D,y)})).apply(this,arguments)}function Oi(D,y){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(D,y){return Pc(D,y)})).apply(this,arguments)}function Zv(D,y){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(D,y){return Pc(D,y)})).apply(this,arguments)}function Lc(){return(Lc=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signInWithEmailLink",bn(D,y))})).apply(this,arguments)}function pl(){return(pl=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signInWithEmailLink",bn(D,y))})).apply(this,arguments)}class Kr extends Ni{constructor(y,b,I,P=null){super("password",I),this._email=y,this._password=b,this._tenantId=P}static _fromEmailAndPassword(y,b){return new Kr(y,b,"password")}static _fromEmailAndCode(y,b,I=null){return new Kr(y,b,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(y){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return function(D,y){return on.apply(this,arguments)}(y,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(D,y){return Lc.apply(this,arguments)}(y,{email:b._email,oobCode:b._password});default:At(y,"internal-error")}})()}_linkToIdToken(y,b){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return hl(y,{idToken:b,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function(D,y){return pl.apply(this,arguments)}(y,{idToken:b,email:I._email,oobCode:I._password});default:At(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Xn(D,y){return hg.apply(this,arguments)}function hg(){return(hg=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signInWithIdp",bn(D,y))})).apply(this,arguments)}class vs extends Ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const b=new vs(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(b.idToken=y.idToken),y.accessToken&&(b.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(b.nonce=y.nonce),y.pendingToken&&(b.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(b.accessToken=y.oauthToken,b.secret=y.oauthTokenSecret):At("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:P}=b,U=(0,De._T)(b,["providerId","signInMethod"]);if(!I||!P)return null;const se=new vs(I,P);return Object.assign(se,U),se}_getIdTokenResponse(y){return Xn(y,this.buildRequest())}_linkToIdToken(y,b){const I=this.buildRequest();return I.idToken=b,Xn(y,I)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,Xn(y,b)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),y.postBody=(0,Y.xO)(b)}return y}}function vw(D,y){return fg.apply(this,arguments)}function fg(){return(fg=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:sendVerificationCode",bn(D,y))})).apply(this,arguments)}function pg(){return(pg=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signInWithPhoneNumber",bn(D,y))})).apply(this,arguments)}function mg(){return(mg=(0,h.Z)(function*(D,y){const b=yield xi(D,"POST","/v1/accounts:signInWithPhoneNumber",bn(D,y));if(b.temporaryProof)throw Gs(D,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Cw={USER_NOT_FOUND:"user-not-found"};function gg(){return(gg=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signInWithPhoneNumber",bn(D,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Cw)})).apply(this,arguments)}class ml extends Ni{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,b){return new ml({verificationId:y,verificationCode:b})}static _fromTokenResponse(y,b){return new ml({phoneNumber:y,temporaryProof:b})}_getIdTokenResponse(y){return function(D,y){return pg.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,b){return function(D,y){return mg.apply(this,arguments)}(y,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(D,y){return gg.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:b,verificationId:I,verificationCode:P}=this.params;return y&&b?{temporaryProof:y,phoneNumber:b}:{sessionInfo:I,code:P}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:b,verificationCode:I,phoneNumber:P,temporaryProof:U}=y;return I||b||P||U?new ml({verificationId:b,verificationCode:I,phoneNumber:P,temporaryProof:U}):null}}class hd{constructor(y){var b,I,P,U,se,Se;const We=(0,Y.zd)((0,Y.pd)(y)),at=null!==(b=We.apiKey)&&void 0!==b?b:null,St=null!==(I=We.oobCode)&&void 0!==I?I:null,mt=function(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=We.mode)&&void 0!==P?P:null);Ue(at&&St&&mt,"argument-error"),this.apiKey=at,this.operation=mt,this.code=St,this.continueUrl=null!==(U=We.continueUrl)&&void 0!==U?U:null,this.languageCode=null!==(se=We.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(Se=We.tenantId)&&void 0!==Se?Se:null}static parseLink(y){const b=function(D){const y=(0,Y.zd)((0,Y.pd)(D)).link,b=y?(0,Y.zd)((0,Y.pd)(y)).deep_link_id:null,I=(0,Y.zd)((0,Y.pd)(D)).deep_link_id;return(I?(0,Y.zd)((0,Y.pd)(I)).link:null)||I||b||y||D}(y);try{return new hd(b)}catch(I){return null}}}let fd=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(b,I){return Kr._fromEmailAndPassword(b,I)}static credentialWithLink(b,I){const P=hd.parseLink(I);return Ue(P,"argument-error"),Kr._fromEmailAndCode(b,P.code,P.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class bs{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Vc extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ga extends Vc{static credentialFromJSON(y){const b="string"==typeof y?JSON.parse(y):y;return Ue("providerId"in b&&"signInMethod"in b,"argument-error"),vs._fromParams(b)}credential(y){return this._credential(y)}_credential(y){return Ue(y.idToken||y.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ga.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ga.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:I,oauthTokenSecret:P,pendingToken:U,nonce:se,providerId:Se}=y;if(!I&&!P&&!b&&!U||!Se)return null;try{return new ga(Se)._credential({idToken:b,accessToken:I,rawNonce:se,pendingToken:U})}catch(We){return null}}}let _f=(()=>{class D extends Vc{constructor(){super("facebook.com")}static credential(b){return vs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(I){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),ko=(()=>{class D extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(b,I){return vs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:I})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:I,oauthAccessToken:P}=b;if(!I&&!P)return null;try{return D.credential(I,P)}catch(U){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),_g=(()=>{class D extends Vc{constructor(){super("github.com")}static credential(b){return vs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(I){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class No extends Ni{constructor(y,b){super(y,y),this.pendingToken=b}_getIdTokenResponse(y){return Xn(y,this.buildRequest())}_linkToIdToken(y,b){const I=this.buildRequest();return I.idToken=b,Xn(y,I)}_getReauthenticationResolver(y){const b=this.buildRequest();return b.autoCreate=!1,Xn(y,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const b="string"==typeof y?JSON.parse(y):y,{providerId:I,signInMethod:P,pendingToken:U}=b;return I&&P&&U&&I===P?new No(I,U):null}static _create(y,b){return new No(y,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let vf=(()=>{class D extends Vc{constructor(){super("twitter.com")}static credential(b,I){return vs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:I})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:I,oauthTokenSecret:P}=b;if(!I||!P)return null;try{return D.credential(I,P)}catch(U){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function bf(D,y){return pd.apply(this,arguments)}function pd(){return(pd=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signUp",bn(D,y))})).apply(this,arguments)}class gi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,b,I,P=!1){return(0,h.Z)(function*(){const U=yield Mn._fromIdTokenResponse(y,I,P),se=Qv(I);return new gi({user:U,providerId:se,_tokenResponse:I,operationType:b})})()}static _forOperation(y,b,I){return(0,h.Z)(function*(){yield y._updateTokensIfNecessary(I,!0);const P=Qv(I);return new gi({user:y,providerId:P,_tokenResponse:I,operationType:b})})()}}function Qv(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Uc(){return(Uc=(0,h.Z)(function*(D){var y;const b=En(D);if(yield b._initializationPromise,null===(y=b.currentUser)||void 0===y?void 0:y.isAnonymous)return new gi({user:b.currentUser,providerId:null,operationType:"signIn"});const I=yield bf(b,{returnSecureToken:!0}),P=yield gi._fromIdTokenResponse(b,"signIn",I,!0);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}class Bc extends Y.ZR{constructor(y,b,I,P){var U;super(b.code,b.message),this.operationType=I,this.user=P,this.name="FirebaseError",Object.setPrototypeOf(this,Bc.prototype),this.appName=y.name,this.code=b.code,this.tenantId=null!==(U=y.tenantId)&&void 0!==U?U:void 0,this.serverResponse=b.customData.serverResponse}static _fromErrorAndOperation(y,b,I,P){return new Bc(y,b,I,P)}}function $c(D,y,b,I){return("reauthenticate"===y?b._getReauthenticationResolver(D):b._getIdTokenResponse(D)).catch(U=>{throw"auth/multi-factor-auth-required"===U.code?Bc._fromErrorAndOperation(D,U,y,I):U})}function yg(D){return new Set(D.map(({providerId:y})=>y).filter(y=>!!y))}function Ef(){return(Ef=(0,h.Z)(function*(D,y){const b=(0,Y.m9)(D);yield Ws(!0,b,y);const{providerUserInfo:I}=yield tr(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[y]}),P=yg(I||[]);return b.providerData=b.providerData.filter(U=>P.has(U.providerId)),P.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function Cn(D,y){return md.apply(this,arguments)}function md(){return(md=(0,h.Z)(function*(D,y,b=!1){const I=yield Xi(D,y._linkToIdToken(D.auth,yield D.getIdToken()),b);return gi._forOperation(D,"link",I)})).apply(this,arguments)}function Ws(D,y,b){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,h.Z)(function*(D,y,b){yield ul(y);const P=!1===D?"provider-already-linked":"no-such-provider";Ue(yg(y.providerData).has(b)===D,y.auth,P)})).apply(this,arguments)}function wn(D,y){return wf.apply(this,arguments)}function wf(){return(wf=(0,h.Z)(function*(D,y,b=!1){const{auth:I}=D,P="reauthenticate";try{const U=yield Xi(D,$c(I,P,y,D),b);Ue(U.idToken,I,"internal-error");const se=Qe(U.idToken);Ue(se,I,"internal-error");const{sub:Se}=se;return Ue(D.uid===Se,I,"user-mismatch"),gi._forOperation(D,P,U)}catch(U){throw"auth/user-not-found"===(null==U?void 0:U.code)&&At(I,"user-mismatch"),U}})).apply(this,arguments)}function bg(D,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,h.Z)(function*(D,y,b=!1){const I="signIn",P=yield $c(D,I,y),U=yield gi._fromIdTokenResponse(D,I,P);return b||(yield D._updateCurrentUser(U.user)),U})).apply(this,arguments)}function $r(D,y){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,h.Z)(function*(D,y){return bg(En(D),y)})).apply(this,arguments)}function gd(D,y){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(D,y){const b=(0,Y.m9)(D);return yield Ws(!1,b,y.providerId),Cn(b,y)})).apply(this,arguments)}function Qr(D,y){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,h.Z)(function*(D,y){return wn((0,Y.m9)(D),y)})).apply(this,arguments)}function Eg(D,y){return yl.apply(this,arguments)}function yl(){return(yl=(0,h.Z)(function*(D,y){return xi(D,"POST","/v1/accounts:signInWithCustomToken",bn(D,y))})).apply(this,arguments)}function _d(){return(_d=(0,h.Z)(function*(D,y){const b=En(D),I=yield Eg(b,{token:y,returnSecureToken:!0}),P=yield gi._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(P.user),P})).apply(this,arguments)}class vl{constructor(y,b){this.factorId=y,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(y,b){return"phoneInfo"in b?Tt._fromServerResponse(y,b):At(y,"internal-error")}}class Tt extends vl{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,b){return new Tt(b)}}function yd(D,y,b){var I;Ue((null===(I=b.url)||void 0===I?void 0:I.length)>0,D,"invalid-continue-uri"),Ue(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),y.continueUrl=b.url,y.dynamicLinkDomain=b.dynamicLinkDomain,y.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ue(b.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),y.iOSBundleId=b.iOS.bundleId),b.android&&(Ue(b.android.packageName.length>0,D,"missing-android-pkg-name"),y.androidInstallApp=b.android.installApp,y.androidMinimumVersionCode=b.android.minimumVersion,y.androidPackageName=b.android.packageName)}function Df(){return(Df=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D),P={requestType:"PASSWORD_RESET",email:y};b&&yd(I,P,b),yield fl(I,P)})).apply(this,arguments)}function Sf(){return(Sf=(0,h.Z)(function*(D,y,b){yield Ao((0,Y.m9)(D),{oobCode:y,newPassword:b})})).apply(this,arguments)}function ya(){return(ya=(0,h.Z)(function*(D,y){yield Oc((0,Y.m9)(D),{oobCode:y})})).apply(this,arguments)}function $e(D,y){return zt.apply(this,arguments)}function zt(){return(zt=(0,h.Z)(function*(D,y){const b=(0,Y.m9)(D),I=yield Ao(b,{oobCode:y}),P=I.requestType;switch(Ue(P,b,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ue(I.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ue(I.mfaInfo,b,"internal-error");default:Ue(I.email,b,"internal-error")}let U=null;return I.mfaInfo&&(U=vl._fromServerResponse(En(b),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:U},operation:P}})).apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(D,y){const{data:b}=yield $e((0,Y.m9)(D),y);return b.email})).apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(D,y,b){const I=En(D),P=yield bf(I,{returnSecureToken:!0,email:y,password:b}),U=yield gi._fromIdTokenResponse(I,"signIn",P);return yield I._updateCurrentUser(U.user),U})).apply(this,arguments)}function bl(){return(bl=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D),P={requestType:"EMAIL_SIGNIN",email:y};Ue(b.handleCodeInApp,I,"argument-error"),b&&yd(I,P,b),yield Oi(I,P)})).apply(this,arguments)}function El(){return(El=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D),P=fd.credentialWithLink(y,b||Ke());return Ue(P._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),$r(I,P)})).apply(this,arguments)}function bd(D,y){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:createAuthUri",bn(D,y))})).apply(this,arguments)}function Mf(){return(Mf=(0,h.Z)(function*(D,y){const I={identifier:y,continueUri:ut()?Ke():"http://localhost"},{signinMethods:P}=yield bd((0,Y.m9)(D),I);return P||[]})).apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(D,y){const b=(0,Y.m9)(D),P={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};y&&yd(b.auth,P,y);const{email:U}=yield xo(b.auth,P);U!==D.email&&(yield D.reload())})).apply(this,arguments)}function Ed(){return(Ed=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D),U={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:y};b&&yd(I.auth,U,b);const{email:se}=yield Zv(I.auth,U);se!==D.email&&(yield D.reload())})).apply(this,arguments)}function Cg(D,y){return xf.apply(this,arguments)}function xf(){return(xf=(0,h.Z)(function*(D,y){return qt(D,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function jc(){return(jc=(0,h.Z)(function*(D,{displayName:y,photoURL:b}){if(void 0===y&&void 0===b)return;const I=(0,Y.m9)(D),U={idToken:yield I.getIdToken(),displayName:y,photoUrl:b,returnSecureToken:!0},se=yield Xi(I,Cg(I.auth,U));I.displayName=se.displayName||null,I.photoURL=se.photoUrl||null;const Se=I.providerData.find(({providerId:We})=>"password"===We);Se&&(Se.displayName=I.displayName,Se.photoURL=I.photoURL),yield I._updateTokensIfNecessary(se)})).apply(this,arguments)}function kf(D,y,b){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,h.Z)(function*(D,y,b){const{auth:I}=D,U={idToken:yield D.getIdToken(),returnSecureToken:!0};y&&(U.email=y),b&&(U.password=b);const se=yield Xi(D,hl(I,U));yield D._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class va{constructor(y,b,I={}){this.isNewUser=y,this.providerId=b,this.profile=I}}class Tg extends va{constructor(y,b,I,P){super(y,b,I),this.username=P}}class Dg extends va{constructor(y,b){super(y,"facebook.com",b)}}class nb extends Tg{constructor(y,b){super(y,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class Gc extends va{constructor(y,b){super(y,"google.com",b)}}class rb extends Tg{constructor(y,b,I){super(y,"twitter.com",b,I)}}function ib(D){const{user:y,_tokenResponse:b}=D;return y.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function(D){var y,b;if(!D)return null;const{providerId:I}=D,P=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},U=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!I&&(null==D?void 0:D.idToken)){const se=null===(b=null===(y=Qe(D.idToken))||void 0===y?void 0:y.firebase)||void 0===b?void 0:b.sign_in_provider;if(se)return new va(U,"anonymous"!==se&&"custom"!==se?se:null)}if(!I)return null;switch(I){case"facebook.com":return new Dg(U,P);case"github.com":return new nb(U,P);case"google.com":return new Gc(U,P);case"twitter.com":return new rb(U,P,D.screenName||null);case"custom":case"anonymous":return new va(U,null);default:return new va(U,I,P)}}(b)}class Li{constructor(y,b){this.type=y,this.credential=b}static _fromIdtoken(y){return new Li("enroll",y)}static _fromMfaPendingCredential(y){return new Li("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var b,I;if(null==y?void 0:y.multiFactorSession){if(null===(b=y.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return Li._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(I=y.multiFactorSession)||void 0===I?void 0:I.idToken)return Li._fromIdtoken(y.multiFactorSession.idToken)}return null}}class wl{constructor(y,b,I){this.session=y,this.hints=b,this.signInResolver=I}static _fromError(y,b){const I=En(y),P=(b.serverResponse.mfaInfo||[]).map(se=>vl._fromServerResponse(I,se));Ue(b.serverResponse.mfaPendingCredential,I,"internal-error");const U=Li._fromMfaPendingCredential(b.serverResponse.mfaPendingCredential);return new wl(U,P,function(){var se=(0,h.Z)(function*(Se){const We=yield Se._process(I,U);delete b.serverResponse.mfaInfo,delete b.serverResponse.mfaPendingCredential;const at=Object.assign(Object.assign({},b.serverResponse),{idToken:We.idToken,refreshToken:We.refreshToken});switch(b.operationType){case"signIn":const St=yield gi._fromIdTokenResponse(I,b.operationType,at);return yield I._updateCurrentUser(St.user),St;case"reauthenticate":return Ue(b.user,I,"internal-error"),gi._forOperation(b.user,b.operationType,at);default:At(I,"internal-error")}});return function(Se){return se.apply(this,arguments)}}())}resolveSignIn(y){var b=this;return(0,h.Z)(function*(){return b.signInResolver(y)})()}}function Td(D,y){return qt(D,"POST","/v2/accounts/mfaEnrollment:start",bn(D,y))}class Pf{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(I=>vl._fromServerResponse(y.auth,I)))})}static _fromUser(y){return new Pf(y)}getSession(){var y=this;return(0,h.Z)(function*(){return Li._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,b){var I=this;return(0,h.Z)(function*(){const P=y,U=yield I.getSession(),se=yield Xi(I.user,P._process(I.user.auth,U,b));return yield I.user._updateTokensIfNecessary(se),I.user.reload()})()}unenroll(y){var b=this;return(0,h.Z)(function*(){const I="string"==typeof y?y:y.uid,P=yield b.user.getIdToken(),U=yield Xi(b.user,function(D,y){return qt(D,"POST","/v2/accounts/mfaEnrollment:withdraw",bn(D,y))}(b.user.auth,{idToken:P,mfaEnrollmentId:I}));b.enrolledFactors=b.enrolledFactors.filter(({uid:se})=>se!==I),yield b.user._updateTokensIfNecessary(U);try{yield b.user.reload()}catch(se){if("auth/user-token-expired"!==se.code)throw se}})()}}const Es=new WeakMap,Ff="__sak";class Ig{constructor(y,b){this.storage=y,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Ff,"1"),this.storage.removeItem(Ff),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,b){return this.storage.setItem(y,JSON.stringify(b)),Promise.resolve()}_get(y){const b=this.storage.getItem(y);return Promise.resolve(b?JSON.parse(b):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Uf=(()=>{class D extends Ig{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(b,I)=>this.onStorageEvent(b,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const D=(0,Y.z$)();return cd(D)||xr(D)}()&&function(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=tt(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const I of Object.keys(this.listeners)){const P=this.storage.getItem(I),U=this.localCache[I];P!==U&&b(I,U,P)}}onStorageEvent(b,I=!1){if(!b.key)return void this.forAllChangedKeys((Se,We,at)=>{this.notifyListeners(Se,at)});const P=b.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Se=this.storage.getItem(P);if(b.newValue!==Se)null!==b.newValue?this.storage.setItem(P,b.newValue):this.storage.removeItem(P);else if(this.localCache[P]===b.newValue&&!I)return}const U=()=>{const Se=this.storage.getItem(P);!I&&this.localCache[P]===Se||this.notifyListeners(P,Se)},se=this.storage.getItem(P);(0,Y.w1)()&&10===document.documentMode&&se!==b.newValue&&b.newValue!==b.oldValue?setTimeout(U,10):U()}notifyListeners(b,I){this.localCache[b]=I;const P=this.listeners[b];if(P)for(const U of Array.from(P))U(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,I,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:I,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,I){var P=()=>super._set,U=this;return(0,h.Z)(function*(){yield P().call(U,b,I),U.localCache[b]=JSON.stringify(I)})()}_get(b){var I=()=>super._get,P=this;return(0,h.Z)(function*(){const U=yield I().call(P,b);return P.localCache[b]=JSON.stringify(U),U})()}_remove(b){var I=()=>super._remove,P=this;return(0,h.Z)(function*(){yield I().call(P,b),delete P.localCache[b]})()}}return D.type="LOCAL",D})(),Cs=(()=>{class D extends Ig{constructor(){super(window.sessionStorage,"SESSION")}_addListener(b,I){}_removeListener(b,I){}}return D.type="SESSION",D})();let ws=(()=>{class D{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const I=this.receivers.find(U=>U.isListeningto(b));if(I)return I;const P=new D(b);return this.receivers.push(P),P}isListeningto(b){return this.eventTarget===b}handleEvent(b){var I=this;return(0,h.Z)(function*(){const P=b,{eventId:U,eventType:se,data:Se}=P.data,We=I.handlersMap[se];if(!(null==We?void 0:We.size))return;P.ports[0].postMessage({status:"ack",eventId:U,eventType:se});const at=Array.from(We).map(function(){var mt=(0,h.Z)(function*(Qn){return Qn(P.origin,Se)});return function(Qn){return mt.apply(this,arguments)}}()),St=yield function(D){return Promise.all(D.map(function(){var y=(0,h.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(I){return{fulfilled:!1,reason:I}}});return function(b){return y.apply(this,arguments)}}()))}(at);P.ports[0].postMessage({status:"done",eventId:U,eventType:se,response:St})})()}_subscribe(b,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(I)}_unsubscribe(b,I){this.handlersMap[b]&&I&&this.handlersMap[b].delete(I),(!I||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Po(D="",y=10){let b="";for(let I=0;I<y;I++)b+=Math.floor(10*Math.random());return D+b}class Mg{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,b,I=50){var P=this;return(0,h.Z)(function*(){const U="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!U)throw new Error("connection_unavailable");let se,Se;return new Promise((We,at)=>{const St=Po("",20);U.port1.start();const mt=setTimeout(()=>{at(new Error("unsupported_event"))},I);Se={messageChannel:U,onMessage(Qn){const ei=Qn;if(ei.data.eventId===St)switch(ei.data.status){case"ack":clearTimeout(mt),se=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),We(ei.data.response);break;default:clearTimeout(mt),clearTimeout(se),at(new Error("invalid_response"))}}},P.handlers.add(Se),U.port1.addEventListener("message",Se.onMessage),P.target.postMessage({eventType:y,eventId:St,data:b},[U.port2])}).finally(()=>{Se&&P.removeMessageHandler(Se)})})()}}function Pn(){return window}function xg(){return void 0!==Pn().WorkerGlobalScope&&"function"==typeof Pn().importScripts}function Sd(){return(Sd=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const Bf="firebaseLocalStorageDb",$f="firebaseLocalStorage",ab="fbase_key";class Ks{constructor(y){this.request=y}toPromise(){return new Promise((y,b)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Zc(D,y){return D.transaction([$f],y?"readwrite":"readonly").objectStore($f)}function it(){const D=indexedDB.open(Bf,1);return new Promise((y,b)=>{D.addEventListener("error",()=>{b(D.error)}),D.addEventListener("upgradeneeded",()=>{const I=D.result;try{I.createObjectStore($f,{keyPath:ab})}catch(P){b(P)}}),D.addEventListener("success",(0,h.Z)(function*(){const I=D.result;I.objectStoreNames.contains($f)?y(I):(I.close(),yield function(){const D=indexedDB.deleteDatabase(Bf);return new Ks(D).toPromise()}(),y(yield it()))}))})}function Xt(D,y,b){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,h.Z)(function*(D,y,b){const I=Zc(D,!0).put({[ab]:y,value:b});return new Ks(I).toPromise()})).apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(D,y){const b=Zc(D,!1).get(y),I=yield new Ks(b).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Dl(D,y){const b=Zc(D,!0).delete(y);return new Ks(b).toPromise()}const Fo=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,h.Z)(function*(){return b.db||(b.db=yield it()),b.db})()}_withRetries(b){var I=this;return(0,h.Z)(function*(){let P=0;for(;;)try{const U=yield I._openDb();return yield b(U)}catch(U){if(P++>3)throw U;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,h.Z)(function*(){return xg()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,h.Z)(function*(){b.receiver=ws._getInstance(xg()?self:null),b.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(P,U){return{keyProcessed:(yield b._poll()).includes(U.key)}});return function(P,U){return I.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(P,U){return["keyChanged"]});return function(P,U){return I.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,h.Z)(function*(){var I,P;if(b.activeServiceWorker=yield function(){return Sd.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Mg(b.activeServiceWorker);const U=yield b.sender._send("ping",{},800);!U||(null===(I=U[0])||void 0===I?void 0:I.fulfilled)&&(null===(P=U[0])||void 0===P?void 0:P.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:b},I.serviceWorkerReceiverAvailable?800:50)}catch(P){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const b=yield it();return yield Xt(b,Ff,"1"),yield Dl(b,Ff),!0}catch(b){}return!1})()}_withPendingWrite(b){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield b()}finally{I.pendingWrites--}})()}_set(b,I){var P=this;return(0,h.Z)(function*(){return P._withPendingWrite((0,h.Z)(function*(){return yield P._withRetries(U=>Xt(U,b,I)),P.localCache[b]=I,P.notifyServiceWorker(b)}))})()}_get(b){var I=this;return(0,h.Z)(function*(){const P=yield I._withRetries(U=>function(D,y){return Ea.apply(this,arguments)}(U,b));return I.localCache[b]=P,P})()}_remove(b){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(P=>Dl(P,b)),delete I.localCache[b],I.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,h.Z)(function*(){const I=yield b._withRetries(se=>{const Se=Zc(se,!1).getAll();return new Ks(Se).toPromise()});if(!I)return[];if(0!==b.pendingWrites)return[];const P=[],U=new Set;for(const{fbase_key:se,value:Se}of I)U.add(se),JSON.stringify(b.localCache[se])!==JSON.stringify(Se)&&(b.notifyListeners(se,Se),P.push(se));for(const se of Object.keys(b.localCache))b.localCache[se]&&!U.has(se)&&(b.notifyListeners(se,null),P.push(se));return P})()}notifyListeners(b,I){this.localCache[b]=I;const P=this.listeners[b];if(P)for(const U of Array.from(P))U(I)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Tn(D,y){return qt(D,"POST","/v2/accounts/mfaSignIn:start",bn(D,y))}function Yc(){return(Yc=(0,h.Z)(function*(D){return(yield qt(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hf(D){return new Promise((y,b)=>{const I=document.createElement("script");I.setAttribute("src",D),I.onload=y,I.onerror=P=>{const U=Mt("internal-error");U.customData=P,b(U)},I.type="text/javascript",I.charset="UTF-8",function(){var D,y;return null!==(y=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==y?y:document}().appendChild(I)})}function Md(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Vi=1e12;class Il{constructor(y){this.auth=y,this.counter=Vi,this._widgets=new Map}render(y,b){const I=this.counter;return this._widgets.set(I,new Ca(y,this.auth.name,b||{})),this.counter++,I}reset(y){var b;const I=y||Vi;null===(b=this._widgets.get(I))||void 0===b||b.delete(),this._widgets.delete(I)}getResponse(y){var b;return(null===(b=this._widgets.get(y||Vi))||void 0===b?void 0:b.getResponse())||""}execute(y){var b=this;return(0,h.Z)(function*(){var I;return null===(I=b._widgets.get(y||Vi))||void 0===I||I.execute(),""})()}}class Ca{constructor(y,b,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof y?document.getElementById(y):y;Ue(P,"argument-error",{appName:b}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(D){const y=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<50;I++)y.push(b.charAt(Math.floor(Math.random()*b.length)));return y.join("")}();const{callback:y,"expired-callback":b}=this.params;if(y)try{y(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ts=Md("rcb"),kw=new wt(3e4,6e4);class Ui{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Pn().grecaptcha}load(y,b=""){return Ue((D=b).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D),y,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(Pn().grecaptcha):new Promise((I,P)=>{const U=Pn().setTimeout(()=>{P(Mt(y,"network-request-failed"))},kw.get());Pn()[Ts]=()=>{Pn().clearTimeout(U),delete Pn()[Ts];const Se=Pn().grecaptcha;if(!Se)return void P(Mt(y,"internal-error"));const We=Se.render;Se.render=(at,St)=>{const mt=We(at,St);return this.counter++,mt},this.hostLanguage=b,I(Se)},Hf(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:Ts,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(U),P(Mt(y,"internal-error"))})});var D}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!Pn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ub{load(y){return(0,h.Z)(function*(){return new Il(y)})()}clearedOneInstance(){}}const xn="recaptcha",Nw={theme:"light",type:"image"};class jf{constructor(y,b=Object.assign({},Nw),I){this.parameters=b,this.type=xn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(I),this.isInvisible="invisible"===this.parameters.size,Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof y?document.getElementById(y):y;Ue(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ub:new Ui,this.validateStartingState()}verify(){var y=this;return(0,h.Z)(function*(){y.assertNotDestroyed();const b=yield y.render(),I=y.getAssertedRecaptcha();return I.getResponse(b)||new Promise(U=>{const se=Se=>{!Se||(y.tokenChangeListeners.delete(se),U(Se))};y.tokenChangeListeners.add(se),y.isInvisible&&I.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Ue(!this.parameters.sitekey,this.auth,"argument-error"),Ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return b=>{if(this.tokenChangeListeners.forEach(I=>I(b)),"function"==typeof y)y(b);else if("string"==typeof y){const I=Pn()[y];"function"==typeof I&&I(b)}}}assertNotDestroyed(){Ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,h.Z)(function*(){if(yield y.init(),!y.widgetId){let b=y.container;if(!y.isInvisible){const I=document.createElement("div");b.appendChild(I),b=I}y.widgetId=y.getAssertedRecaptcha().render(b,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,h.Z)(function*(){Ue(ut()&&!xg(),y.auth,"internal-error"),yield function(){let D=null;return new Promise(y=>{"complete"!==document.readyState?(D=()=>y(),window.addEventListener("load",D)):y()}).catch(y=>{throw D&&window.removeEventListener("load",D),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const b=yield function(D){return Yc.apply(this,arguments)}(y.auth);Ue(b,y.auth,"internal-error"),y.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ng{constructor(y,b){this.verificationId=y,this.onConfirmation=b}confirm(y){const b=ml._fromVerification(this.verificationId,y);return this.onConfirmation(b)}}function Ds(){return(Ds=(0,h.Z)(function*(D,y,b){const I=En(D),P=yield zf(I,y,(0,Y.m9)(b));return new Ng(P,U=>$r(I,U))})).apply(this,arguments)}function Og(){return(Og=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D);yield Ws(!1,I,"phone");const P=yield zf(I.auth,y,(0,Y.m9)(b));return new Ng(P,U=>gd(I,U))})).apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D),P=yield zf(I.auth,y,(0,Y.m9)(b));return new Ng(P,U=>Qr(I,U))})).apply(this,arguments)}function zf(D,y,b){return wa.apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(D,y,b){var I;const P=yield b.verify();try{let U;if(Ue("string"==typeof P,D,"argument-error"),Ue(b.type===xn,D,"argument-error"),U="string"==typeof y?{phoneNumber:y}:y,"session"in U){const se=U.session;if("phoneNumber"in U)return Ue("enroll"===se.type,D,"internal-error"),(yield Td(D,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:U.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{Ue("signin"===se.type,D,"internal-error");const Se=(null===(I=U.multiFactorHint)||void 0===I?void 0:I.uid)||U.multiFactorUid;return Ue(Se,D,"missing-multi-factor-info"),(yield Tn(D,{mfaPendingCredential:se.credential,mfaEnrollmentId:Se,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield vw(D,{phoneNumber:U.phoneNumber,recaptchaToken:P});return se}}finally{b._reset()}})).apply(this,arguments)}function Hn(){return(Hn=(0,h.Z)(function*(D,y){yield Cn((0,Y.m9)(D),y)})).apply(this,arguments)}let Lo=(()=>{class D{constructor(b){this.providerId=D.PROVIDER_ID,this.auth=En(b)}verifyPhoneNumber(b,I){return zf(this.auth,b,(0,Y.m9)(I))}static credential(b,I){return ml._fromVerification(b,I)}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:I,temporaryProof:P}=b;return I&&P?ml._fromTokenResponse(I,P):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Dn(D,y){return y?Ce(y):(Ue(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Da extends Ni{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Xn(y,this._buildIdpRequest())}_linkToIdToken(y,b){return Xn(y,this._buildIdpRequest(b))}_getReauthenticationResolver(y){return Xn(y,this._buildIdpRequest())}_buildIdpRequest(y){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(b.idToken=y),b}}function Gf(D){return bg(D.auth,new Da(D),D.bypassAuthState)}function $i(D){const{auth:y,user:b}=D;return Ue(b,y,"internal-error"),wn(b,new Da(D),D.bypassAuthState)}function Ss(D){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,h.Z)(function*(D){const{auth:y,user:b}=D;return Ue(b,y,"internal-error"),Cn(b,new Da(D),D.bypassAuthState)})).apply(this,arguments)}class Vo{constructor(y,b,I,P,U=!1){this.auth=y,this.resolver=I,this.user=P,this.bypassAuthState=U,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var y=this;return new Promise(function(){var b=(0,h.Z)(function*(I,P){y.pendingPromise={resolve:I,reject:P};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(U){y.reject(U)}});return function(I,P){return b.apply(this,arguments)}}())}onAuthEvent(y){var b=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:P,postBody:U,tenantId:se,error:Se,type:We}=y;if(Se)return void b.reject(Se);const at={auth:b.auth,requestUri:I,sessionId:P,tenantId:se||void 0,postBody:U||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(We)(at))}catch(St){b.reject(St)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Gf;case"linkViaPopup":case"linkViaRedirect":return Ss;case"reauthViaPopup":case"reauthViaRedirect":return $i;default:At(this.auth,"internal-error")}}resolve(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Uo=new wt(2e3,1e4);function Rd(){return(Rd=(0,h.Z)(function*(D,y,b){const I=En(D);Gt(D,y,bs);const P=Dn(I,b);return new jn(I,"signInViaPopup",y,P).executeNotNull()})).apply(this,arguments)}function Fg(){return(Fg=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D);Gt(I.auth,y,bs);const P=Dn(I.auth,b);return new jn(I.auth,"reauthViaPopup",y,P,I).executeNotNull()})).apply(this,arguments)}function kd(){return(kd=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D);Gt(I.auth,y,bs);const P=Dn(I.auth,b);return new jn(I.auth,"linkViaPopup",y,P,I).executeNotNull()})).apply(this,arguments)}let jn=(()=>{class D extends Vo{constructor(b,I,P,U,se){super(b,I,U,se),this.provider=P,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var b=this;return(0,h.Z)(function*(){const I=yield b.execute();return Ue(I,b.auth,"internal-error"),I})()}onExecution(){var b=this;return(0,h.Z)(function*(){ve(1===b.filter.length,"Popup operations only handle one event");const I=Po();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],I),b.authWindow.associatedEvent=I,b.resolver._originValidation(b.auth).catch(P=>{b.reject(P)}),b.resolver._isIframeWebStorageSupported(b.auth,P=>{P||b.reject(Mt(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(Mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const b=()=>{var I,P;this.pollId=(null===(P=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===P?void 0:P.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Mt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Uo.get())};b()}}return D.currentPopupAction=null,D})();const Bo=new Map;class qf extends Vo{constructor(y,b,I=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,I),this.eventId=null}execute(){var y=()=>super.execute,b=this;return(0,h.Z)(function*(){let I=Bo.get(b.auth._key());if(!I){try{const U=(yield function(D,y){return Zf.apply(this,arguments)}(b.resolver,b.auth))?yield y().call(b):null;I=()=>Promise.resolve(U)}catch(P){I=()=>Promise.reject(P)}Bo.set(b.auth._key(),I)}return I()})()}onAuthEvent(y){var b=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===y.type)return b().call(I,y);if("unknown"!==y.type){if(y.eventId){const P=yield I.auth._redirectUserForId(y.eventId);if(P)return I.user=P,b().call(I,y);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Zf(){return(Zf=(0,h.Z)(function*(D,y){const b=Aa(y),I="true"===(yield Ia(D)._get(b));return yield Ia(D)._remove(b),I})).apply(this,arguments)}function Yf(D,y){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(D,y){return Ia(D)._set(Aa(y),"true")})).apply(this,arguments)}function Ia(D){return Ce(D._redirectPersistence)}function Aa(D){return nr("pendingRedirect",D.config.apiKey,D.name)}function Lg(){return(Lg=(0,h.Z)(function*(D,y,b){const I=En(D);Gt(D,y,bs);const P=Dn(I,b);return yield Yf(P,I),P._openRedirect(I,y,"signInViaRedirect")})).apply(this,arguments)}function $o(){return($o=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D);Gt(I.auth,y,bs);const P=Dn(I.auth,b);yield Yf(P,I.auth);const U=yield Nt(I);return P._openRedirect(I.auth,y,"reauthViaRedirect",U)})).apply(this,arguments)}function Xf(){return(Xf=(0,h.Z)(function*(D,y,b){const I=(0,Y.m9)(D);Gt(I.auth,y,bs);const P=Dn(I.auth,b);yield Ws(!1,I,y.providerId),yield Yf(P,I.auth);const U=yield Nt(I);return P._openRedirect(I.auth,y,"linkViaRedirect",U)})).apply(this,arguments)}function Bg(){return(Bg=(0,h.Z)(function*(D,y){return yield En(D)._initializationPromise,Ml(D,y,!1)})).apply(this,arguments)}function Ml(D,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,h.Z)(function*(D,y,b=!1){const I=En(D),P=Dn(I,y),se=yield new qf(I,P,b).execute();return se&&!b&&(delete se.user._redirectEventId,yield I._persistUserIfCurrent(se.user),yield I._setRedirectUser(null,y)),se})).apply(this,arguments)}function Nt(D){return tp.apply(this,arguments)}function tp(){return(tp=(0,h.Z)(function*(D){const y=Po(`${D.uid}:::`);return D._redirectEventId=y,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),y})).apply(this,arguments)}class Od{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let b=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(y,I)&&(b=!0,this.sendToConsumer(y,I),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jo(D);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=y,b=!0)),b}sendToConsumer(y,b){var I;if(y.error&&!jo(y)){const P=(null===(I=y.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";b.onError(Mt(this.auth,P))}else b.onAuthEvent(y)}isEventForConsumer(y,b){const I=null===b.eventId||!!y.eventId&&y.eventId===b.eventId;return b.filter.includes(y.type)&&I}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pd(y))}saveEventToCache(y){this.cachedEventUids.add(Pd(y)),this.lastProcessedEventTime=Date.now()}}function Pd(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(y=>y).join("-")}function jo({type:D,error:y}){return"unknown"===D&&"auth/no-auth-event"===(null==y?void 0:y.code)}function $g(D){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(D,y={}){return qt(D,"GET","/v1/projects",y)})).apply(this,arguments)}const np=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fb=/^https?/;function Is(){return(Is=(0,h.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:y}=yield $g(D);for(const b of y)try{if(Kn(b))return}catch(I){}At(D,"unauthorized-domain")})).apply(this,arguments)}function Kn(D){const y=Ke(),{protocol:b,hostname:I}=new URL(y);if(D.startsWith("chrome-extension://")){const se=new URL(D);return""===se.hostname&&""===I?"chrome-extension:"===b&&D.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===b&&se.hostname===I}if(!fb.test(b))return!1;if(np.test(D))return I===D;const P=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(I)}const mr=new wt(3e4,6e4);function Hg(){const D=Pn().___jsl;if(null==D?void 0:D.H)for(const y of Object.keys(D.H))if(D.H[y].r=D.H[y].r||[],D.H[y].L=D.H[y].L||[],D.H[y].r=[...D.H[y].L],D.CP)for(let b=0;b<D.CP.length;b++)D.CP[b]=null}let xa=null;function Jc(D){return xa=xa||function(D){return new Promise((y,b)=>{var I,P,U;function se(){Hg(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Hg(),b(Mt(D,"network-request-failed"))},timeout:mr.get()})}if(null===(P=null===(I=Pn().gapi)||void 0===I?void 0:I.iframes)||void 0===P?void 0:P.Iframe)y(gapi.iframes.getContext());else{if(!(null===(U=Pn().gapi)||void 0===U?void 0:U.load)){const Se=Md("iframefcb");return Pn()[Se]=()=>{gapi.load?se():b(Mt(D,"network-request-failed"))},Hf(`https://apis.google.com/js/api.js?onload=${Se}`)}se()}}).catch(y=>{throw xa=null,y})}(D),xa}const zg=new wt(5e3,15e3),Ra={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fd(D){const y=D.config;Ue(y.authDomain,D,"auth-domain-config-required");const b=y.emulator?Nn(y,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,I={apiKey:y.apiKey,appName:D.name,v:Ie.SDK_VERSION},P=xl.get(D.config.apiHost);P&&(I.eid=P);const U=D._getFrameworks();return U.length&&(I.fw=U.join(",")),`${b}?${(0,Y.xO)(I).slice(1)}`}function $t(){return($t=(0,h.Z)(function*(D){const y=yield Jc(D),b=Pn().gapi;return Ue(b,D,"internal-error"),y.open({where:document.body,url:Fd(D),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ra,dontclear:!0},I=>new Promise(function(){var P=(0,h.Z)(function*(U,se){yield I.restyle({setHideOnLeave:!1});const Se=Mt(D,"network-request-failed"),We=Pn().setTimeout(()=>{se(Se)},zg.get());function at(){Pn().clearTimeout(We),U(I)}I.ping(at).then(at,()=>{se(Se)})});return function(U,se){return P.apply(this,arguments)}}()))})).apply(this,arguments)}const Xc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kl{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function tu(D,y,b,I,P,U){Ue(D.config.authDomain,D,"auth-domain-config-required"),Ue(D.config.apiKey,D,"invalid-api-key");const se={apiKey:D.config.apiKey,appName:D.name,authType:b,redirectUrl:I,v:Ie.SDK_VERSION,eventId:P};if(y instanceof bs){y.setDefaultLanguage(D.languageCode),se.providerId=y.providerId||"",(0,Y.xb)(y.getCustomParameters())||(se.customParameters=JSON.stringify(y.getCustomParameters()));for(const[We,at]of Object.entries(U||{}))se[We]=at}if(y instanceof Vc){const We=y.getScopes().filter(at=>""!==at);We.length>0&&(se.scopes=We.join(","))}D.tenantId&&(se.tid=D.tenantId);const Se=se;for(const We of Object.keys(Se))void 0===Se[We]&&delete Se[We];return`${function({config:D}){return D.emulator?Nn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,Y.xO)(Se).slice(1)}`}const Na="webStorageSupport";class Xs extends class{constructor(y){this.factorId=y}_process(y,b,I){switch(b.type){case"enroll":return this._finalizeEnroll(y,b.credential,I);case"signin":return this._finalizeSignIn(y,b.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Xs(y)}_finalizeEnroll(y,b,I){return function(D,y){return qt(D,"POST","/v2/accounts/mfaEnrollment:finalize",bn(D,y))}(y,{idToken:b,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,b){return function(D,y){return qt(D,"POST","/v2/accounts/mfaSignIn:finalize",bn(D,y))}(y,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gb=(()=>{class D{constructor(){}static assertion(b){return Xs._fromCredential(b)}}return D.FACTOR_ID="phone",D})();var D;class yb{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var b=this;return(0,h.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const b=this.auth.onIdTokenChanged(I=>{var P;y((null===(P=I)||void 0===P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,b),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const b=this.internalListeners.get(y);!b||(this.internalListeners.delete(y),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zo(){return window}function iu(){return(iu=(0,h.Z)(function*(D,y,b){var I;const{BuildInfo:P}=zo();ve(y.sessionId,"AuthEvent did not contain a session ID");const U=yield Yg(y.sessionId),se={};return xr()?se.ibi=P.packageName:dl()?se.apn=P.packageName:At(D,"operation-not-supported-in-this-environment"),P.displayName&&(se.appDisplayName=P.displayName),se.sessionId=U,tu(D,b,y.type,void 0,null!==(I=y.eventId)&&void 0!==I?I:void 0,se)})).apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(D){const{BuildInfo:y}=zo(),b={};xr()?b.iosBundleId=y.packageName:dl()?b.androidPackageName=y.packageName:At(D,"operation-not-supported-in-this-environment"),yield $g(D,b)})).apply(this,arguments)}function lp(){return(lp=(0,h.Z)(function*(D,y,b){const{cordova:I}=zo();let P=()=>{};try{yield new Promise((U,se)=>{let Se=null;function We(){var mt;U();const Qn=null===(mt=I.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof Qn&&Qn(),"function"==typeof(null==b?void 0:b.close)&&b.close()}function at(){Se||(Se=window.setTimeout(()=>{se(Mt(D,"redirect-cancelled-by-user"))},2e3))}function St(){"visible"===(null==document?void 0:document.visibilityState)&&at()}y.addPassiveListener(We),document.addEventListener("resume",at,!1),dl()&&document.addEventListener("visibilitychange",St,!1),P=()=>{y.removePassiveListener(We),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",St,!1),Se&&window.clearTimeout(Se)}})}finally{P()}})).apply(this,arguments)}function Yg(D){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,h.Z)(function*(D){const y=Bd(D),b=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(b)).map(P=>P.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bd(D){if(ve(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(D);const y=new ArrayBuffer(D.length),b=new Uint8Array(y);for(let I=0;I<D.length;I++)b[I]=D.charCodeAt(I);return b}D="Browser",(0,Ie._registerComponent)(new pe.wA("auth",(y,{options:b})=>{const I=y.getProvider("app").getImmediate(),{apiKey:P,authDomain:U}=I.options;return(se=>{Ue(P&&!P.includes(":"),"invalid-api-key",{appName:se.name}),Ue(!(null==U?void 0:U.includes(":")),"argument-error",{appName:se.name});const Se={apiKey:P,authDomain:U,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fn(D)},We=new mi(se,Se);return function(D,y){const b=(null==y?void 0:y.persistence)||[],I=(Array.isArray(b)?b:[b]).map(Ce);(null==y?void 0:y.errorMap)&&D._updateErrorMap(y.errorMap),D._initializeWithPersistence(I,null==y?void 0:y.popupRedirectResolver)}(We,b),We})(I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,b,I)=>{y.getProvider("auth-internal").initialize()})),(0,Ie._registerComponent)(new pe.wA("auth-internal",y=>{const b=En(y.getProvider("auth").getImmediate());return new yb(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)("@firebase/auth","0.18.1",void 0);class $d extends Od{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(y)),super.onEvent(y)}initialized(){var y=this;return(0,h.Z)(function*(){yield y.initPromise})()}}function su(D){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,h.Z)(function*(D){const y=yield Qg()._get(Jg(D));return y&&(yield Qg()._remove(Jg(D))),y})).apply(this,arguments)}function bb(){const D=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<20;b++){const I=Math.floor(Math.random()*y.length);D.push(y.charAt(I))}return D.join("")}function Qg(){return Ce(Uf)}function Jg(D){return nr("authEvent",D.config.apiKey,D.name)}function As(D){if(!(null==D?void 0:D.includes("?")))return{};const[y,...b]=D.split("?");return(0,Y.zd)(b.join("?"))}function e_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mt("no-auth-event")}}function Go(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function jd(D=(0,Y.z$)()){return!("file:"!==Go()&&"ionic:"!==Go()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function zd(){try{const D=self.localStorage,y=Po();if(D)return D.setItem(y,"1"),D.removeItem(y),!function(D=(0,Y.z$)()){return(0,Y.w1)()&&11===(null==document?void 0:document.documentMode)||function(D=(0,Y.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,Y.hl)()}catch(D){return Gd()&&(0,Y.hl)()}return!1}function Gd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function qd(){return("http:"===Go()||"https:"===Go()||(0,Y.ru)()||jd())&&!((0,Y.b$)()||(0,Y.UG)())&&zd()&&!Gd()}function i_(){return jd()&&"undefined"!=typeof document}function Ms(){return(Ms=(0,h.Z)(function*(){return!!i_()&&new Promise(D=>{const y=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),D(!0)})})})).apply(this,arguments)}const vi={LOCAL:"local",NONE:"none",SESSION:"session"},xs=Ue,Tb="persistence";function gr(D){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(D){yield D._initializationPromise;const y=La(),b=nr(Tb,D.config.apiKey,D.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(b,D._getPersistence())})).apply(this,arguments)}function La(){return"undefined"!=typeof window?window:null}const _r=Ue;class bi{constructor(){this.browserResolver=Ce(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=Ml}_openPopup(y,b,I,P){var U=this;return(0,h.Z)(function*(){var se;ve(null===(se=U.eventManagers[y._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const Se=tu(y,b,I,Ke(),P);return function(D,y,b,I=500,P=600){const U=Math.max((window.screen.availHeight-P)/2,0).toString(),se=Math.max((window.screen.availWidth-I)/2,0).toString();let Se="";const We=Object.assign(Object.assign({},Xc),{width:I.toString(),height:P.toString(),top:U,left:se}),at=(0,Y.z$)().toLowerCase();b&&(Se=mf(at)?"_blank":b),ld(at)&&(y=y||"http://localhost",We.scrollbars="yes");const St=Object.entries(We).reduce((Qn,[ei,uu])=>`${Qn}${ei}=${uu},`,"");if(function(D=(0,Y.z$)()){var y;return xr(D)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(at)&&"_self"!==Se)return function(D,y){const b=document.createElement("a");b.href=D,b.target=y;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(I)}(y||"",Se),new kl(null);const mt=window.open(y||"",Se,St);Ue(mt,D,"popup-blocked");try{mt.focus()}catch(Qn){}return new kl(mt)}(y,Se,Po())})()}_openRedirect(y,b,I,P){var U=this;return(0,h.Z)(function*(){return yield U._originValidation(y),D=tu(y,b,I,Ke(),P),Pn().location.href=D,new Promise(()=>{});var D})()}_initialize(y){const b=y._key();if(this.eventManagers[b]){const{manager:P,promise:U}=this.eventManagers[b];return P?Promise.resolve(P):(ve(U,"If manager is not set, promise should be"),U)}const I=this.initAndGetManager(y);return this.eventManagers[b]={promise:I},I}initAndGetManager(y){var b=this;return(0,h.Z)(function*(){const I=yield function(D){return $t.apply(this,arguments)}(y),P=new Od(y);return I.register("authEvent",U=>(Ue(null==U?void 0:U.authEvent,y,"invalid-auth-event"),{status:P.onEvent(U.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[y._key()]={manager:P},b.iframes[y._key()]=I,P})()}_isIframeWebStorageSupported(y,b){this.iframes[y._key()].send(Na,{type:Na},P=>{var U;const se=null===(U=null==P?void 0:P[0])||void 0===U?void 0:U[Na];void 0!==se&&b(!!se),At(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function(D){return Is.apply(this,arguments)}(y)),this.originValidationPromises[b]}get _shouldInitProactively(){return tt()||cd()||xr()}}),this.cordovaResolver=Ce(class{constructor(){this._redirectPersistence=Cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ml}_initialize(y){var b=this;return(0,h.Z)(function*(){const I=y._key();let P=b.eventManagers.get(I);return P||(P=new $d(y),b.eventManagers.set(I,P),b.attachCallbackListeners(y,P)),P})()}_openPopup(y){At(y,"operation-not-supported-in-this-environment")}_openRedirect(y,b,I,P){var U=this;return(0,h.Z)(function*(){!function(D){var y,b,I,P,U,se,Se,We,at,St;const mt=zo();Ue("function"==typeof(null===(y=null==mt?void 0:mt.universalLinks)||void 0===y?void 0:y.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ue(void 0!==(null===(b=null==mt?void 0:mt.BuildInfo)||void 0===b?void 0:b.packageName),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ue("function"==typeof(null===(U=null===(P=null===(I=null==mt?void 0:mt.cordova)||void 0===I?void 0:I.plugins)||void 0===P?void 0:P.browsertab)||void 0===U?void 0:U.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(We=null===(Se=null===(se=null==mt?void 0:mt.cordova)||void 0===se?void 0:se.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===We?void 0:We.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ue("function"==typeof(null===(St=null===(at=null==mt?void 0:mt.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===St?void 0:St.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const se=yield U._initialize(y);yield se.initialized(),se.resetRedirect(),Bo.clear(),yield U._originValidation(y);const Se=function(D,y,b=null){return{type:y,eventId:b,urlResponse:null,sessionId:bb(),postBody:null,tenantId:D.tenantId,error:Mt(D,"no-auth-event")}}(y,I,P);yield function(D,y){return Qg()._set(Jg(D),y)}(y,Se);const We=yield function(D,y,b){return iu.apply(this,arguments)}(y,Se,b),at=yield function(D){const{cordova:y}=zo();return new Promise(b=>{y.plugins.browsertab.isAvailable(I=>{let P=null;I?y.plugins.browsertab.openUrl(D):P=y.InAppBrowser.open(D,function(D=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),b(P)})})}(We);return function(D,y,b){return lp.apply(this,arguments)}(y,se,at)})()}_isIframeWebStorageSupported(y,b){throw new Error("Method not implemented.")}_originValidation(y){const b=y._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function(D){return Oa.apply(this,arguments)}(y)),this.originValidationPromises[b]}attachCallbackListeners(y,b){const{universalLinks:I,handleOpenURL:P,BuildInfo:U}=zo(),se=setTimeout((0,h.Z)(function*(){yield su(y),b.onEvent(e_())}),500),Se=function(){var St=(0,h.Z)(function*(mt){clearTimeout(se);const Qn=yield su(y);let ei=null;Qn&&(null==mt?void 0:mt.url)&&(ei=function(D,y){var b,I;const P=function(D){const y=As(D),b=y.link?decodeURIComponent(y.link):void 0,I=As(b).link,P=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return As(P).link||P||I||b||D}(y);if(P.includes("/__/auth/callback")){const U=As(P),se=U.firebaseError?function(D){try{return JSON.parse(D)}catch(y){return null}}(decodeURIComponent(U.firebaseError)):null,Se=null===(I=null===(b=null==se?void 0:se.code)||void 0===b?void 0:b.split("auth/"))||void 0===I?void 0:I[1],We=Se?Mt(Se):null;return We?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:P,postBody:null}}return null}(Qn,mt.url)),b.onEvent(ei||e_())});return function(Qn){return St.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,Se);const We=P,at=`${U.packageName.toLowerCase()}://`;zo().handleOpenURL=function(){var St=(0,h.Z)(function*(mt){if(mt.toLowerCase().startsWith(at)&&Se({url:mt}),"function"==typeof We)try{We(mt)}catch(Qn){console.error(Qn)}});return function(mt){return St.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Cs,this._completeRedirectFn=Ml}_initialize(y){var b=this;return(0,h.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,b,I,P){var U=this;return(0,h.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openPopup(y,b,I,P)})()}_openRedirect(y,b,I,P){var U=this;return(0,h.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._openRedirect(y,b,I,P)})()}_isIframeWebStorageSupported(y,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,b)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return i_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _r(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,h.Z)(function*(){if(y.underlyingResolver)return;const b=yield function(){return Ms.apply(this,arguments)}();y.underlyingResolver=b?y.cordovaResolver:y.browserResolver})()}}function Wd(D){return D.unwrap()}function pp(D){return mp(D)}function Ei(D,y){var b;const I=null===(b=y.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new Sb(D,function(D,y){var b;const I=(0,Y.m9)(D),P=y;return Ue(y.operationType,I,"argument-error"),Ue(null===(b=P.serverResponse)||void 0===b?void 0:b.mfaPendingCredential,I,"argument-error"),wl._fromError(I,P)}(D,y));else if(I){const P=mp(y),U=y;P&&(U.credential=P,U.tenantId=I.tenantId||void 0,U.email=I.email||void 0,U.phoneNumber=I.phoneNumber||void 0)}}function mp(D){const{_tokenResponse:y}=D instanceof Y.ZR?D.customData:D;if(!y)return null;if(!(D instanceof Y.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return Lo.credentialFromResult(D);const b=y.providerId;if(!b||"password"===b)return null;let I;switch(b){case"google.com":I=ko;break;case"facebook.com":I=_f;break;case"github.com":I=_g;break;case"twitter.com":I=vf;break;default:const{oauthIdToken:P,oauthAccessToken:U,oauthTokenSecret:se,pendingToken:Se,nonce:We}=y;return U||se||P||Se?Se?b.startsWith("saml.")?No._create(b,Se):vs._fromParams({providerId:b,signInMethod:b,pendingToken:Se,idToken:P,accessToken:U}):new ga(b).credential({idToken:P,accessToken:U,rawNonce:We}):null}return D instanceof Y.ZR?I.credentialFromError(D):I.credentialFromResult(D)}function Rr(D,y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,h.Z)(function*(D,y){let b;try{b=yield y}catch(U){throw U instanceof Y.ZR&&Ei(D,U),U}const{operationType:I,user:P}=b;return{operationType:I,credential:pp(b),additionalUserInfo:ib(b),user:no.getOrCreate(P)}})).apply(this,arguments)}function Va(D,y){return gp.apply(this,arguments)}function gp(){return(gp=(0,h.Z)(function*(D,y){const b=yield y;return{verificationId:b.verificationId,confirm:I=>Rr(D,b.confirm(I))}})).apply(this,arguments)}class Sb{constructor(y,b){this.resolver=b,this.auth=function(D){return D.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Rr(Wd(this.auth),this.resolver.resolveSignIn(y))}}class no{constructor(y){this._delegate=y,this.multiFactor=function(D){const y=(0,Y.m9)(D);return Es.has(y)||Es.set(y,Pf._fromUser(y)),Es.get(y)}(y)}static getOrCreate(y){return no.USER_MAP.has(y)||no.USER_MAP.set(y,new no(y)),no.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var b=this;return(0,h.Z)(function*(){return Rr(b.auth,gd(b._delegate,y))})()}linkWithPhoneNumber(y,b){var I=this;return(0,h.Z)(function*(){return Va(I.auth,function(D,y,b){return Og.apply(this,arguments)}(I._delegate,y,b))})()}linkWithPopup(y){var b=this;return(0,h.Z)(function*(){return Rr(b.auth,function(D,y,b){return kd.apply(this,arguments)}(b._delegate,y,bi))})()}linkWithRedirect(y){var b=this;return(0,h.Z)(function*(){return yield gr(En(b.auth)),function(D,y,b){return function(D,y,b){return Xf.apply(this,arguments)}(D,y,b)}(b._delegate,y,bi)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var b=this;return(0,h.Z)(function*(){return Rr(b.auth,Qr(b._delegate,y))})()}reauthenticateWithPhoneNumber(y,b){return Va(this.auth,function(D,y,b){return Bi.apply(this,arguments)}(this._delegate,y,b))}reauthenticateWithPopup(y){return Rr(this.auth,function(D,y,b){return Fg.apply(this,arguments)}(this._delegate,y,bi))}reauthenticateWithRedirect(y){var b=this;return(0,h.Z)(function*(){return yield gr(En(b.auth)),function(D,y,b){return function(D,y,b){return $o.apply(this,arguments)}(D,y,b)}(b._delegate,y,bi)})()}sendEmailVerification(y){return function(D,y){return _i.apply(this,arguments)}(this._delegate,y)}unlink(y){var b=this;return(0,h.Z)(function*(){return yield function(D,y){return Ef.apply(this,arguments)}(b._delegate,y),b})()}updateEmail(y){return function(D,y){return kf((0,Y.m9)(D),y,null)}(this._delegate,y)}updatePassword(y){return function(D,y){return kf((0,Y.m9)(D),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(D,y){return Hn.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(D,y){return jc.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,b){return function(D,y,b){return Ed.apply(this,arguments)}(this._delegate,y,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}no.USER_MAP=new WeakMap;const Ll=Ue;let Ua=(()=>{class D{constructor(b,I){if(this.app=b,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:P}=b.options;Ll(P,"invalid-api-key",{appName:b.name});let U=[Zt];if("undefined"!=typeof window){U=function(D,y){const b=La();if(!(null==b?void 0:b.sessionStorage))return[];const I=nr(Tb,D,y);switch(b.sessionStorage.getItem(I)){case vi.NONE:return[Zt];case vi.LOCAL:return[Fo,Cs];case vi.SESSION:return[Cs];default:return[]}}(P,b.name);for(const Se of[Fo,Uf,Cs])U.includes(Se)||U.push(Se)}Ll(P,"invalid-api-key",{appName:b.name});const se="undefined"!=typeof window?bi:void 0;this._delegate=I.initialize({options:{persistence:U,popupRedirectResolver:se}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?no.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,I){!function(D,y,b){const I=En(D);Ue(I._canInitEmulator,I,"emulator-config-failed"),Ue(/^https?:\/\//.test(y),I,"invalid-emulator-scheme");const P=!!(null==b?void 0:b.disableWarnings),U=On(y),{host:se,port:Se}=function(D){const y=On(D),b=/(\/\/)?([^?#/]+)/.exec(D.substr(y.length));if(!b)return{host:"",port:null};const I=b[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(I);if(P){const U=P[1];return{host:U,port:ma(I.substr(U.length+1))}}{const[U,se]=I.split(":");return{host:U,port:ma(se)}}}(y);I.config.emulator={url:`${U}//${se}${null===Se?"":`:${Se}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:se,port:Se,protocol:U.replace(":",""),options:Object.freeze({disableWarnings:P})}),function(D){function y(){const b=document.createElement("p"),I=b.style;b.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",b.classList.add("firebase-emulator-warning"),document.body.appendChild(b)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!D&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(P)}(this._delegate,b,I)}applyActionCode(b){return function(D,y){return ya.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return $e(this._delegate,b)}confirmPasswordReset(b,I){return function(D,y,b){return Sf.apply(this,arguments)}(this._delegate,b,I)}createUserWithEmailAndPassword(b,I){var P=this;return(0,h.Z)(function*(){return Rr(P._delegate,function(D,y,b){return Zs.apply(this,arguments)}(P._delegate,b,I))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function(D,y){return Mf.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function(D,y){const b=hd.parseLink(y);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}(0,b)}getRedirectResult(){var b=this;return(0,h.Z)(function*(){Ll(qd(),b._delegate,"operation-not-supported-in-this-environment");const I=yield function(D,y){return Bg.apply(this,arguments)}(b._delegate,bi);return I?Rr(b._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function(D,y){En(D)._logFramework(y)}(this._delegate,b)}onAuthStateChanged(b,I,P){const{next:U,error:se,complete:Se}=Zd(b,I,P);return this._delegate.onAuthStateChanged(U,se,Se)}onIdTokenChanged(b,I,P){const{next:U,error:se,complete:Se}=Zd(b,I,P);return this._delegate.onIdTokenChanged(U,se,Se)}sendSignInLinkToEmail(b,I){return function(D,y,b){return bl.apply(this,arguments)}(this._delegate,b,I)}sendPasswordResetEmail(b,I){return function(D,y,b){return Df.apply(this,arguments)}(this._delegate,b,I||void 0)}setPersistence(b){var I=this;return(0,h.Z)(function*(){let P;switch(function(D,y){xs(Object.values(vi).includes(y),D,"invalid-persistence-type"),(0,Y.b$)()?xs(y!==vi.SESSION,D,"unsupported-persistence-type"):(0,Y.UG)()?xs(y===vi.NONE,D,"unsupported-persistence-type"):Gd()?xs(y===vi.NONE||y===vi.LOCAL&&(0,Y.hl)(),D,"unsupported-persistence-type"):xs(y===vi.NONE||zd(),D,"unsupported-persistence-type")}(I._delegate,b),b){case vi.SESSION:P=Cs;break;case vi.LOCAL:P=(yield Ce(Fo)._isAvailable())?Fo:Uf;break;case vi.NONE:P=Zt;break;default:return At("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(P)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Rr(this._delegate,function(D){return Uc.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Rr(this._delegate,$r(this._delegate,b))}signInWithCustomToken(b){return Rr(this._delegate,function(D,y){return _d.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,I){return Rr(this._delegate,function(D,y,b){return $r((0,Y.m9)(D),fd.credential(y,b))}(this._delegate,b,I))}signInWithEmailLink(b,I){return Rr(this._delegate,function(D,y,b){return El.apply(this,arguments)}(this._delegate,b,I))}signInWithPhoneNumber(b,I){return Va(this._delegate,function(D,y,b){return Ds.apply(this,arguments)}(this._delegate,b,I))}signInWithPopup(b){var I=this;return(0,h.Z)(function*(){return Ll(qd(),I._delegate,"operation-not-supported-in-this-environment"),Rr(I._delegate,function(D,y,b){return Rd.apply(this,arguments)}(I._delegate,b,bi))})()}signInWithRedirect(b){var I=this;return(0,h.Z)(function*(){return Ll(qd(),I._delegate,"operation-not-supported-in-this-environment"),yield gr(I._delegate),function(D,y,b){return function(D,y,b){return Lg.apply(this,arguments)}(D,y,b)}(I._delegate,b,bi)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function(D,y){return vn.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=vi,D})();function Zd(D,y,b){let I=D;"function"!=typeof D&&({next:I,error:y,complete:b}=D);const P=I;return{next:se=>P(se&&no.getOrCreate(se)),error:y,complete:b}}class Yd{constructor(){this.providerId="phone",this._delegate=new Lo(Wd(le.Z.auth()))}static credential(y,b){return Lo.credential(y,b)}verifyPhoneNumber(y,b){return this._delegate.verifyPhoneNumber(y,b)}unwrap(){return this._delegate}}Yd.PHONE_SIGN_IN_METHOD=Lo.PHONE_SIGN_IN_METHOD,Yd.PROVIDER_ID=Lo.PROVIDER_ID;const Kd=Ue;class _p{constructor(y,b,I=le.Z.app()){var P;Kd(null===(P=I.options)||void 0===P?void 0:P.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new jf(y,b,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(D){D.INTERNAL.registerComponent(new pe.wA("auth-compat",y=>{const b=y.getProvider("app-compat").getImmediate(),I=y.getProvider("auth");return new Ua(b,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fd,FacebookAuthProvider:_f,GithubAuthProvider:_g,GoogleAuthProvider:ko,OAuthProvider:ga,PhoneAuthProvider:Yd,PhoneMultiFactorGenerator:gb,RecaptchaVerifier:_p,TwitterAuthProvider:vf,Auth:Ua,AuthCredential:Ni,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.1.4")}(le.Z)},7574:(ot,Oe,j)=>{"use strict";j.d(Oe,{y:()=>q});var h=j(7393),Y=j(9181),Ie=j(6490),re=j(6554),pe=j(4487);var H=j(2494);let q=(()=>{class ce{constructor(Ae){this._isScalar=!1,Ae&&(this._subscribe=Ae)}lift(Ae){const ye=new ce;return ye.source=this,ye.operator=Ae,ye}subscribe(Ae,ye,Be){const{operator:Me}=this,Ye=function(ce,fe,Ae){if(ce){if(ce instanceof h.L)return ce;if(ce[Y.b])return ce[Y.b]()}return ce||fe||Ae?new h.L(ce,fe,Ae):new h.L(Ie.c)}(Ae,ye,Be);if(Ye.add(Me?Me.call(Ye,this.source):this.source||H.v.useDeprecatedSynchronousErrorHandling&&!Ye.syncErrorThrowable?this._subscribe(Ye):this._trySubscribe(Ye)),H.v.useDeprecatedSynchronousErrorHandling&&Ye.syncErrorThrowable&&(Ye.syncErrorThrowable=!1,Ye.syncErrorThrown))throw Ye.syncErrorValue;return Ye}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(ye){H.v.useDeprecatedSynchronousErrorHandling&&(Ae.syncErrorThrown=!0,Ae.syncErrorValue=ye),function(ce){for(;ce;){const{closed:fe,destination:Ae,isStopped:ye}=ce;if(fe||ye)return!1;ce=Ae&&Ae instanceof h.L?Ae:null}return!0}(Ae)?Ae.error(ye):console.warn(ye)}}forEach(Ae,ye){return new(ye=G(ye))((Be,Me)=>{let Ye;Ye=this.subscribe(Et=>{try{Ae(Et)}catch(At){Me(At),Ye&&Ye.unsubscribe()}},Me,Be)})}_subscribe(Ae){const{source:ye}=this;return ye&&ye.subscribe(Ae)}[re.L](){return this}pipe(...Ae){return 0===Ae.length?this:function(ce){return 0===ce.length?pe.y:1===ce.length?ce[0]:function(Ae){return ce.reduce((ye,Be)=>Be(ye),Ae)}}(Ae)(this)}toPromise(Ae){return new(Ae=G(Ae))((ye,Be)=>{let Me;this.subscribe(Ye=>Me=Ye,Ye=>Be(Ye),()=>ye(Me))})}}return ce.create=fe=>new ce(fe),ce})();function G(ce){if(ce||(ce=H.v.Promise||Promise),!ce)throw new Error("no Promise impl found");return ce}},6490:(ot,Oe,j)=>{"use strict";j.d(Oe,{c:()=>Y});var h=j(2494),le=j(4449);const Y={closed:!0,next(Ie){},error(Ie){if(h.v.useDeprecatedSynchronousErrorHandling)throw Ie;(0,le.z)(Ie)},complete(){}}},9765:(ot,Oe,j)=>{"use strict";j.d(Oe,{Yc:()=>pe,xQ:()=>oe});var h=j(7574),le=j(7393),Y=j(5319),Ie=j(7971),De=j(8858),re=j(9181);class pe extends le.L{constructor(q){super(q),this.destination=q}}let oe=(()=>{class H extends h.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[re.b](){return new pe(this)}lift(G){const ce=new X(this,this);return ce.operator=G,ce}next(G){if(this.closed)throw new Ie.N;if(!this.isStopped){const{observers:ce}=this,fe=ce.length,Ae=ce.slice();for(let ye=0;ye<fe;ye++)Ae[ye].next(G)}}error(G){if(this.closed)throw new Ie.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:ce}=this,fe=ce.length,Ae=ce.slice();for(let ye=0;ye<fe;ye++)Ae[ye].error(G);this.observers.length=0}complete(){if(this.closed)throw new Ie.N;this.isStopped=!0;const{observers:G}=this,ce=G.length,fe=G.slice();for(let Ae=0;Ae<ce;Ae++)fe[Ae].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new Ie.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new Ie.N;return this.hasError?(G.error(this.thrownError),Y.w.EMPTY):this.isStopped?(G.complete(),Y.w.EMPTY):(this.observers.push(G),new De.W(this,G))}asObservable(){const G=new h.y;return G.source=this,G}}return H.create=(q,G)=>new X(q,G),H})();class X extends oe{constructor(q,G){super(),this.destination=q,this.source=G}next(q){const{destination:G}=this;G&&G.next&&G.next(q)}error(q){const{destination:G}=this;G&&G.error&&this.destination.error(q)}complete(){const{destination:q}=this;q&&q.complete&&this.destination.complete()}_subscribe(q){const{source:G}=this;return G?this.source.subscribe(q):Y.w.EMPTY}}},8858:(ot,Oe,j)=>{"use strict";j.d(Oe,{W:()=>le});var h=j(5319);class le extends h.w{constructor(Ie,De){super(),this.subject=Ie,this.subscriber=De,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ie=this.subject,De=Ie.observers;if(this.subject=null,!De||0===De.length||Ie.isStopped||Ie.closed)return;const re=De.indexOf(this.subscriber);-1!==re&&De.splice(re,1)}}},7393:(ot,Oe,j)=>{"use strict";j.d(Oe,{L:()=>pe});var h=j(9105),le=j(6490),Y=j(5319),Ie=j(9181),De=j(2494),re=j(4449);class pe extends Y.w{constructor(H,q,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=le.c;break;case 1:if(!H){this.destination=le.c;break}if("object"==typeof H){H instanceof pe?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,H,q,G)}}[Ie.b](){return this}static create(H,q,G){const ce=new pe(H,q,G);return ce.syncErrorThrowable=!1,ce}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class oe extends pe{constructor(H,q,G,ce){super(),this._parentSubscriber=H;let fe,Ae=this;(0,h.m)(q)?fe=q:q&&(fe=q.next,G=q.error,ce=q.complete,q!==le.c&&(Ae=Object.create(q),(0,h.m)(Ae.unsubscribe)&&this.add(Ae.unsubscribe.bind(Ae)),Ae.unsubscribe=this.unsubscribe.bind(this))),this._context=Ae,this._next=fe,this._error=G,this._complete=ce}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:q}=this;De.v.useDeprecatedSynchronousErrorHandling&&q.syncErrorThrowable?this.__tryOrSetError(q,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:q}=this,{useDeprecatedSynchronousErrorHandling:G}=De.v;if(this._error)G&&q.syncErrorThrowable?(this.__tryOrSetError(q,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(q.syncErrorThrowable)G?(q.syncErrorValue=H,q.syncErrorThrown=!0):(0,re.z)(H),this.unsubscribe();else{if(this.unsubscribe(),G)throw H;(0,re.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const q=()=>this._complete.call(this._context);De.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,q),this.unsubscribe()):(this.__tryOrUnsub(q),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,q){try{H.call(this._context,q)}catch(G){if(this.unsubscribe(),De.v.useDeprecatedSynchronousErrorHandling)throw G;(0,re.z)(G)}}__tryOrSetError(H,q,G){if(!De.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{q.call(this._context,G)}catch(ce){return De.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=ce,H.syncErrorThrown=!0,!0):((0,re.z)(ce),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},5319:(ot,Oe,j)=>{"use strict";j.d(Oe,{w:()=>re});var h=j(9796),le=j(1555),Y=j(9105);const De=(()=>{function oe(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((H,q)=>`${q+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return oe.prototype=Object.create(Error.prototype),oe})();class re{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:q,_unsubscribe:G,_subscriptions:ce}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof re)H.remove(this);else if(null!==H)for(let fe=0;fe<H.length;++fe)H[fe].remove(this);if((0,Y.m)(G)){q&&(this._unsubscribe=void 0);try{G.call(this)}catch(fe){X=fe instanceof De?pe(fe.errors):[fe]}}if((0,h.k)(ce)){let fe=-1,Ae=ce.length;for(;++fe<Ae;){const ye=ce[fe];if((0,le.K)(ye))try{ye.unsubscribe()}catch(Be){X=X||[],Be instanceof De?X=X.concat(pe(Be.errors)):X.push(Be)}}}if(X)throw new De(X)}add(X){let H=X;if(!X)return re.EMPTY;switch(typeof X){case"function":H=new re(X);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof re)){const ce=H;H=new re,H._subscriptions=[ce]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:q}=H;if(null===q)H._parentOrParents=this;else if(q instanceof re){if(q===this)return H;H._parentOrParents=[q,this]}else{if(-1!==q.indexOf(this))return H;q.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[H]:G.push(H),H}remove(X){const H=this._subscriptions;if(H){const q=H.indexOf(X);-1!==q&&H.splice(q,1)}}}var oe;function pe(oe){return oe.reduce((X,H)=>X.concat(H instanceof De?H.errors:H),[])}re.EMPTY=((oe=new re).closed=!0,oe)},2494:(ot,Oe,j)=>{"use strict";j.d(Oe,{v:()=>le});let h=!1;const le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Y){if(Y){const Ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ie.stack)}else h&&console.log("RxJS: Back to a better error behavior. Thank you. <3");h=Y},get useDeprecatedSynchronousErrorHandling(){return h}}},5345:(ot,Oe,j)=>{"use strict";j.d(Oe,{IY:()=>Ie,Ds:()=>re,ft:()=>oe});var h=j(7393),le=j(7574),Y=j(7444);class Ie extends h.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class re extends h.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function oe(X,H){if(H.closed)return;if(X instanceof le.y)return X.subscribe(H);let q;try{q=(0,Y.s)(X)(H)}catch(G){H.error(G)}return q}},2441:(ot,Oe,j)=>{"use strict";j.d(Oe,{c:()=>De,N:()=>re});var h=j(9765),le=j(7574),Y=j(5319),Ie=j(1307);class De extends le.y{constructor(q,G){super(),this.source=q,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(q){return this.getSubject().subscribe(q)}getSubject(){const q=this._subject;return(!q||q.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let q=this._connection;return q||(this._isComplete=!1,q=this._connection=new Y.w,q.add(this.source.subscribe(new pe(this.getSubject(),this))),q.closed&&(this._connection=null,q=Y.w.EMPTY)),q}refCount(){return(0,Ie.x)()(this)}}const re=(()=>{const H=De.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:H._subscribe},_isComplete:{value:H._isComplete,writable:!0},getSubject:{value:H.getSubject},connect:{value:H.connect},refCount:{value:H.refCount}}})();class pe extends h.Yc{constructor(q,G){super(q),this.connectable=G}_error(q){this._unsubscribe(),super._error(q)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const q=this.connectable;if(q){this.connectable=null;const G=q._connection;q._refCount=0,q._subject=null,q._connection=null,G&&G.unsubscribe()}}}},9193:(ot,Oe,j)=>{"use strict";j.d(Oe,{E:()=>le,c:()=>Y});var h=j(7574);const le=new h.y(De=>De.complete());function Y(De){return De?function(De){return new h.y(re=>De.schedule(()=>re.complete()))}(De):le}},4402:(ot,Oe,j)=>{"use strict";j.d(Oe,{D:()=>Ae});var h=j(7574),le=j(7444),Y=j(5319),Ie=j(6554),pe=j(4087),oe=j(377),q=j(4072),G=j(9489);function Ae(ye,Be){return Be?function(ye,Be){if(null!=ye){if(function(ye){return ye&&"function"==typeof ye[Ie.L]}(ye))return function(ye,Be){return new h.y(Me=>{const Ye=new Y.w;return Ye.add(Be.schedule(()=>{const Et=ye[Ie.L]();Ye.add(Et.subscribe({next(At){Ye.add(Be.schedule(()=>Me.next(At)))},error(At){Ye.add(Be.schedule(()=>Me.error(At)))},complete(){Ye.add(Be.schedule(()=>Me.complete()))}}))})),Ye})}(ye,Be);if((0,q.t)(ye))return function(ye,Be){return new h.y(Me=>{const Ye=new Y.w;return Ye.add(Be.schedule(()=>ye.then(Et=>{Ye.add(Be.schedule(()=>{Me.next(Et),Ye.add(Be.schedule(()=>Me.complete()))}))},Et=>{Ye.add(Be.schedule(()=>Me.error(Et)))}))),Ye})}(ye,Be);if((0,G.z)(ye))return(0,pe.r)(ye,Be);if(function(ye){return ye&&"function"==typeof ye[oe.hZ]}(ye)||"string"==typeof ye)return function(ye,Be){if(!ye)throw new Error("Iterable cannot be null");return new h.y(Me=>{const Ye=new Y.w;let Et;return Ye.add(()=>{Et&&"function"==typeof Et.return&&Et.return()}),Ye.add(Be.schedule(()=>{Et=ye[oe.hZ](),Ye.add(Be.schedule(function(){if(Me.closed)return;let At,Mt;try{const nn=Et.next();At=nn.value,Mt=nn.done}catch(nn){return void Me.error(nn)}Mt?Me.complete():(Me.next(At),this.schedule())}))})),Ye})}(ye,Be)}throw new TypeError((null!==ye&&typeof ye||ye)+" is not observable")}(ye,Be):ye instanceof h.y?ye:new h.y((0,le.s)(ye))}},6693:(ot,Oe,j)=>{"use strict";j.d(Oe,{n:()=>Ie});var h=j(7574),le=j(5015),Y=j(4087);function Ie(De,re){return re?(0,Y.r)(De,re):new h.y((0,le.V)(De))}},6682:(ot,Oe,j)=>{"use strict";j.d(Oe,{T:()=>De});var h=j(7574),le=j(4869),Y=j(3282),Ie=j(6693);function De(...re){let pe=Number.POSITIVE_INFINITY,oe=null,X=re[re.length-1];return(0,le.K)(X)?(oe=re.pop(),re.length>1&&"number"==typeof re[re.length-1]&&(pe=re.pop())):"number"==typeof X&&(pe=re.pop()),null===oe&&1===re.length&&re[0]instanceof h.y?re[0]:(0,Y.J)(pe)((0,Ie.n)(re,oe))}},5917:(ot,Oe,j)=>{"use strict";j.d(Oe,{of:()=>Ie});var h=j(4869),le=j(6693),Y=j(4087);function Ie(...De){let re=De[De.length-1];return(0,h.K)(re)?(De.pop(),(0,Y.r)(De,re)):(0,le.n)(De)}},205:(ot,Oe,j)=>{"use strict";j.d(Oe,{_:()=>le});var h=j(7574);function le(Ie,De){return new h.y(De?re=>De.schedule(Y,0,{error:Ie,subscriber:re}):re=>re.error(Ie))}function Y({error:Ie,subscriber:De}){De.error(Ie)}},8002:(ot,Oe,j)=>{"use strict";j.d(Oe,{U:()=>le});var h=j(7393);function le(De,re){return function(oe){if("function"!=typeof De)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new Y(De,re))}}class Y{constructor(re,pe){this.project=re,this.thisArg=pe}call(re,pe){return pe.subscribe(new Ie(re,this.project,this.thisArg))}}class Ie extends h.L{constructor(re,pe,oe){super(re),this.project=pe,this.count=0,this.thisArg=oe||this}_next(re){let pe;try{pe=this.project.call(this.thisArg,re,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(pe)}}},3282:(ot,Oe,j)=>{"use strict";j.d(Oe,{J:()=>Y});var h=j(9773),le=j(4487);function Y(Ie=Number.POSITIVE_INFINITY){return(0,h.zg)(le.y,Ie)}},9773:(ot,Oe,j)=>{"use strict";j.d(Oe,{zg:()=>Ie});var h=j(8002),le=j(4402),Y=j(5345);function Ie(oe,X,H=Number.POSITIVE_INFINITY){return"function"==typeof X?q=>q.pipe(Ie((G,ce)=>(0,le.D)(oe(G,ce)).pipe((0,h.U)((fe,Ae)=>X(G,fe,ce,Ae))),H)):("number"==typeof X&&(H=X),q=>q.lift(new De(oe,H)))}class De{constructor(X,H=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=H}call(X,H){return H.subscribe(new re(X,this.project,this.concurrent))}}class re extends Y.Ds{constructor(X,H,q=Number.POSITIVE_INFINITY){super(X),this.project=H,this.concurrent=q,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let H;const q=this.index++;try{H=this.project(X,q)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(H)}_innerSub(X){const H=new Y.IY(this),q=this.destination;q.add(H);const G=(0,Y.ft)(X,H);G!==H&&q.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(ot,Oe,j)=>{"use strict";j.d(Oe,{ht:()=>X,QV:()=>pe});var h=j(7393),le=j(9193),Y=j(5917),Ie=j(205);class re{constructor(G,ce,fe){this.kind=G,this.value=ce,this.error=fe,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,ce,fe){switch(this.kind){case"N":return G&&G(this.value);case"E":return ce&&ce(this.error);case"C":return fe&&fe()}}accept(G,ce,fe){return G&&"function"==typeof G.next?this.observe(G):this.do(G,ce,fe)}toObservable(){switch(this.kind){case"N":return(0,Y.of)(this.value);case"E":return(0,Ie._)(this.error);case"C":return(0,le.c)()}throw new Error("unexpected notification kind value")}static createNext(G){return void 0!==G?new re("N",G):re.undefinedValueNotification}static createError(G){return new re("E",void 0,G)}static createComplete(){return re.completeNotification}}function pe(q,G=0){return function(fe){return fe.lift(new oe(q,G))}}re.completeNotification=new re("C"),re.undefinedValueNotification=new re("N",void 0);class oe{constructor(G,ce=0){this.scheduler=G,this.delay=ce}call(G,ce){return ce.subscribe(new X(G,this.scheduler,this.delay))}}class X extends h.L{constructor(G,ce,fe=0){super(G),this.scheduler=ce,this.delay=fe}static dispatch(G){const{notification:ce,destination:fe}=G;ce.observe(fe),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(X.dispatch,this.delay,new H(G,this.destination)))}_next(G){this.scheduleMessage(re.createNext(G))}_error(G){this.scheduleMessage(re.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(re.createComplete()),this.unsubscribe()}}class H{constructor(G,ce){this.notification=G,this.destination=ce}}},1307:(ot,Oe,j)=>{"use strict";j.d(Oe,{x:()=>le});var h=j(7393);function le(){return function(re){return re.lift(new Y(re))}}class Y{constructor(re){this.connectable=re}call(re,pe){const{connectable:oe}=this;oe._refCount++;const X=new Ie(re,oe),H=pe.subscribe(X);return X.closed||(X.connection=oe.connect()),H}}class Ie extends h.L{constructor(re,pe){super(re),this.connectable=pe}_unsubscribe(){const{connectable:re}=this;if(!re)return void(this.connection=null);this.connectable=null;const pe=re._refCount;if(pe<=0)return void(this.connection=null);if(re._refCount=pe-1,pe>1)return void(this.connection=null);const{connection:oe}=this,X=re._connection;this.connection=null,X&&(!oe||X===oe)&&X.unsubscribe()}}},8819:(ot,Oe,j)=>{"use strict";j.d(Oe,{B:()=>pe});var h=j(2441);var Ie=j(1307),De=j(9765);function re(){return new De.xQ}function pe(){return oe=>(0,Ie.x)()(function(oe,X){return function(q){let G;G="function"==typeof oe?oe:function(){return oe};const ce=Object.create(q,h.N);return ce.source=q,ce.subjectFactory=G,ce}}(re)(oe))}},9673:(ot,Oe,j)=>{"use strict";j.d(Oe,{R:()=>De});var h=j(7574),le=j(4581),Y=j(6561);class Ie extends h.y{constructor(oe,X=0,H=le.e){super(),this.source=oe,this.delayTime=X,this.scheduler=H,(!(0,Y.k)(X)||X<0)&&(this.delayTime=0),(!H||"function"!=typeof H.schedule)&&(this.scheduler=le.e)}static create(oe,X=0,H=le.e){return new Ie(oe,X,H)}static dispatch(oe){const{source:X,subscriber:H}=oe;return this.add(X.subscribe(H))}_subscribe(oe){return this.scheduler.schedule(Ie.dispatch,this.delayTime,{source:this.source,subscriber:oe})}}function De(pe,oe=0){return function(H){return H.lift(new re(pe,oe))}}class re{constructor(oe,X){this.scheduler=oe,this.delay=X}call(oe,X){return new Ie(X,this.delay,this.scheduler).subscribe(oe)}}},3342:(ot,Oe,j)=>{"use strict";j.d(Oe,{b:()=>Ie});var h=j(7393);function le(){}var Y=j(9105);function Ie(pe,oe,X){return function(q){return q.lift(new De(pe,oe,X))}}class De{constructor(oe,X,H){this.nextOrObserver=oe,this.error=X,this.complete=H}call(oe,X){return X.subscribe(new re(oe,this.nextOrObserver,this.error,this.complete))}}class re extends h.L{constructor(oe,X,H,q){super(oe),this._tapNext=le,this._tapError=le,this._tapComplete=le,this._tapError=H||le,this._tapComplete=q||le,(0,Y.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||le,this._tapError=X.error||le,this._tapComplete=X.complete||le)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(X){return void this.destination.error(X)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(X){return void this.destination.error(X)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},4087:(ot,Oe,j)=>{"use strict";j.d(Oe,{r:()=>Y});var h=j(7574),le=j(5319);function Y(Ie,De){return new h.y(re=>{const pe=new le.w;let oe=0;return pe.add(De.schedule(function(){oe!==Ie.length?(re.next(Ie[oe++]),re.closed||pe.add(this.schedule())):re.complete()})),pe})}},6465:(ot,Oe,j)=>{"use strict";j.d(Oe,{o:()=>Y});var h=j(5319);class le extends h.w{constructor(De,re){super()}schedule(De,re=0){return this}}class Y extends le{constructor(De,re){super(De,re),this.scheduler=De,this.work=re,this.pending=!1}schedule(De,re=0){if(this.closed)return this;this.state=De;const pe=this.id,oe=this.scheduler;return null!=pe&&(this.id=this.recycleAsyncId(oe,pe,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(oe,this.id,re),this}requestAsyncId(De,re,pe=0){return setInterval(De.flush.bind(De,this),pe)}recycleAsyncId(De,re,pe=0){if(null!==pe&&this.delay===pe&&!1===this.pending)return re;clearInterval(re)}execute(De,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(De,re);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,re){let oe,pe=!1;try{this.work(De)}catch(X){pe=!0,oe=!!X&&X||new Error(X)}if(pe)return this.unsubscribe(),oe}_unsubscribe(){const De=this.id,re=this.scheduler,pe=re.actions,oe=pe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&pe.splice(oe,1),null!=De&&(this.id=this.recycleAsyncId(re,De,null)),this.delay=null}}},6102:(ot,Oe,j)=>{"use strict";j.d(Oe,{v:()=>le});let h=(()=>{class Y{constructor(De,re=Y.now){this.SchedulerAction=De,this.now=re}schedule(De,re=0,pe){return new this.SchedulerAction(this,De).schedule(pe,re)}}return Y.now=()=>Date.now(),Y})();class le extends h{constructor(Ie,De=h.now){super(Ie,()=>le.delegate&&le.delegate!==this?le.delegate.now():De()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ie,De=0,re){return le.delegate&&le.delegate!==this?le.delegate.schedule(Ie,De,re):super.schedule(Ie,De,re)}flush(Ie){const{actions:De}=this;if(this.active)return void De.push(Ie);let re;this.active=!0;do{if(re=Ie.execute(Ie.state,Ie.delay))break}while(Ie=De.shift());if(this.active=!1,re){for(;Ie=De.shift();)Ie.unsubscribe();throw re}}}},4581:(ot,Oe,j)=>{"use strict";j.d(Oe,{e:()=>G,E:()=>q});let h=1;const le=Promise.resolve(),Y={};function Ie(ce){return ce in Y&&(delete Y[ce],!0)}const De={setImmediate(ce){const fe=h++;return Y[fe]=!0,le.then(()=>Ie(fe)&&ce()),fe},clearImmediate(ce){Ie(ce)}};var pe=j(6465),X=j(6102);const q=new class extends X.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:Ae}=this;let ye,Be=-1,Me=Ae.length;fe=fe||Ae.shift();do{if(ye=fe.execute(fe.state,fe.delay))break}while(++Be<Me&&(fe=Ae.shift()));if(this.active=!1,ye){for(;++Be<Me&&(fe=Ae.shift());)fe.unsubscribe();throw ye}}}(class extends pe.o{constructor(fe,Ae){super(fe,Ae),this.scheduler=fe,this.work=Ae}requestAsyncId(fe,Ae,ye=0){return null!==ye&&ye>0?super.requestAsyncId(fe,Ae,ye):(fe.actions.push(this),fe.scheduled||(fe.scheduled=De.setImmediate(fe.flush.bind(fe,null))))}recycleAsyncId(fe,Ae,ye=0){if(null!==ye&&ye>0||null===ye&&this.delay>0)return super.recycleAsyncId(fe,Ae,ye);0===fe.actions.length&&(De.clearImmediate(Ae),fe.scheduled=void 0)}}),G=q},3637:(ot,Oe,j)=>{"use strict";j.d(Oe,{z:()=>Y,P:()=>Ie});var h=j(6465);const Y=new(j(6102).v)(h.o),Ie=Y},7771:(ot,Oe,j)=>{"use strict";j.d(Oe,{c:()=>re,N:()=>De});var h=j(6465),Y=j(6102);const De=new class extends Y.v{}(class extends h.o{constructor(oe,X){super(oe,X),this.scheduler=oe,this.work=X}schedule(oe,X=0){return X>0?super.schedule(oe,X):(this.delay=X,this.state=oe,this.scheduler.flush(this),this)}execute(oe,X){return X>0||this.closed?super.execute(oe,X):this._execute(oe,X)}requestAsyncId(oe,X,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId(oe,X,H):oe.flush(this)}}),re=De},377:(ot,Oe,j)=>{"use strict";j.d(Oe,{hZ:()=>le});const le="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ot,Oe,j)=>{"use strict";j.d(Oe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ot,Oe,j)=>{"use strict";j.d(Oe,{b:()=>h});const h="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ot,Oe,j)=>{"use strict";j.d(Oe,{N:()=>le});const le=(()=>{function Y(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Y.prototype=Object.create(Error.prototype),Y})()},4449:(ot,Oe,j)=>{"use strict";function h(le){setTimeout(()=>{throw le},0)}j.d(Oe,{z:()=>h})},4487:(ot,Oe,j)=>{"use strict";function h(le){return le}j.d(Oe,{y:()=>h})},9796:(ot,Oe,j)=>{"use strict";j.d(Oe,{k:()=>h});const h=Array.isArray||(le=>le&&"number"==typeof le.length)},9489:(ot,Oe,j)=>{"use strict";j.d(Oe,{z:()=>h});const h=le=>le&&"number"==typeof le.length&&"function"!=typeof le},9105:(ot,Oe,j)=>{"use strict";function h(le){return"function"==typeof le}j.d(Oe,{m:()=>h})},6561:(ot,Oe,j)=>{"use strict";j.d(Oe,{k:()=>le});var h=j(9796);function le(Y){return!(0,h.k)(Y)&&Y-parseFloat(Y)+1>=0}},1555:(ot,Oe,j)=>{"use strict";function h(le){return null!==le&&"object"==typeof le}j.d(Oe,{K:()=>h})},4072:(ot,Oe,j)=>{"use strict";function h(le){return!!le&&"function"!=typeof le.subscribe&&"function"==typeof le.then}j.d(Oe,{t:()=>h})},4869:(ot,Oe,j)=>{"use strict";function h(le){return le&&"function"==typeof le.schedule}j.d(Oe,{K:()=>h})},7444:(ot,Oe,j)=>{"use strict";j.d(Oe,{s:()=>q});var h=j(5015),le=j(4449),Ie=j(377),re=j(6554),oe=j(9489),X=j(4072),H=j(1555);const q=G=>{if(G&&"function"==typeof G[re.L])return(G=>ce=>{const fe=G[re.L]();if("function"!=typeof fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return fe.subscribe(ce)})(G);if((0,oe.z)(G))return(0,h.V)(G);if((0,X.t)(G))return(G=>ce=>(G.then(fe=>{ce.closed||(ce.next(fe),ce.complete())},fe=>ce.error(fe)).then(null,le.z),ce))(G);if(G&&"function"==typeof G[Ie.hZ])return(G=>ce=>{const fe=G[Ie.hZ]();for(;;){let Ae;try{Ae=fe.next()}catch(ye){return ce.error(ye),ce}if(Ae.done){ce.complete();break}if(ce.next(Ae.value),ce.closed)break}return"function"==typeof fe.return&&ce.add(()=>{fe.return&&fe.return()}),ce})(G);{const fe=`You provided ${(0,H.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(fe)}}},5015:(ot,Oe,j)=>{"use strict";j.d(Oe,{V:()=>h});const h=le=>Y=>{for(let Ie=0,De=le.length;Ie<De&&!Y.closed;Ie++)Y.next(le[Ie]);Y.complete()}},5443:(ot,Oe,j)=>{"use strict";var h=j(7716);let le=null;function Y(){return le}const pe=new h.OlP("DocumentToken");let oe=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,h.Yz7)({factory:X,token:i,providedIn:"platform"}),i})();function X(){return(0,h.LFG)(q)}const H=new h.OlP("Location Initialized");let q=(()=>{class i extends oe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(r){const s=Y().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",r,!1),()=>s.removeEventListener("popstate",r)}onHashChange(r){const s=Y().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",r,!1),()=>s.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,s,o){G()?this._history.pushState(r,s,o):this.location.hash=o}replaceState(r,s,o){G()?this._history.replaceState(r,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(pe))},i.\u0275prov=(0,h.Yz7)({factory:ce,token:i,providedIn:"platform"}),i})();function G(){return!!window.history.pushState}function ce(){return new q((0,h.LFG)(pe))}function fe(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function Ae(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ye(i){return i&&"?"!==i[0]?"?"+i:i}let Be=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,h.Yz7)({factory:Me,token:i,providedIn:"root"}),i})();function Me(i){const n=(0,h.LFG)(pe).location;return new Et((0,h.LFG)(oe),n&&n.origin||"")}const Ye=new h.OlP("appBaseHref");let Et=(()=>{class i extends Be{constructor(r,s){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return fe(this._baseHref,r)}path(r=!1){const s=this._platformLocation.pathname+ye(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${s}${o}`:s}pushState(r,s,o,u){const f=this.prepareExternalUrl(o+ye(u));this._platformLocation.pushState(r,s,f)}replaceState(r,s,o,u){const f=this.prepareExternalUrl(o+ye(u));this._platformLocation.replaceState(r,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(oe),h.LFG(Ye,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),At=(()=>{class i extends Be{constructor(r,s){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(r){const s=fe(this._baseHref,r);return s.length>0?"#"+s:s}pushState(r,s,o,u){let f=this.prepareExternalUrl(o+ye(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,s,f)}replaceState(r,s,o,u){let f=this.prepareExternalUrl(o+ye(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,r)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(oe),h.LFG(Ye,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Mt=(()=>{class i{constructor(r,s){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ae(Kt(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,s=""){return this.path()==this.normalize(r+ye(s))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Kt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,s="",o=null){this._platformStrategy.pushState(o,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ye(s)),o)}replaceState(r,s="",o=null){this._platformStrategy.replaceState(o,"",r,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ye(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(r="",s){this._urlChangeListeners.forEach(o=>o(r,s))}subscribe(r,s,o){return this._subject.subscribe({next:r,error:s,complete:o})}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Be),h.LFG(oe))},i.normalizeQueryParams=ye,i.joinWithSlash=fe,i.stripTrailingSlash=Ae,i.\u0275prov=(0,h.Yz7)({factory:nn,token:i,providedIn:"root"}),i})();function nn(){return new Mt((0,h.LFG)(Be),(0,h.LFG)(oe))}function Kt(i){return i.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Zero=0]="Zero",ve[ve.One=1]="One",ve[ve.Two=2]="Two",ve[ve.Few=3]="Few",ve[ve.Many=4]="Many",ve[ve.Other=5]="Other",ve))();const zs=h.kL8;class Ni{}let Nc=(()=>{class i extends Ni{constructor(r){super(),this.locale=r}getPluralCategory(r,s){switch(zs(s||this.locale)(r)){case ve.Zero:return"zero";case ve.One:return"one";case ve.Two:return"two";case ve.Few:return"few";case ve.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.soG))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class es{constructor(n,r,s,o){this.$implicit=n,this.ngForOf=r,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let on=(()=>{class i{constructor(r,s,o){this._viewContainer=r,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const s=[];r.forEachOperation((o,u,f)=>{if(null==o.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new es(null,this._ngForOf,-1,-1),null===f?void 0:f),v=new Pc(o,g);s.push(v)}else if(null==f)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,f);const v=new Pc(o,g);s.push(v)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,u=this._viewContainer.length;o<u;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=u,f.context.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(r,s){r.context.$implicit=s.item}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Pc{constructor(n,r){this.record=n,this.view=r}}let xo=(()=>{class i{constructor(r,s){this._viewContainer=r,this._context=new Fc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){fl("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){fl("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,s){return!0}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Fc{constructor(){this.$implicit=null,this.ngIf=null}}function fl(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,h.AaK)(n)}'.`)}class Ro{constructor(n,r){this._viewContainerRef=n,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Oi=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(r){this._ngSwitch=r,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(r){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(r)}_matchCase(r){const s=r==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(r){if(this._defaultViews&&r!==this._defaultUsed){this._defaultUsed=r;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(r)}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),$n=(()=>{class i{constructor(r,s,o){this.ngSwitch=o,o._addCase(),this._view=new Ro(r,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Oi,9))},i.\u0275dir=h.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),gl=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[{provide:Ni,useClass:Nc}]}),i})();function pd(i){return"server"===i}let Uc=(()=>{class i{}return i.\u0275prov=(0,h.Yz7)({token:i,providedIn:"root",factory:()=>new Bc((0,h.LFG)(pe),window)}),i})();class Bc{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const s=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(f)return f}o=s.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),s=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(s-u[0],o-u[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=$c(this.window.history)||$c(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function $c(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class md extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new md,le||(le=i)}onAndCancel(n,r,s){return n.addEventListener(r,s,!1),()=>{n.removeEventListener(r,s,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null);return null==r?null:function(i){wn=wn||document.createElement("a"),wn.setAttribute("href",i);const n=wn.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const s=r.indexOf("="),[o,u]=-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let wn,Ws=null;const bg=new h.OlP("TRANSITION_ID"),$r=[{provide:h.ip1,useFactory:function(i,n,r){return()=>{r.get(h.CZH).donePromise.then(()=>{const s=Y(),o=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let u=0;u<o.length;u++)s.remove(o[u])})}},deps:[bg,pe,h.zs3],multi:!0}];class Hc{static init(){(0,h.VLi)(new Hc)}addToWindow(n){h.dqk.getAngularTestability=(s,o=!0)=>{const u=n.findTestabilityInTree(s,o);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(s=>{const o=h.dqk.getAllAngularTestabilities();let u=o.length,f=!1;const g=function(v){f=f||v,u--,0==u&&s(f)};o.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(n,r,s){if(null==r)return null;const o=n.getTestability(r);return null!=o?o:s?Y().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let gd=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const ya=new h.OlP("EventManagerPlugins");let $e=(()=>{class i{constructor(r,s){this._zone=s,this._eventNameToPlugin=new Map,r.forEach(o=>o.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,s,o){return this._findPluginFor(s).addEventListener(r,s,o)}addGlobalEventListener(r,s,o){return this._findPluginFor(s).addGlobalEventListener(r,s,o)}getZone(){return this._zone}_findPluginFor(r){const s=this._eventNameToPlugin.get(r);if(s)return s;const o=this._plugins;for(let u=0;u<o.length;u++){const f=o[u];if(f.supports(r))return this._eventNameToPlugin.set(r,f),f}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(ya),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class zt{constructor(n){this._doc=n}addGlobalEventListener(n,r,s){const o=Y().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${r}`);return this.addEventListener(o,r,s)}}let If=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const s=new Set;r.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),vn=(()=>{class i extends If{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,s,o){r.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,o.push(s.appendChild(f))})}addHost(r){const s=[];this._addStylesToHost(this._stylesSet,r,s),this._hostNodes.set(r,s)}removeHost(r){const s=this._hostNodes.get(r);s&&s.forEach(Af),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(r,o,s)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(Af))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(pe))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function Af(i){Y().remove(i)}const Zs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fi=/%COMP%/g;function Zn(i,n,r){for(let s=0;s<n.length;s++){let o=n[s];Array.isArray(o)?Zn(i,o,r):(o=o.replace(Fi,i),r.push(o))}return r}function rs(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let Ys=(()=>{class i{constructor(r,s,o){this.eventManager=r,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new _i(r)}createRenderer(r,s){if(!r||!s)return this.defaultRenderer;switch(s.encapsulation){case h.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new xf(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(r),o}case 1:case h.ifc.ShadowDom:return new Rf(this.eventManager,this.sharedStylesHost,r,s);default:if(!this.rendererByCompId.has(s.id)){const o=Zn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(h.LFG($e),h.LFG(vn),h.LFG(h.AFp))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class _i{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Zs[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,s){n&&n.insertBefore(r,s)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return r||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,s,o){if(o){r=o+":"+r;const u=Zs[o];u?n.setAttributeNS(u,r,s):n.setAttribute(r,s)}else n.setAttribute(r,s)}removeAttribute(n,r,s){if(s){const o=Zs[s];o?n.removeAttributeNS(o,r):n.removeAttribute(`${s}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,s,o){o&(h.JOm.DashCase|h.JOm.Important)?n.style.setProperty(r,s,o&h.JOm.Important?"important":""):n.style[r]=s}removeStyle(n,r,s){s&h.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,s){n[r]=s}setValue(n,r){n.nodeValue=r}listen(n,r,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,rs(s)):this.eventManager.addEventListener(n,r,rs(s))}}class xf extends _i{constructor(n,r,s,o){super(n),this.component=s;const u=Zn(o+"-"+s.id,s.styles,[]);r.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Fi,o+"-"+s.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(Fi,i)}(o+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const s=super.createElement(n,r);return super.setAttribute(s,this.contentAttr,""),s}}class Rf extends _i{constructor(n,r,s,o){super(n),this.sharedStylesHost=r,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Zn(o.id,o.styles,[]);for(let f=0;f<u.length;f++){const g=document.createElement("style");g.textContent=u[f],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,s){return super.insertBefore(this.nodeOrShadowRoot(n),r,s)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let jc=(()=>{class i extends zt{constructor(r){super(r)}supports(r){return!0}addEventListener(r,s,o){return r.addEventListener(s,o,!1),()=>this.removeEventListener(r,s,o)}removeEventListener(r,s,o){return r.removeEventListener(s,o)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(pe))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Gc=["alt","control","meta","shift"],ib={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sb={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let xw=(()=>{class i extends zt{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,s,o){const u=i.parseEventName(s),f=i.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Y().onAndCancel(r,u.domEventName,f))}static parseEventName(r){const s=r.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const u=i._normalizeKey(s.pop());let f="";if(Gc.forEach(v=>{const C=s.indexOf(v);C>-1&&(s.splice(C,1),f+=v+".")}),f+=u,0!=s.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=f,g}static getEventFullKey(r){let s="",o=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&Hr.hasOwnProperty(n)&&(n=Hr[n]))}return ib[n]||n}(r);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Gc.forEach(u=>{u!=o&&sb[u](r)&&(s+=u+".")}),s+=o,s}static eventCallback(r,s,o){return u=>{i.getEventFullKey(u)===r&&o.runGuarded(()=>s(u))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(pe))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),Li=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,h.Yz7)({factory:function(){return(0,h.LFG)(Tl)},token:i,providedIn:"root"}),i})(),Tl=(()=>{class i extends Li{constructor(r){super(),this._doc=r}sanitize(r,s){if(null==s)return null;switch(r){case h.q3G.NONE:return s;case h.q3G.HTML:return(0,h.qzn)(s,"HTML")?(0,h.z3N)(s):(0,h.EiD)(this._doc,String(s)).toString();case h.q3G.STYLE:return(0,h.qzn)(s,"Style")?(0,h.z3N)(s):s;case h.q3G.SCRIPT:if((0,h.qzn)(s,"Script"))return(0,h.z3N)(s);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(s),(0,h.qzn)(s,"URL")?(0,h.z3N)(s):(0,h.mCW)(String(s));case h.q3G.RESOURCE_URL:if((0,h.qzn)(s,"ResourceURL"))return(0,h.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${r} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(r){return(0,h.JVY)(r)}bypassSecurityTrustStyle(r){return(0,h.L6k)(r)}bypassSecurityTrustScript(r){return(0,h.eBb)(r)}bypassSecurityTrustUrl(r){return(0,h.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,h.pB0)(r)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(pe))},i.\u0275prov=(0,h.Yz7)({factory:function(){return function(i){return new Tl(i.get(pe))}((0,h.LFG)(h.gxx))},token:i,providedIn:"root"}),i})();const qc=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function(){md.makeCurrent(),Hc.init()},multi:!0},{provide:pe,useFactory:function(){return(0,h.RDi)(document),document},deps:[]}]),Lf=[[],{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function(){return new h.qLn},deps:[]},{provide:ya,useClass:jc,multi:!0,deps:[pe,h.R0b,h.Lbi]},{provide:ya,useClass:xw,multi:!0,deps:[pe]},[],{provide:Ys,useClass:Ys,deps:[$e,vn,h.AFp]},{provide:h.FYo,useExisting:Ys},{provide:If,useExisting:vn},{provide:vn,useClass:vn,deps:[pe]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:$e,useClass:$e,deps:[ya,h.R0b]},{provide:class{},useClass:gd,deps:[]},[]];let Vf=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:h.AFp,useValue:r.appId},{provide:bg,useExisting:h.AFp},$r]}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(i,12))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:Lf,imports:[gl,h.hGG]}),i})();"undefined"!=typeof window&&window;var cn=j(4402),it=j(5917),Xt=j(9765),Ad=j(7971);class Jr extends Xt.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ad.N;return this._value}next(n){super.next(this._value=n)}}var Ea=j(4869),Dl=j(9796),Xr=j(7393);class lb extends Xr.L{notifyNext(n,r,s,o,u){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class Rw extends Xr.L{constructor(n,r,s){super(),this.parent=n,this.outerValue=r,this.outerIndex=s,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fo=j(7444),Tn=j(7574);function cb(i,n,r,s,o=new Rw(i,r,s)){if(!o.closed)return n instanceof Tn.y?n.subscribe(o):(0,Fo.s)(n)(o)}var Rg=j(6693);const Yc={};class Hf{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new Md(n,this.resultSelector))}}class Md extends lb{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Yc),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let s=0;s<r;s++)this.add(cb(this,n[s],void 0,s))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,s){const o=this.values,f=this.toRespond?o[s]===Yc?--this.toRespond:this.toRespond:0;o[s]=r,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(r)}}const Qs=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Vi=j(3282);function Ca(...i){return(0,Vi.J)(1)((0,it.of)(...i))}var is=j(9193);function Ts(i){return new Tn.y(n=>{let r;try{r=i()}catch(o){return void n.error(o)}return(r?(0,cn.D)(r):(0,is.c)()).subscribe(n)})}var kw=j(2441),Dt=j(8002),Ui=j(5345);function rr(i,n){return"function"==typeof n?r=>r.pipe(rr((s,o)=>(0,cn.D)(i(s,o)).pipe((0,Dt.U)((u,f)=>n(s,u,o,f))))):r=>r.lift(new ub(i))}class ub{constructor(n){this.project=n}call(n,r){return r.subscribe(new xn(n,this.project))}}class xn extends Ui.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const s=this.index++;try{r=this.project(n,s)}catch(o){return void this.destination.error(o)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new Ui.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,Ui.ft)(n,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const jf=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Al(i){return n=>0===i?(0,is.c)():n.lift(new Ng(i))}class Ng{constructor(n){if(this.total=n,this.total<0)throw new jf}call(n,r){return r.subscribe(new Ow(n,this.total))}}class Ow extends Xr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,s=++this.count;s<=r&&(this.destination.next(n),s===r&&(this.destination.complete(),this.unsubscribe()))}}function Ds(...i){const n=i[i.length-1];return(0,Ea.K)(n)?(i.pop(),r=>Ca(i,r,n)):r=>Ca(i,r)}function xd(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(o){return o.lift(new Og(i,n,r))}}class Og{constructor(n,r,s=!1){this.accumulator=n,this.seed=r,this.hasSeed=s}call(n,r){return r.subscribe(new Pw(n,this.accumulator,this.seed,this.hasSeed))}}class Pw extends Xr.L{constructor(n,r,s,o){super(n),this.accumulator=r,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let s;try{s=this.accumulator(this.seed,n,r)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function Bi(i,n){return function(s){return s.lift(new zf(i,n))}}class zf{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new wa(n,this.predicate,this.thisArg))}}class wa extends Xr.L{constructor(n,r,s){super(n),this.predicate=r,this.thisArg=s,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}r&&this.destination.next(n)}}function Ta(i){return function(r){const s=new Hn(i),o=r.lift(s);return s.caught=o}}class Hn{constructor(n){this.selector=n}call(n,r){return r.subscribe(new Lo(n,this.selector,this.caught))}}class Lo extends Ui.Ds{constructor(n,r,s){super(n),this.selector=r,this.caught=s}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const s=new Ui.IY(this);this.add(s);const o=(0,Ui.ft)(r,s);o!==s&&this.add(o)}}}var Dn=j(9773);function Da(i,n){return(0,Dn.zg)(i,n,1)}function Gf(i){return function(r){return 0===i?(0,is.c)():r.lift(new $i(i))}}class $i{constructor(n){if(this.total=n,this.total<0)throw new jf}call(n,r){return r.subscribe(new Ss(n,this.total))}}class Ss extends Xr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,s=this.total,o=this.count++;r.length<s?r.push(n):r[o%s]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let u=0;u<s;u++){const f=r++%s;n.next(o[f])}}n.complete()}}function Sa(i=Pg){return n=>n.lift(new Vo(i))}class Vo{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new Uo(n,this.errorFactory))}}class Uo extends Xr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function Pg(){return new Qs}function Rd(i=null){return n=>n.lift(new db(i))}class db{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new Fg(n,this.defaultValue))}}class Fg extends Xr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var hb=j(4487);function jn(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Bi((o,u)=>i(o,u,s)):hb.y,Al(1),r?Rd(n):Sa(()=>new Qs))}var ir=j(3342),Bo=j(1307),qf=j(5319);function Wf(i){return n=>n.lift(new Zf(i))}class Zf{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Yf(n,this.callback))}}class Yf extends Xr.L{constructor(n,r){super(n),this.add(new qf.w(r))}}class ss{constructor(n,r){this.id=n,this.url=r}}class Kf extends ss{constructor(n,r,s="imperative",o=null){super(n,r),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ia extends ss{constructor(n,r,s){super(n,r),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Aa extends ss{constructor(n,r,s){super(n,r),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qf extends ss{constructor(n,r,s){super(n,r),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Nd extends ss{constructor(n,r,s,o){super(n,r),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lg extends ss{constructor(n,r,s,o){super(n,r),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kc extends ss{constructor(n,r,s,o,u){super(n,r),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jf extends ss{constructor(n,r,s,o){super(n,r),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends ss{constructor(n,r,s,o){super(n,r),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vg{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ug{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xf{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ep{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bg{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ml{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(n,r,s){this.routerEvent=n,this.position=r,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Nt="primary";class tp{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function _n(i){return new tp(i)}const Od="ngNavigationCancelingError";function Pd(i){const n=Error("NavigationCancelingError: "+i);return n[Od]=!0,n}function Qc(i,n,r){const s=r.path.split("/");if(s.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||s.length<i.length))return null;const o={};for(let u=0;u<s.length;u++){const f=s[u],g=i[u];if(f.startsWith(":"))o[f.substring(1)]=g;else if(f!==g.path)return null}return{consumed:i.slice(0,s.length),posParams:o}}function yi(i,n){const r=i?Object.keys(i):void 0,s=n?Object.keys(n):void 0;if(!r||!s||r.length!=s.length)return!1;let o;for(let u=0;u<r.length;u++)if(o=r[u],!np(i[o],n[o]))return!1;return!0}function np(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),s=[...n].sort();return r.every((o,u)=>s[u]===o)}return i===n}function fb(i){return Array.prototype.concat.apply([],i)}function Ma(i){return i.length>0?i[i.length-1]:null}function Kn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function mr(i){return(0,h.CqO)(i)?i:(0,h.QGY)(i)?(0,cn.D)(Promise.resolve(i)):(0,it.of)(i)}const jg={exact:function Gg(i,n,r){if(!ka(i.segments,n.segments)||!Fd(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!i.children[s]||!Gg(i.children[s],n.children[s],r))return!1;return!0},subset:Ra},xa={exact:function(i,n){return yi(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>np(i[r],n[r]))},ignored:()=>!0};function Jc(i,n,r){return jg[r.paths](i.root,n.root,r.matrixParams)&&xa[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Ra(i,n,r){return xl(i,n,n.segments,r)}function xl(i,n,r,s){if(i.segments.length>r.length){const o=i.segments.slice(0,r.length);return!(!ka(o,r)||n.hasChildren()||!Fd(o,r,s))}if(i.segments.length===r.length){if(!ka(i.segments,r)||!Fd(i.segments,r,s))return!1;for(const o in n.children)if(!i.children[o]||!Ra(i.children[o],n.children[o],s))return!1;return!0}{const o=r.slice(0,i.segments.length),u=r.slice(i.segments.length);return!!(ka(i.segments,o)&&Fd(i.segments,o,s)&&i.children[Nt])&&xl(i.children[Nt],n,u,s)}}function Fd(i,n,r){return n.every((s,o)=>xa[r](i[o].parameters,s.parameters))}class Rl{constructor(n,r,s){this.root=n,this.queryParams=r,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return ip.serialize(this)}}class $t{constructor(n,r){this.segments=n,this.children=r,this.parent=null,Kn(r,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Js(this)}}class Xc{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=_n(this.parameters)),this._parameterMap}toString(){return sp(this)}}function ka(i,n){return i.length===n.length&&i.every((r,s)=>r.path===n[s].path)}class rp{}class kl{parse(n){const r=new zo(n);return new Rl(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${eu(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const s=i[r];return Array.isArray(s)?s.map(o=>`${tu(r)}=${tu(o)}`).join("&"):`${tu(r)}=${tu(s)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const ip=new kl;function Js(i){return i.segments.map(n=>sp(n)).join("/")}function eu(i,n){if(!i.hasChildren())return Js(i);if(n){const r=i.children[Nt]?eu(i.children[Nt],!1):"",s=[];return Kn(i.children,(o,u)=>{u!==Nt&&s.push(`${u}:${eu(o,!1)}`)}),s.length>0?`${r}(${s.join("//")})`:r}{const r=function(i,n){let r=[];return Kn(i.children,(s,o)=>{o===Nt&&(r=r.concat(n(s,o)))}),Kn(i.children,(s,o)=>{o!==Nt&&(r=r.concat(n(s,o)))}),r}(i,(s,o)=>o===Nt?[eu(i.children[Nt],!1)]:[`${o}:${eu(s,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Nt]?`${Js(i)}/${r[0]}`:`${Js(i)}/(${r.join("//")})`}}function qg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tu(i){return qg(i).replace(/%3B/gi,";")}function Na(i){return qg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nu(i){return decodeURIComponent(i)}function Vd(i){return nu(i.replace(/\+/g,"%20"))}function sp(i){return`${Na(i.path)}${function(i){return Object.keys(i).map(n=>`;${Na(n)}=${Na(i[n])}`).join("")}(i.parameters)}`}const _b=/^[^\/()?;=#]+/;function Ud(i){const n=i.match(_b);return n?n[0]:""}const yb=/^[^=?&#]+/,eo=/^[^?&#]+/;class zo{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(s[Nt]=new $t(n,r)),s}parseSegment(){const n=Ud(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Xc(nu(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=Ud(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const o=Ud(this.remaining);o&&(s=o,this.capture(s))}n[nu(r)]=nu(s)}parseQueryParam(n){const r=function(i){const n=i.match(yb);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let s="";if(this.consumeOptional("=")){const f=function(i){const n=i.match(eo);return n?n[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const o=Vd(r),u=Vd(s);if(n.hasOwnProperty(o)){let f=n[o];Array.isArray(f)||(f=[f],n[o]=f),f.push(u)}else n[o]=u}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Ud(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;s.indexOf(":")>-1?(u=s.substr(0,s.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Nt);const f=this.parseChildren();r[u]=1===Object.keys(f).length?f[Nt]:new $t([],f),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class Wg{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=op(n,this._root);return r?r.children.map(s=>s.value):[]}firstChild(n){const r=op(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=iu(n,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return iu(n,this._root).map(r=>r.value)}}function op(i,n){if(i===n.value)return n;for(const r of n.children){const s=op(i,r);if(s)return s}return null}function iu(i,n){if(i===n.value)return[n];for(const r of n.children){const s=iu(i,r);if(s.length)return s.unshift(n),s}return[]}class to{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function Oa(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class ap extends Wg{constructor(n,r){super(n),this.snapshot=r,$d(this,n)}toString(){return this.snapshot.toString()}}function Zg(i,n){const r=function(i,n){const f=new Bd([],{},{},"",{},Nt,n,null,i.root,-1,{});return new Nl("",new to(f,[]))}(i,n),s=new Jr([new Xc("",{})]),o=new Jr({}),u=new Jr({}),f=new Jr({}),g=new Jr(""),v=new Pa(s,o,f,g,u,Nt,n,r.root);return v.snapshot=r.root,new ap(new to(v,[]),r)}class Pa{constructor(n,r,s,o,u,f,g,v){this.url=n,this.params=r,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(n=>_n(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(n=>_n(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yg(i,n="emptyOnly"){const r=i.pathFromRoot;let s=0;if("always"!==n)for(s=r.length-1;s>=1;){const o=r[s],u=r[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(u.component)break;s--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(s))}class Bd{constructor(n,r,s,o,u,f,g,v,C,T,S){this.url=n,this.params=r,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=g,this.routeConfig=v,this._urlSegment=C,this._lastPathIndex=T,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_n(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_n(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nl extends Wg{constructor(n,r){super(r),this.url=n,$d(this,r)}toString(){return os(this._root)}}function $d(i,n){n.value._routerState=i,n.children.forEach(r=>$d(i,r))}function os(i){const n=i.children.length>0?` { ${i.children.map(os).join(", ")} } `:"";return`${i.value}${n}`}function Fa(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,yi(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),yi(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!yi(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),yi(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function su(i,n){return yi(i.params,n.params)&&function(i,n){return ka(i,n)&&i.every((r,s)=>yi(r.parameters,n[s].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||su(i.parent,n.parent))}function ou(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const s=r.value;s._futureSnapshot=n.value;const o=function(i,n,r){return n.children.map(s=>{for(const o of r.children)if(i.shouldReuseRoute(s.value,o.value.snapshot))return ou(i,s,o);return ou(i,s)})}(i,n,r);return new to(s,o)}{if(i.shouldAttach(n.value)){const u=i.retrieve(n.value);if(null!==u){const f=u.route;return bb(n,f),f}}const s=function(i){return new Pa(new Jr(i.url),new Jr(i.params),new Jr(i.queryParams),new Jr(i.fragment),new Jr(i.data),i.outlet,i.component,i)}(n.value),o=n.children.map(u=>ou(i,u));return new to(s,o)}}function bb(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)bb(i.children[r],n.children[r])}function Ol(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function As(i){return"object"==typeof i&&null!=i&&i.outlets}function Xg(i,n,r,s,o){let u={};return s&&Kn(s,(f,g)=>{u[g]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),new Rl(r.root===i?n:Eb(r.root,i,n),u,o)}function Eb(i,n,r){const s={};return Kn(i.children,(o,u)=>{s[u]=o===n?r:Eb(o,n,r)}),new $t(i.segments,s)}class up{constructor(n,r,s){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=s,n&&s.length>0&&Ol(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(As);if(o&&o!==Ma(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dp{constructor(n,r,s){this.segmentGroup=n,this.processChildren=r,this.index=s}}function Go(i,n,r){if(i||(i=new $t([],{})),0===i.segments.length&&i.hasChildren())return au(i,n,r);const s=function(i,n,r){let s=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(s>=r.length)return u;const f=i.segments[o],g=r[s];if(As(g))break;const v=`${g}`,C=s<r.length-1?r[s+1]:null;if(o>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!r_(v,C,f))return u;s+=2}else{if(!r_(v,{},f))return u;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(i,n,r),o=r.slice(s.commandIndex);if(s.match&&s.pathIndex<i.segments.length){const u=new $t(i.segments.slice(0,s.pathIndex),{});return u.children[Nt]=new $t(i.segments.slice(s.pathIndex),i.children),au(u,0,o)}return s.match&&0===o.length?new $t(i.segments,{}):s.match&&!i.hasChildren()?hp(i,n,r):s.match?au(i,0,o):hp(i,n,r)}function au(i,n,r){if(0===r.length)return new $t(i.segments,{});{const s=function(i){return As(i[0])?i[0].outlets:{[Nt]:i}}(r),o={};return Kn(s,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[f]=Go(i.children[f],n,u))}),Kn(i.children,(u,f)=>{void 0===s[f]&&(o[f]=u)}),new $t(i.segments,o)}}function hp(i,n,r){const s=i.segments.slice(0,n);let o=0;for(;o<r.length;){const u=r[o];if(As(u)){const v=Fn(u.outlets);return new $t(s,v)}if(0===o&&Ol(r[0])){s.push(new Xc(i.segments[n].path,n_(r[0]))),o++;continue}const f=As(u)?u.outlets[Nt]:`${u}`,g=o<r.length-1?r[o+1]:null;f&&g&&Ol(g)?(s.push(new Xc(f,n_(g))),o+=2):(s.push(new Xc(f,{})),o++)}return new $t(s,{})}function Fn(i){const n={};return Kn(i,(r,s)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[s]=hp(new $t([],{}),0,r))}),n}function n_(i){const n={};return Kn(i,(r,s)=>n[s]=`${r}`),n}function r_(i,n,r){return i==r.path&&yi(n,r.parameters)}class Gd{constructor(n,r,s,o){this.routeReuseStrategy=n,this.futureState=r,this.currState=s,this.forwardEvent=o}activate(n){const r=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,s,n),Fa(this.futureState.root),this.activateChildRoutes(r,s,n)}deactivateChildRoutes(n,r,s){const o=Oa(r);n.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],s),delete o[f]}),Kn(o,(u,f)=>{this.deactivateRouteAndItsChildren(u,s)})}deactivateRoutes(n,r,s){const o=n.value,u=r?r.value:null;if(o===u)if(o.component){const f=s.getContext(o.outlet);f&&this.deactivateChildRoutes(n,r,f.children)}else this.deactivateChildRoutes(n,r,s);else u&&this.deactivateRouteAndItsChildren(r,s)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const s=r.getContext(n.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:u})}}deactivateRouteAndOutlet(n,r){const s=r.getContext(n.value.outlet),o=s&&n.value.component?s.children:r,u=Oa(n);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,r,s){const o=Oa(r);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],s),this.forwardEvent(new Ml(u.value.snapshot))}),n.children.length&&this.forwardEvent(new ep(n.value.snapshot))}activateRoutes(n,r,s){const o=n.value,u=r?r.value:null;if(Fa(o),o===u)if(o.component){const f=s.getOrCreateContext(o.outlet);this.activateChildRoutes(n,r,f.children)}else this.activateChildRoutes(n,r,s);else if(o.component){const f=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(g.contexts),f.attachRef=g.componentRef,f.route=g.route.value,f.outlet&&f.outlet.attach(g.componentRef,g.route.value),qd(g.route)}else{const g=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(o.snapshot),v=g?g.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=v,f.outlet&&f.outlet.activateWith(o,v),this.activateChildRoutes(n,null,f.children)}}else this.activateChildRoutes(n,null,s)}}function qd(i){Fa(i.value),i.children.forEach(qd)}class fp{constructor(n,r){this.routes=n,this.module=r}}function Ms(i){return"function"==typeof i}function xs(i){return i instanceof Rl}const Pl=Symbol("INITIAL_VALUE");function La(){return rr(i=>function(...i){let n,r;return(0,Ea.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,Dl.k)(i[0])&&(i=i[0]),(0,Rg.n)(i,r).lift(new Hf(n))}(i.map(n=>n.pipe(Al(1),Ds(Pl)))).pipe(xd((n,r)=>{let s=!1;return r.reduce((o,u,f)=>o!==Pl?o:(u===Pl&&(s=!0),s||!1!==u&&f!==r.length-1&&!xs(u)?o:u),n)},Pl),Bi(n=>n!==Pl),(0,Dt.U)(n=>xs(n)?n:!0===n),Al(1)))}let _r=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},directives:function(){return[th]},encapsulation:2}),i})();function bi(i,n=""){for(let r=0;r<i.length;r++){const s=i[r];Wd(s,Db(n,s))}}function Wd(i,n){i.children&&bi(i.children,n)}function Db(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function pp(i){const n=i.children&&i.children.map(pp),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==Nt&&(r.component=_r),r}function Ei(i){return i.outlet||Nt}function mp(i,n){const r=i.filter(s=>Ei(s)===n);return r.push(...i.filter(s=>Ei(s)!==n)),r}const Rr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Fl(i,n,r){var s;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},Rr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(n.matcher||Qc)(r,i,n);if(!u)return Object.assign({},Rr);const f={};Kn(u.posParams,(v,C)=>{f[C]=v.path});const g=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:g,positionalParamSegments:null!==(s=u.posParams)&&void 0!==s?s:{}}}function Va(i,n,r,s,o="corrected"){if(r.length>0&&function(i,n,r){return r.some(s=>Ua(i,n,s)&&Ei(s)!==Nt)}(i,r,s)){const f=new $t(n,function(i,n,r,s){const o={};o[Nt]=s,s._sourceSegment=i,s._segmentIndexShift=n.length;for(const u of r)if(""===u.path&&Ei(u)!==Nt){const f=new $t([],{});f._sourceSegment=i,f._segmentIndexShift=n.length,o[Ei(u)]=f}return o}(i,n,s,new $t(r,i.children)));return f._sourceSegment=i,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(s=>Ua(i,n,s))}(i,r,s)){const f=new $t(i.segments,function(i,n,r,s,o,u){const f={};for(const g of s)if(Ua(i,r,g)&&!o[Ei(g)]){const v=new $t([],{});v._sourceSegment=i,v._segmentIndexShift="legacy"===u?i.segments.length:n.length,f[Ei(g)]=v}return Object.assign(Object.assign({},o),f)}(i,n,r,s,i.children,o));return f._sourceSegment=i,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:r}}const u=new $t(i.segments,i.children);return u._sourceSegment=i,u._segmentIndexShift=n.length,{segmentGroup:u,slicedSegments:r}}function Ua(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function Zd(i,n,r,s){return!!(Ei(i)===s||s!==Nt&&Ua(n,r,i))&&("**"===i.path||Fl(n,i,r).matched)}function Yd(i,n,r){return 0===n.length&&!i.children[r]}class Kd{constructor(n){this.segmentGroup=n||null}}class _p{constructor(n){this.urlTree=n}}function Ba(i){return new Tn.y(n=>n.error(new Kd(i)))}function s_(i){return new Tn.y(n=>n.error(new _p(i)))}function D(i){return new Tn.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class I{constructor(n,r,s,o,u){this.configLoader=r,this.urlSerializer=s,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=n.get(h.h0i)}apply(){const n=Va(this.urlTree.root,[],[],this.config).segmentGroup,r=new $t(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,Nt).pipe((0,Dt.U)(u=>this.createUrlTree(U(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ta(u=>{if(u instanceof _p)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Kd?this.noMatchError(u):u}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Nt).pipe((0,Dt.U)(o=>this.createUrlTree(U(o),n.queryParams,n.fragment))).pipe(Ta(o=>{throw o instanceof Kd?this.noMatchError(o):o}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,s){const o=n.segments.length>0?new $t([],{[Nt]:n}):n;return new Rl(o,r,s)}expandSegmentGroup(n,r,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,r,s).pipe((0,Dt.U)(u=>new $t([],u))):this.expandSegment(n,s,r,s.segments,o,!0)}expandChildren(n,r,s){const o=[];for(const u of Object.keys(s.children))"primary"===u?o.unshift(u):o.push(u);return(0,cn.D)(o).pipe(Da(u=>{const f=s.children[u],g=mp(r,u);return this.expandSegmentGroup(n,g,f,u).pipe((0,Dt.U)(v=>({segment:v,outlet:u})))}),xd((u,f)=>(u[f.outlet]=f.segment,u),{}),function(i,n){const r=arguments.length>=2;return s=>s.pipe(i?Bi((o,u)=>i(o,u,s)):hb.y,Gf(1),r?Rd(n):Sa(()=>new Qs))}())}expandSegment(n,r,s,o,u,f){return(0,cn.D)(s).pipe(Da(g=>this.expandSegmentAgainstRoute(n,r,s,g,o,u,f).pipe(Ta(C=>{if(C instanceof Kd)return(0,it.of)(null);throw C}))),jn(g=>!!g),Ta((g,v)=>{if(g instanceof Qs||"EmptyError"===g.name){if(Yd(r,o,u))return(0,it.of)(new $t([],{}));throw new Kd(r)}throw g}))}expandSegmentAgainstRoute(n,r,s,o,u,f,g){return Zd(o,r,u,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,r,o,u,f):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,s,o,u,f):Ba(r):Ba(r)}expandSegmentAgainstRouteUsingRedirect(n,r,s,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,s,o){const u=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?s_(u):this.lineralizeSegments(s,u).pipe((0,Dn.zg)(f=>{const g=new $t(f,{});return this.expandSegment(n,g,r,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,s,o,u,f){const{matched:g,consumedSegments:v,lastChild:C,positionalParamSegments:T}=Fl(r,o,u);if(!g)return Ba(r);const S=this.applyRedirectCommands(v,o.redirectTo,T);return o.redirectTo.startsWith("/")?s_(S):this.lineralizeSegments(o,S).pipe((0,Dn.zg)(x=>this.expandSegment(n,r,s,x.concat(u.slice(C)),f,!1)))}matchSegmentAgainstRoute(n,r,s,o,u){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,it.of)(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe((0,Dt.U)(x=>(s._loadedConfig=x,new $t(o,{})))):(0,it.of)(new $t(o,{}));const{matched:f,consumedSegments:g,lastChild:v}=Fl(r,s,o);if(!f)return Ba(r);const C=o.slice(v);return this.getChildConfig(n,s,o).pipe((0,Dn.zg)(S=>{const x=S.module,k=S.routes,{segmentGroup:N,slicedSegments:L}=Va(r,g,C,k),F=new $t(N.segments,N.children);if(0===L.length&&F.hasChildren())return this.expandChildren(x,k,F).pipe((0,Dt.U)(ie=>new $t(g,ie)));if(0===k.length&&0===L.length)return(0,it.of)(new $t(g,{}));const z=Ei(s)===u;return this.expandSegment(x,F,k,L,z?Nt:u,!0).pipe((0,Dt.U)(K=>new $t(g.concat(K.segments),K.children)))}))}getChildConfig(n,r,s){return r.children?(0,it.of)(new fp(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,it.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,s).pipe((0,Dn.zg)(o=>{return o?this.configLoader.load(n.injector,r).pipe((0,Dt.U)(u=>(r._loadedConfig=u,u))):(i=r,new Tn.y(n=>n.error(Pd(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,it.of)(new fp([],n))}runCanLoadGuards(n,r,s){const o=r.canLoad;if(!o||0===o.length)return(0,it.of)(!0);const u=o.map(f=>{const g=n.get(f);let v;if((i=g)&&Ms(i.canLoad))v=g.canLoad(r,s);else{if(!Ms(g))throw new Error("Invalid CanLoad guard");v=g(r,s)}var i;return mr(v)});return(0,it.of)(u).pipe(La(),(0,ir.b)(f=>{if(!xs(f))return;const g=Pd(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw g.url=f,g}),(0,Dt.U)(f=>!0===f))}lineralizeSegments(n,r){let s=[],o=r.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,it.of)(s);if(o.numberOfChildren>1||!o.children[Nt])return D(n.redirectTo);o=o.children[Nt]}}applyRedirectCommands(n,r,s){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,s)}applyRedirectCreatreUrlTree(n,r,s,o){const u=this.createSegmentGroup(n,r.root,s,o);return new Rl(u,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const s={};return Kn(n,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);s[u]=r[g]}else s[u]=o}),s}createSegmentGroup(n,r,s,o){const u=this.createSegments(n,r.segments,s,o);let f={};return Kn(r.children,(g,v)=>{f[v]=this.createSegmentGroup(n,g,s,o)}),new $t(u,f)}createSegments(n,r,s,o){return r.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,s))}findPosParam(n,r,s){const o=s[r.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return o}findOrReturn(n,r){let s=0;for(const o of r){if(o.path===n.path)return r.splice(s),o;s++}return n}}function U(i){const n={};for(const s of Object.keys(i.children)){const u=U(i.children[s]);(u.segments.length>0||u.hasChildren())&&(n[s]=u)}return function(i){if(1===i.numberOfChildren&&i.children[Nt]){const n=i.children[Nt];return new $t(i.segments.concat(n.segments),n.children)}return i}(new $t(i.segments,n))}class Se{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class We{constructor(n,r){this.component=n,this.route=r}}function at(i,n,r){const s=i._root;return ei(s,n?n._root:null,r,[s.value])}function mt(i,n,r){const s=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(s?s.module.injector:r).get(i)}function ei(i,n,r,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Oa(n);return i.children.forEach(f=>{(function(i,n,r,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=i.value,f=n?n.value:null,g=r?r.getContext(i.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const v=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!ka(i.url,n.url);case"pathParamsOrQueryParamsChange":return!ka(i.url,n.url)||!yi(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!su(i,n)||!yi(i.queryParams,n.queryParams);case"paramsChange":default:return!su(i,n)}}(f,u,u.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new Se(s)):(u.data=f.data,u._resolvedData=f._resolvedData),ei(i,n,u.component?g?g.children:null:r,s,o),v&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new We(g.outlet.component,f))}else f&&$a(n,g,o),o.canActivateChecks.push(new Se(s)),ei(i,null,u.component?g?g.children:null:r,s,o)})(f,u[f.value.outlet],r,s.concat([f.value]),o),delete u[f.value.outlet]}),Kn(u,(f,g)=>$a(f,r.getContext(g),o)),o}function $a(i,n,r){const s=Oa(i),o=i.value;Kn(s,(u,f)=>{$a(u,o.component?n?n.children.getContext(f):null:n,r)}),r.canDeactivateChecks.push(new We(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class du{}function Jd(i){return new Tn.y(n=>n.error(i))}class Lw{constructor(n,r,s,o,u,f){this.rootComponentType=n,this.config=r,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const n=Va(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,Nt);if(null===r)return null;const s=new Bd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new to(s,r),u=new Nl(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(n){const r=n.value,s=Yg(r,this.paramsInheritanceStrategy);r.params=Object.freeze(s.params),r.data=Object.freeze(s.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,s)}processChildren(n,r){const s=[];for(const u of Object.keys(r.children)){const f=r.children[u],g=mp(n,u),v=this.processSegmentGroup(g,f,u);if(null===v)return null;s.push(...v)}const o=l_(s);return o.sort((n,r)=>n.value.outlet===Nt?-1:r.value.outlet===Nt?1:n.value.outlet.localeCompare(r.value.outlet)),o}processSegment(n,r,s,o){for(const u of n){const f=this.processSegmentAgainstRoute(u,r,s,o);if(null!==f)return f}return Yd(r,s,o)?[]:null}processSegmentAgainstRoute(n,r,s,o){if(n.redirectTo||!Zd(n,r,s,o))return null;let u,f=[],g=[];if("**"===n.path){const k=s.length>0?Ma(s).parameters:{};u=new Bd(s,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hu(n),Ei(n),n.component,n,xb(r),EM(r)+s.length,c_(n))}else{const k=Fl(r,n,s);if(!k.matched)return null;f=k.consumedSegments,g=s.slice(k.lastChild),u=new Bd(f,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hu(n),Ei(n),n.component,n,xb(r),EM(r)+f.length,c_(n))}const v=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:T}=Va(r,f,g,v.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);var i;if(0===T.length&&C.hasChildren()){const k=this.processChildren(v,C);return null===k?null:[new to(u,k)]}if(0===v.length&&0===T.length)return[new to(u,[])];const S=Ei(n)===o,x=this.processSegment(v,C,T,S?Nt:o);return null===x?null:[new to(u,x)]}}function Uw(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function l_(i){const n=[],r=new Set;for(const s of i){if(!Uw(s)){n.push(s);continue}const o=n.find(u=>s.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...s.children),r.add(o)):n.push(s)}for(const s of r){const o=l_(s.children);n.push(new to(s.value,o))}return n.filter(s=>!r.has(s))}function xb(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function EM(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function hu(i){return i.data||{}}function c_(i){return i.resolve||{}}function kb(i){return rr(n=>{const r=i(n);return r?(0,cn.D)(r).pipe((0,Dt.U)(()=>n)):(0,it.of)(n)})}class IM extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const u_=new h.OlP("ROUTES");class d_{constructor(n,r,s,o){this.loader=n,this.compiler=r,this.onLoadStartListener=s,this.onLoadEndListener=o}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactory(r.loadChildren).pipe((0,Dt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(r);const f=u.create(n);return new fp(fb(f.injector.get(u_,void 0,h.XFs.Self|h.XFs.Optional)).map(pp),f)}),Ta(u=>{throw r._loader$=void 0,u}));return r._loader$=new kw.c(o,()=>new Xt.xQ).pipe((0,Bo.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,cn.D)(this.loader.load(n)):mr(n()).pipe((0,Dn.zg)(r=>r instanceof h.YKP?(0,it.of)(r):(0,cn.D)(this.compiler.compileModuleAsync(r))))}}class Hw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vl,this.attachRef=null}}class Vl{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Hw,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class MM{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function jw(i){throw i}function zw(i,n,r){return n.parse("/")}function Ul(i,n){return(0,it.of)(null)}const Gw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class i{constructor(r,s,o,u,f,g,v,C){this.rootComponentType=r,this.urlSerializer=s,this.rootContexts=o,this.location=u,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xt.xQ,this.errorHandler=jw,this.malformedUriErrorHandler=zw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ul,afterPreactivation:Ul},this.urlHandlingStrategy=new MM,this.routeReuseStrategy=new IM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const x=f.get(h.R0b);this.isNgZoneEnabled=x instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new Rl(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new d_(g,v,k=>this.triggerEvent(new Vg(k)),k=>this.triggerEvent(new Ug(k))),this.routerState=Zg(this.currentUrlTree,this.rootComponentType),this.transitions=new Jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const s=this.events;return r.pipe(Bi(o=>0!==o.id),(0,Dt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rr(o=>{let u=!1,f=!1;return(0,it.of)(o).pipe((0,ir.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rr(g=>{const v=this.browserUrlTree.toString(),C=!this.navigated||g.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return f_(g.source)&&(this.browserUrlTree=g.extractedUrl),(0,it.of)(g).pipe(rr(S=>{const x=this.transitions.getValue();return s.next(new Kf(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),x!==this.transitions.getValue()?is.E:Promise.resolve(S)}),function(i,n,r,s){return rr(o=>function(i,n,r,s,o){return new I(i,n,r,s,o).apply()}(i,n,r,o.extractedUrl,s).pipe((0,Dt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ir.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(i,n,r,s,o){return(0,Dn.zg)(u=>function(i,n,r,s,o="emptyOnly",u="legacy"){try{const f=new Lw(i,n,r,s,o,u).recognize();return null===f?Jd(new du):(0,it.of)(f)}catch(f){return Jd(f)}}(i,n,u.urlAfterRedirects,r(u.urlAfterRedirects),s,o).pipe((0,Dt.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ir.b)(S=>{"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(S.urlAfterRedirects,S),this.browserUrlTree=S.urlAfterRedirects);const x=new Nd(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);s.next(x)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:k,source:N,restoredState:L,extras:F}=g,z=new Kf(x,this.serializeUrl(k),N,L);s.next(z);const J=Zg(k,this.rootComponentType).snapshot;return(0,it.of)(Object.assign(Object.assign({},g),{targetSnapshot:J,urlAfterRedirects:k,extras:Object.assign(Object.assign({},F),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),is.E}),kb(g=>{const{targetSnapshot:v,id:C,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:x,replaceUrl:k}}=g;return this.hooks.beforePreactivation(v,{navigationId:C,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!x,replaceUrl:!!k})}),(0,ir.b)(g=>{const v=new Lg(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,Dt.U)(g=>Object.assign(Object.assign({},g),{guards:at(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(i,n){return(0,Dn.zg)(r=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=r;return 0===f.length&&0===u.length?(0,it.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,s){return(0,cn.D)(i).pipe((0,Dn.zg)(o=>function(i,n,r,s,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,it.of)(!0);const f=u.map(g=>{const v=mt(g,n,o);let C;if(function(i){return i&&Ms(i.canDeactivate)}(v))C=mr(v.canDeactivate(i,n,r,s));else{if(!Ms(v))throw new Error("Invalid CanDeactivate guard");C=mr(v(i,n,r,s))}return C.pipe(jn())});return(0,it.of)(f).pipe(La())}(o.component,o.route,r,n,s)),jn(o=>!0!==o,!0))}(f,s,o,i).pipe((0,Dn.zg)(g=>g&&function(i){return"boolean"==typeof i}(g)?function(i,n,r,s){return(0,cn.D)(n).pipe(Da(o=>Ca(function(i,n){return null!==i&&n&&n(new Xf(i)),(0,it.of)(!0)}(o.route.parent,s),function(i,n){return null!==i&&n&&n(new Bg(i)),(0,it.of)(!0)}(o.route,s),function(i,n,r){const s=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(f=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(f)).filter(f=>null!==f).map(f=>Ts(()=>{const g=f.guards.map(v=>{const C=mt(v,f.node,r);let T;if(function(i){return i&&Ms(i.canActivateChild)}(C))T=mr(C.canActivateChild(s,i));else{if(!Ms(C))throw new Error("Invalid CanActivateChild guard");T=mr(C(s,i))}return T.pipe(jn())});return(0,it.of)(g).pipe(La())}));return(0,it.of)(u).pipe(La())}(i,o.path,r),function(i,n,r){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return(0,it.of)(!0);const o=s.map(u=>Ts(()=>{const f=mt(u,n,r);let g;if(function(i){return i&&Ms(i.canActivate)}(f))g=mr(f.canActivate(n,i));else{if(!Ms(f))throw new Error("Invalid CanActivate guard");g=mr(f(n,i))}return g.pipe(jn())}));return(0,it.of)(o).pipe(La())}(i,o.route,r))),jn(o=>!0!==o,!0))}(s,u,i,n):(0,it.of)(g)),(0,Dt.U)(g=>Object.assign(Object.assign({},r),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,ir.b)(g=>{if(xs(g.guardsResult)){const C=Pd(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw C.url=g.guardsResult,C}const v=new Kc(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),Bi(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),kb(g=>{if(g.guards.canActivateChecks.length)return(0,it.of)(g).pipe((0,ir.b)(v=>{const C=new Jf(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}),rr(v=>{let C=!1;return(0,it.of)(v).pipe(function(i,n){return(0,Dn.zg)(r=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=r;if(!o.length)return(0,it.of)(r);let u=0;return(0,cn.D)(o).pipe(Da(f=>function(i,n,r,s){return function(i,n,r,s){const o=Object.keys(i);if(0===o.length)return(0,it.of)({});const u={};return(0,cn.D)(o).pipe((0,Dn.zg)(f=>function(i,n,r,s){const o=mt(i,n,s);return mr(o.resolve?o.resolve(n,r):o(n,r))}(i[f],n,r,s).pipe((0,ir.b)(g=>{u[f]=g}))),Gf(1),(0,Dn.zg)(()=>Object.keys(u).length===o.length?(0,it.of)(u):is.E))}(i._resolve,i,n,s).pipe((0,Dt.U)(u=>(i._resolvedData=u,i.data=Object.assign(Object.assign({},i.data),Yg(i,r).resolve),null)))}(f.route,s,i,n)),(0,ir.b)(()=>u++),Gf(1),(0,Dn.zg)(f=>u===o.length?(0,it.of)(r):is.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ir.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,ir.b)(v=>{const C=new $o(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}))}),kb(g=>{const{targetSnapshot:v,id:C,extractedUrl:T,rawUrl:S,extras:{skipLocationChange:x,replaceUrl:k}}=g;return this.hooks.afterPreactivation(v,{navigationId:C,appliedUrlTree:T,rawUrlTree:S,skipLocationChange:!!x,replaceUrl:!!k})}),(0,Dt.U)(g=>{const v=function(i,n,r){const s=ou(i,n._root,r?r._root:void 0);return new ap(s,n)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,ir.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((i,n,r)=>(0,Dt.U)(s=>(new Gd(n,s.targetRouterState,s.currentRouterState,r).activate(i),s)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,ir.b)({next(){u=!0},complete(){u=!0}}),Wf(()=>{if(!u&&!f){const g=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,g)):this.cancelNavigationTransition(o,g)}this.currentNavigation=null}),Ta(g=>{if(f=!0,function(i){return i&&i[Od]}(g)){const v=xs(g.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const C=new Aa(o.id,this.serializeUrl(o.extractedUrl),g.message);s.next(C),v?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f_(o.source)};this.scheduleNavigation(T,"imperative",null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new Qf(o.id,this.serializeUrl(o.extractedUrl),g);s.next(v);try{o.resolve(this.errorHandler(g))}catch(C){o.reject(C)}}return is.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const s=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:u,urlTree:f}=s,g={replaceUrl:!0};if(u){const v=Object.assign({},u);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(g.state=v)}this.scheduleNavigation(f,o,u,g)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(r){var s;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(s=r.state)||void 0===s?void 0:s.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,s){if(!r)return!0;const o=s.urlTree.toString()===r.urlTree.toString();return s.transitionId!==r.transitionId||!o||!("hashchange"===s.source&&"popstate"===r.source||"popstate"===s.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){bi(r),this.config=r.map(pp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,s={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:g,preserveFragment:v}=s,C=o||this.routerState.root,T=v?this.currentUrlTree.fragment:f;let S=null;switch(g){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),function(i,n,r,s,o){if(0===r.length)return Xg(n.root,n.root,n,s,o);const u=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new up(!0,0,i);let n=0,r=!1;const s=i.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Kn(u.outlets,(v,C)=>{g[C]="string"==typeof v?v.split("/"):v}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?r=!0:".."===g?n++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new up(r,n,s)}(r);if(u.toRoot())return Xg(n.root,new $t([],{}),n,s,o);const f=function(i,n,r){if(i.isAbsolute)return new dp(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const u=r.snapshot._urlSegment;return new dp(u,u===n.root,0)}const s=Ol(i.commands[0])?0:1;return function(i,n,r){let s=i,o=n,u=r;for(;u>o;){if(u-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new dp(s,!1,o-u)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+s,i.numberOfDoubleDots)}(u,n,i),g=f.processChildren?au(f.segmentGroup,f.index,u.commands):Go(f.segmentGroup,f.index,u.commands);return Xg(f.segmentGroup,g,n,s,o)}(C,this.currentUrlTree,r,S,null!=T?T:null)}navigateByUrl(r,s={skipLocationChange:!1}){const o=xs(r)?r:this.parseUrl(r),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,s)}navigate(r,s={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,s),s)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let s;try{s=this.urlSerializer.parse(r)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,r)}return s}isActive(r,s){let o;if(o=!0===s?Object.assign({},Gw):!1===s?Object.assign({},qw):s,xs(r))return Jc(this.currentUrlTree,r,o);const u=this.parseUrl(r);return Jc(this.currentUrlTree,u,o)}removeEmptyProps(r){return Object.keys(r).reduce((s,o)=>{const u=r[o];return null!=u&&(s[o]=u),s},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new Ia(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,s,o,u,f){var g,v;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),T=f_(s)&&C&&!f_(C.source),k=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===r.toString();if(T&&k)return Promise.resolve(!0);let N,L,F;f?(N=f.resolve,L=f.reject,F=f.promise):F=new Promise((K,ie)=>{N=K,L=ie});const z=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),J=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):J=0,this.setTransition({id:z,targetPageId:J,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:u,resolve:N,reject:L,promise:F,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),F.catch(K=>Promise.reject(K))}setBrowserUrl(r,s){const o=this.urlSerializer.serialize(r),u=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(r,s=!1){var o,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,s){const o=new Aa(r.id,this.serializeUrl(r.extractedUrl),s);this.triggerEvent(o),r.resolve(!1)}generateNgRouterState(r,s){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:s}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.DyG),h.LFG(rp),h.LFG(Vl),h.LFG(Mt),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function f_(i){return"imperative"!==i}let Xd=(()=>{class i{constructor(r,s,o,u,f){this.router=r,this.route=s,this.commands=[],this.onChanges=new Xt.xQ,null==o&&u.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(r){this.onChanges.next(this)}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}onClick(){const r={skipLocationChange:fu(this.skipLocationChange),replaceUrl:fu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fu(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Ci),h.Y36(Pa),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,s){1&r&&h.NdJ("click",function(){return s.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),i})(),eh=(()=>{class i{constructor(r,s,o){this.router=r,this.route=s,this.locationStrategy=o,this.commands=[],this.onChanges=new Xt.xQ,this.subscription=r.events.subscribe(u=>{u instanceof Ia&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,s,o,u,f){if(0!==r||s||o||u||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const g={skipLocationChange:fu(this.skipLocationChange),replaceUrl:fu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fu(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Ci),h.Y36(Pa),h.Y36(Be))},i.\u0275dir=h.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,s){1&r&&h.NdJ("click",function(u){return s.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&r&&(h.Ikx("href",s.href,h.LSH),h.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),i})();function fu(i){return""===i||!!i}let th=(()=>{class i{constructor(r,s,o,u,f){this.parentContexts=r,this.location=s,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=u||Nt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,s){this.activated=r,this._activatedRoute=s,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const f=(s=s||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,v=new p_(r,g,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Vl),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},i.\u0275dir=h.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class p_{constructor(n,r,s){this.route=n,this.childContexts=r,this.parent=s}get(n,r){return n===Pa?this.route:n===Vl?this.childContexts:this.parent.get(n,r)}}class Ob{}class Fb{preload(n,r){return(0,it.of)(null)}}let m_=(()=>{class i{constructor(r,s,o,u,f){this.router=r,this.injector=u,this.preloadingStrategy=f,this.loader=new d_(s,o,C=>r.triggerEvent(new Vg(C)),C=>r.triggerEvent(new Ug(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bi(r=>r instanceof Ia),Da(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(h.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,s){const o=[];for(const u of s)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(r,u)):u.children&&o.push(this.processRoutes(r,u.children));return(0,cn.D)(o).pipe((0,Vi.J)(),(0,Dt.U)(u=>{}))}preloadConfig(r,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,it.of)(s._loadedConfig):this.loader.load(r.injector,s)).pipe((0,Dn.zg)(u=>(s._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Ci),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Ob))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),pu=(()=>{class i{constructor(r,s,o={}){this.router=r,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ia&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Ho&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,s){this.router.triggerEvent(new Ho(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Ci),h.LFG(Uc),h.LFG(void 0))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Bl=new h.OlP("ROUTER_CONFIGURATION"),Zw=new h.OlP("ROUTER_FORROOT_GUARD"),Yw=[Mt,{provide:rp,useClass:kl},{provide:Ci,useFactory:function(i,n,r,s,o,u,f,g={},v,C){const T=new Ci(null,i,n,r,s,o,u,fb(f));return v&&(T.urlHandlingStrategy=v),C&&(T.routeReuseStrategy=C),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(g,T),g.enableTracing&&T.events.subscribe(S=>{var x,k;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(k=console.groupEnd)||void 0===k||k.call(console)}),T},deps:[rp,Vl,Mt,h.zs3,h.v3s,h.Sil,u_,Bl,[class{},new h.FiY],[class{},new h.FiY]]},Vl,{provide:Pa,useFactory:function(i){return i.routerState.root},deps:[Ci]},{provide:h.v3s,useClass:h.EAV},m_,Fb,class{preload(n,r){return r().pipe(Ta(()=>(0,it.of)(null)))}},{provide:Bl,useValue:{enableTracing:!1}}];function Lb(){return new h.PXZ("Router",Ci)}let Vb=(()=>{class i{constructor(r,s){}static forRoot(r,s){return{ngModule:i,providers:[Yw,Ub(r),{provide:Zw,useFactory:RM,deps:[[Ci,new h.FiY,new h.tp0]]},{provide:Bl,useValue:s||{}},{provide:Be,useFactory:Kw,deps:[oe,[new h.tBr(Ye),new h.FiY],Bl]},{provide:pu,useFactory:ON,deps:[Ci,Uc,Bl]},{provide:Ob,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Fb},{provide:h.PXZ,multi:!0,useFactory:Lb},[Bb,{provide:h.ip1,multi:!0,useFactory:Qw,deps:[Bb]},{provide:Jw,useFactory:OM,deps:[Bb]},{provide:h.tb,multi:!0,useExisting:Jw}]]}}static forChild(r){return{ngModule:i,providers:[Ub(r)]}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(Zw,8),h.LFG(Ci,8))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();function ON(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new pu(i,n,r)}function Kw(i,n,r={}){return r.useHash?new At(i,n):new Et(i,n)}function RM(i){return"guarded"}function Ub(i){return[{provide:h.deG,multi:!0,useValue:i},{provide:u_,multi:!0,useValue:i}]}let Bb=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Xt.xQ}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(g=>s=g),u=this.injector.get(Ci),f=this.injector.get(Bl);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,it.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),u.initialNavigation()):s(!0),o})}bootstrapListener(r){const s=this.injector.get(Bl),o=this.injector.get(m_),u=this.injector.get(pu),f=this.injector.get(Ci),g=this.injector.get(h.z2F);r===g.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),u.init(),f.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.zs3))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();function Qw(i){return i.appInitializer.bind(i)}function OM(i){return i.bootstrapListener.bind(i)}const Jw=new h.OlP("Router Initializer");var Xw=j(1555);function eT(...i){if(1===i.length){const n=i[0];if((0,Dl.k)(n))return g_(n,null);if((0,Xw.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return g_(r.map(s=>n[s]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return g_(i=1===i.length&&(0,Dl.k)(i[0])?i[0]:i,null).pipe((0,Dt.U)(r=>n(...r)))}return g_(i,null)}function g_(i,n){return new Tn.y(r=>{const s=i.length;if(0===s)return void r.complete();const o=new Array(s);let u=0,f=0;for(let g=0;g<s;g++){const v=(0,cn.D)(i[g]);let C=!1;r.add(v.subscribe({next:T=>{C||(C=!0,f++),o[g]=T},error:T=>r.error(T),complete:()=>{u++,(u===s||!C)&&(f===s&&r.next(n?n.reduce((T,S,x)=>(T[S]=o[x],T),{}):o),r.complete())}}))}})}let tT=(()=>{class i{constructor(r,s){this._renderer=r,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,s){this._renderer.setProperty(this._elementRef.nativeElement,r,s)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Qsj),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i}),i})(),Ct=(()=>{class i extends tT{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();const io=new h.OlP("NgValueAccessor"),so={provide:io,useExisting:(0,h.Gpc)(()=>nh),multi:!0},FM=new h.OlP("CompositionEventMode");let nh=(()=>{class i extends tT{constructor(r,s,o){super(r,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=Y()?Y().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(FM,8))},i.\u0275dir=h.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&h.NdJ("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[h._Bn([so]),h.qOj]}),i})();function ti(i){return null==i||0===i.length}function __(i){return null!=i&&"number"==typeof i.length}const jr=new h.OlP("NgValidators"),qo=new h.OlP("NgAsyncValidators"),FN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rh{static min(n){return function(i){return n=>{if(ti(n.value)||ti(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function(i){return n=>{if(ti(n.value)||ti(i))return null;const r=parseFloat(n.value);return!isNaN(r)&&r>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return function(i){return ti(i.value)?{required:!0}:null}(n)}static requiredTrue(n){return function(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function(i){return ti(i.value)||FN.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function(i){return n=>ti(n.value)||!__(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function(i){return n=>__(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static pattern(n){return function(i){if(!i)return mu;let n,r;return"string"==typeof i?(r="","^"!==i.charAt(0)&&(r+="^"),r+=i,"$"!==i.charAt(i.length-1)&&(r+="$"),n=new RegExp(r)):(r=i.toString(),n=i),s=>{if(ti(s.value))return null;const o=s.value;return n.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return $M(n)}static composeAsync(n){return HM(n)}}function mu(i){return null}function sT(i){return null!=i}function UM(i){const n=(0,h.QGY)(i)?(0,cn.D)(i):i;return(0,h.CqO)(n),n}function Hb(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function jb(i,n){return n.map(r=>r(i))}function v_(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function $M(i){if(!i)return null;const n=i.filter(sT);return 0==n.length?null:function(r){return Hb(jb(r,n))}}function oT(i){return null!=i?$M(v_(i)):null}function HM(i){if(!i)return null;const n=i.filter(sT);return 0==n.length?null:function(r){return eT(jb(r,n).map(UM)).pipe((0,Dt.U)(Hb))}}function aT(i){return null!=i?HM(v_(i)):null}function jM(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function zM(i){return i._rawValidators}function GM(i){return i._rawAsyncValidators}function lT(i){return i?Array.isArray(i)?i:[i]:[]}function zb(i,n){return Array.isArray(i)?i.includes(n):i===n}function qM(i,n){const r=lT(n);return lT(i).forEach(o=>{zb(r,o)||r.push(o)}),r}function WM(i,n){return lT(n).filter(r=>!zb(i,r))}let ja=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=oT(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=aT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,s){return!!this.control&&this.control.hasError(r,s)}getError(r,s){return this.control?this.control.getError(r,s):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i}),i})(),zr=(()=>{class i extends ja{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,features:[h.qOj]}),i})();class za extends ja{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gb{constructor(n){this._cd=n}is(n){var r,s,o;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[n])}}let b_=(()=>{class i extends Gb{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(za,2))},i.\u0275dir=h.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[h.qOj]}),i})(),uT=(()=>{class i extends Gb{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(zr,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){2&r&&h.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[h.qOj]}),i})();function qa(i,n){w_(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Tp(i,n)})}(i,n),function(i,n){const r=(s,o)=>{n.valueAccessor.writeValue(s),o&&n.viewToModelUpdate(s)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Tp(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=s=>{n.valueAccessor.setDisabledState(s)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function Wa(i,n,r=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),ih(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function C_(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function w_(i,n){const r=zM(i);null!==n.validator?i.setValidators(jM(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const s=GM(i);null!==n.asyncValidator?i.setAsyncValidators(jM(s,n.asyncValidator)):"function"==typeof s&&i.setAsyncValidators([s]);const o=()=>i.updateValueAndValidity();C_(n._rawValidators,o),C_(n._rawAsyncValidators,o)}function ih(i,n){let r=!1;if(null!==i){if(null!==n.validator){const o=zM(i);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==n.validator);u.length!==o.length&&(r=!0,i.setValidators(u))}}if(null!==n.asyncValidator){const o=GM(i);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==n.asyncValidator);u.length!==o.length&&(r=!0,i.setAsyncValidators(u))}}}const s=()=>{};return C_(n._rawValidators,s),C_(n._rawAsyncValidators,s),r}function Tp(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Yb(i,n){w_(i,n)}function gT(i,n){i._syncPendingControls(),n.forEach(r=>{const s=r.control;"submit"===s.updateOn&&s._pendingChange&&(r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function ni(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const Dp="VALID",Jb="INVALID",Sp="PENDING",sh="DISABLED";function Xb(i){return(e0(i)?i.validators:i)||null}function T_(i){return Array.isArray(i)?oT(i):i||null}function D_(i,n){return(e0(n)?n.asyncValidators:i)||null}function _T(i){return Array.isArray(i)?aT(i):i||null}function e0(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class t0{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=T_(this._rawValidators),this._composedAsyncValidatorFn=_T(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Dp}get invalid(){return this.status===Jb}get pending(){return this.status==Sp}get disabled(){return this.status===sh}get enabled(){return this.status!==sh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=T_(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=_T(n)}addValidators(n){this.setValidators(qM(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(qM(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(WM(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(WM(n,this._rawAsyncValidators))}hasValidator(n){return zb(this._rawValidators,n)}hasAsyncValidator(n){return zb(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Sp,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=sh,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Dp,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dp||this.status===Sp)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sh:Dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Sp,this._hasOwnPendingAsyncValidator=!0;const r=UM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=i;return n.forEach(o=>{s=s instanceof Ip?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof S_&&s.at(o)||null}),s}(this,n)}getError(n,r){const s=r?this.get(r):this;return s&&s.errors?s.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?sh:this.errors?Jb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sp)?Sp:this._anyControlsHaveStatus(Jb)?Jb:Dp}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){e0(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gu extends t0{constructor(n=null,r,s){super(Xb(r),D_(s,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){ni(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){ni(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Ip extends t0{constructor(n,r,s){super(Xb(r),D_(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,s={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((s,o)=>{s.reset(n[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,s)=>(n[s]=r instanceof gu?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,s)=>!!s._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const s=this.controls[r];s&&n(s,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const s=this.controls[r];if(this.contains(r)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,s)=>((r.enabled||this.disabled)&&(n[s]=r.value),n))}_reduceChildren(n,r){let s=n;return this._forEachChild((o,u)=>{s=r(s,o,u)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class S_ extends t0{constructor(n,r,s){super(Xb(r),D_(s,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,s={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((s,o)=>{s.reset(n[o],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof gu?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,s)=>!!s._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,s)=>{n(r,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const XM={provide:zr,useExisting:(0,h.Gpc)(()=>Ap)},oh=(()=>Promise.resolve(null))();let Ap=(()=>{class i extends zr{constructor(r,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new h.vpe,this.form=new Ip({},oT(r),aT(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){oh.then(()=>{const s=this._findContainer(r.path);r.control=s.registerControl(r.name,r.control),qa(r.control,r),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){oh.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name),ni(this._directives,r)})}addFormGroup(r){oh.then(()=>{const s=this._findContainer(r.path),o=new Ip({});Yb(o,r),s.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){oh.then(()=>{const s=this._findContainer(r.path);s&&s.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,s){oh.then(()=>{this.form.get(r.path).setValue(s)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,gT(this.form,this._directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(jr,10),h.Y36(qo,10))},i.\u0275dir=h.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){1&r&&h.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([XM]),h.qOj]}),i})(),ET=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),A_=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();const xp=new h.OlP("NgModelWithFormControlWarning"),TT={provide:zr,useExisting:(0,h.Gpc)(()=>ah)};let ah=(()=>{class i extends zr{constructor(r,s){super(),this.validators=r,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(r),this._setAsyncValidators(s)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ih(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const s=this.form.get(r.path);return qa(s,r),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),s}getControl(r){return this.form.get(r.path)}removeControl(r){Wa(r.control||null,r,!1),ni(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,s){this.form.get(r.path).setValue(s)}onSubmit(r){return this.submitted=!0,gT(this.form,this.directives),this.ngSubmit.emit(r),!1}onReset(){this.resetForm()}resetForm(r){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const s=r.control,o=this.form.get(r.path);s!==o&&(Wa(s||null,r),o instanceof gu&&(qa(o,r),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const s=this.form.get(r.path);Yb(s,r),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const s=this.form.get(r.path);s&&function(i,n){return ih(i,n)}(s,r)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){w_(this.form,this),this._oldForm&&ih(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(jr,10),h.Y36(qo,10))},i.\u0275dir=h.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,s){1&r&&h.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([TT]),h.qOj,h.TTD]}),i})();const rx={provide:za,useExisting:(0,h.Gpc)(()=>a0)};let a0=(()=>{class i extends za{constructor(r,s,o,u,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function(i,n){if(!n)return null;let r,s,o;return Array.isArray(n),n.forEach(u=>{u.constructor===nh?r=u:function(i){return Object.getPrototypeOf(i.constructor)===Ct}(u)?s=u:o=u}),o||s||r||null}(0,u)}set isDisabled(r){}ngOnChanges(r){this._added||this._setUpControl(),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function(i,n){return[...n.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(zr,13),h.Y36(jr,10),h.Y36(qo,10),h.Y36(io,10),h.Y36(xp,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([rx]),h.qOj,h.TTD]}),i._ngModelWarningSentOnce=!1,i})(),O_=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[A_]]}),i})(),NT=(()=>{class i{static withConfig(r){return{ngModule:i,providers:[{provide:xp,useValue:r.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[O_]}),i})(),OT=(()=>{class i{group(r,s=null){const o=this._reduceControls(r);let g,u=null,f=null;return null!=s&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(s)?(u=null!=s.validators?s.validators:null,f=null!=s.asyncValidators?s.asyncValidators:null,g=null!=s.updateOn?s.updateOn:void 0):(u=null!=s.validator?s.validator:null,f=null!=s.asyncValidator?s.asyncValidator:null)),new Ip(o,{asyncValidators:f,updateOn:g,validators:u})}control(r,s,o){return new gu(r,s,o)}array(r,s,o){const u=r.map(f=>this._createControl(f));return new S_(u,s,o)}_reduceControls(r){const s={};return Object.keys(r).forEach(o=>{s[o]=this._createControl(r[o])}),s}_createControl(r){return r instanceof gu||r instanceof Ip||r instanceof S_?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,h.Yz7)({factory:function(){return new i},token:i,providedIn:NT}),i})();var Np=j(3637),Sn=j(9126);function P_(){return i=>i.lift(new mx)}class mx{call(n,r){return r.subscribe(new Op(n))}}class Op extends Xr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}function Pp(i,n){return r=>r.lift(new PT(i,n))}class PT{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new FT(n,this.compare,this.keySelector))}}class FT extends Xr.L{constructor(n,r,s){super(n),this.keySelector=s,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:o}=this;r=o?o(n):n}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,r)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=r,this.destination.next(n))}}var st,as=j(8939),LT=(j(5128),j(4486)),xe=j(8239),ch=j(5452),F_=j(6034),jl=j(5601),Ht=j(3854),VT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ya={},UT=UT||{},Ft=VT||self;function uh(){}function d0(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function dh(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var $T="closure_uid_"+(1e9*Math.random()>>>0),ao=0;function JN(i,n,r){return i.call.apply(i.bind,arguments)}function XN(i,n,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),i.apply(n,o)}}return function(){return i.apply(n,arguments)}}function ri(i,n,r){return(ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JN:XN).apply(null,arguments)}function Fp(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function kr(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(s,o,u){for(var f=Array(arguments.length-2),g=2;g<arguments.length;g++)f[g-2]=arguments[g];return n.prototype[o].apply(s,f)}}function Ka(){this.s=this.s,this.o=this.o}var eO={};Ka.prototype.s=!1,Ka.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,$T)&&i[$T]||(i[$T]=++ao)}(this);delete eO[i]}},Ka.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const h0=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},L_=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const s=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<s;u++)u in o&&n.call(r,o[u],u,i)};function V_(i){return Array.prototype.concat.apply([],arguments)}function f0(i){const n=i.length;if(0<n){const r=Array(n);for(let s=0;s<n;s++)r[s]=i[s];return r}return[]}function U_(i){return/^[\s\xa0]*$/.test(i)}var Ti,HT=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function wi(i,n){return-1!=i.indexOf(n)}function p0(i,n){return i<n?-1:i>n?1:0}e:{var Lp=Ft.navigator;if(Lp){var vu=Lp.userAgent;if(vu){Ti=vu;break e}}Ti=""}function B_(i,n,r){for(const s in i)n.call(r,i[s],s,i)}function ks(i){const n={};for(const r in i)n[r]=i[r];return n}var hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jT(i,n){let r,s;for(let o=1;o<arguments.length;o++){for(r in s=arguments[o],s)i[r]=s[r];for(let u=0;u<hh.length;u++)r=hh[u],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function m0(i){return m0[" "](i),i}m0[" "]=uh;var Ja,i,Yo=wi(Ti,"Opera"),Ko=wi(Ti,"Trident")||wi(Ti,"MSIE"),Gr=wi(Ti,"Edge"),Qa=Gr||Ko,Vp=wi(Ti,"Gecko")&&!(wi(Ti.toLowerCase(),"webkit")&&!wi(Ti,"Edge"))&&!(wi(Ti,"Trident")||wi(Ti,"MSIE"))&&!wi(Ti,"Edge"),Ns=wi(Ti.toLowerCase(),"webkit")&&!wi(Ti,"Edge");function $_(){var i=Ft.document;return i?i.documentMode:void 0}e:{var zl="",Gl=(i=Ti,Vp?/rv:([^\);]+)(\)|;)/.exec(i):Gr?/Edge\/([\d\.]+)/.exec(i):Ko?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ns?/WebKit\/(\S+)/.exec(i):Yo?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Gl&&(zl=Gl?Gl[1]:""),Ko){var ql=$_();if(null!=ql&&ql>parseFloat(zl)){Ja=String(ql);break e}}Ja=zl}var fh={};function ph(){return n=fh,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=HT(String(Ja)).split("."),r=HT("9").split("."),s=Math.max(n.length,r.length);for(let f=0;0==i&&f<s;f++){var o=n[f]||"",u=r[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;i=p0(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||p0(0==o[2].length,0==u[2].length)||p0(o[2],u[2]),o=o[3],u=u[3]}while(0==i)}return 0<=i}();var n}var mh=Ft.document&&Ko&&($_()||parseInt(Ja,10))||void 0,zT=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ft.addEventListener("test",uh,n),Ft.removeEventListener("test",uh,n)}catch(r){}return i}();function qr(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function gh(i,n){if(qr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(Vp){e:{try{m0(n.nodeName);var o=!0;break e}catch(u){}o=!1}o||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:GT[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&gh.Z.h.call(this)}}qr.prototype.h=function(){this.defaultPrevented=!0},kr(gh,qr);var GT={2:"touch",3:"pen",4:"mouse"};gh.prototype.h=function(){gh.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var _h="closure_listenable_"+(1e6*Math.random()|0),qT=0;function WT(i,n,r,s,o){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!s,this.ia=o,this.key=++qT,this.ca=this.fa=!1}function Up(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Bp(i){this.src=i,this.g={},this.h=0}function _0(i,n){var r=n.type;if(r in i.g){var u,s=i.g[r],o=h0(s,n);(u=0<=o)&&Array.prototype.splice.call(s,o,1),u&&(Up(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function H_(i,n,r,s){for(var o=0;o<i.length;++o){var u=i[o];if(!u.ca&&u.listener==n&&u.capture==!!r&&u.ia==s)return o}return-1}Bp.prototype.add=function(i,n,r,s,o){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var f=H_(i,n,s,o);return-1<f?(n=i[f],r||(n.fa=!1)):((n=new WT(n,this.src,u,!!s,o)).fa=r,i.push(n)),n};var y0="closure_lm_"+(1e6*Math.random()|0),v0={};function b0(i,n,r,s,o){if(s&&s.once)return YT(i,n,r,s,o);if(Array.isArray(n)){for(var u=0;u<n.length;u++)b0(i,n[u],r,s,o);return null}return r=D0(r),i&&i[_h]?i.N(n,r,dh(s)?!!s.capture:!!s,o):ZT(i,n,r,!1,s,o)}function ZT(i,n,r,s,o,u){if(!n)throw Error("Invalid event type");var f=dh(o)?!!o.capture:!!o,g=T0(i);if(g||(i[y0]=g=new Bp(i)),(r=g.add(n,r,s,f,u)).proxy)return r;if(s=function(){var n=vx;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)zT||(o=f),void 0===o&&(o=!1),i.addEventListener(n.toString(),s,o);else if(i.attachEvent)i.attachEvent(w0(n.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function YT(i,n,r,s,o){if(Array.isArray(n)){for(var u=0;u<n.length;u++)YT(i,n[u],r,s,o);return null}return r=D0(r),i&&i[_h]?i.O(n,r,dh(s)?!!s.capture:!!s,o):ZT(i,n,r,!0,s,o)}function E0(i,n,r,s,o){if(Array.isArray(n))for(var u=0;u<n.length;u++)E0(i,n[u],r,s,o);else s=dh(s)?!!s.capture:!!s,r=D0(r),i&&i[_h]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=H_(u=i.g[n],r,s,o))&&(Up(u[r]),Array.prototype.splice.call(u,r,1),0==u.length&&(delete i.g[n],i.h--))):i&&(i=T0(i))&&(n=i.g[n.toString()],i=-1,n&&(i=H_(n,r,s,o)),(r=-1<i?n[i]:null)&&C0(r))}function C0(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[_h])_0(n.i,i);else{var r=i.type,s=i.proxy;n.removeEventListener?n.removeEventListener(r,s,i.capture):n.detachEvent?n.detachEvent(w0(r),s):n.addListener&&n.removeListener&&n.removeListener(s),(r=T0(n))?(_0(r,i),0==r.h&&(r.src=null,n[y0]=null)):Up(i)}}}function w0(i){return i in v0?v0[i]:v0[i]="on"+i}function vx(i,n){if(i.ca)i=!0;else{n=new gh(n,this);var r=i.listener,s=i.ia||i.src;i.fa&&C0(i),i=r.call(s,n)}return i}function T0(i){return(i=i[y0])instanceof Bp?i:null}var KT="__closure_events_fn_"+(1e9*Math.random()>>>0);function D0(i){return"function"==typeof i?i:(i[KT]||(i[KT]=function(n){return i.handleEvent(n)}),i[KT])}function yr(){Ka.call(this),this.i=new Bp(this),this.P=this,this.I=null}function ii(i,n){var r,s=i.I;if(s)for(r=[];s;s=s.I)r.push(s);if(i=i.P,s=n.type||n,"string"==typeof n)n=new qr(n,i);else if(n instanceof qr)n.target=n.target||i;else{var o=n;jT(n=new qr(s,i),o)}if(o=!0,r)for(var u=r.length-1;0<=u;u--){var f=n.g=r[u];o=S0(f,s,!0,n)&&o}if(o=S0(f=n.g=i,s,!0,n)&&o,o=S0(f,s,!1,n)&&o,r)for(u=0;u<r.length;u++)o=S0(f=n.g=r[u],s,!1,n)&&o}function S0(i,n,r,s){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var o=!0,u=0;u<n.length;++u){var f=n[u];if(f&&!f.ca&&f.capture==r){var g=f.listener,v=f.ia||f.src;f.fa&&_0(i.i,f),o=!1!==g.call(v,s)&&o}}return o&&!s.defaultPrevented}kr(yr,Ka),yr.prototype[_h]=!0,yr.prototype.removeEventListener=function(i,n,r,s){E0(this,i,n,r,s)},yr.prototype.M=function(){if(yr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],s=0;s<r.length;s++)Up(r[s]);delete i.g[n],i.h--}}this.I=null},yr.prototype.N=function(i,n,r,s){return this.i.add(String(i),n,!1,r,s)},yr.prototype.O=function(i,n,r,s){return this.i.add(String(i),n,!0,r,s)};var QT=Ft.JSON.stringify;function bx(){var i=Cx;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var A0,JT=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ex,i=>i.reset());class Ex{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function I0(i){Ft.setTimeout(()=>{throw i},0)}function $p(i,n){A0||function(){var i=Ft.Promise.resolve(void 0);A0=function(){i.then(wx)}}(),XT||(A0(),XT=!0),Cx.add(i,n)}var XT=!1,Cx=new class{constructor(){this.h=this.g=null}add(n,r){const s=JT.get();s.set(n,r),this.h?this.h.next=s:this.g=s,this.h=s}};function wx(){for(var i;i=bx();){try{i.h.call(i.g)}catch(r){I0(r)}var n=JT;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}XT=!1}function Hp(i,n){yr.call(this),this.h=i||1,this.g=n||Ft,this.j=ri(this.kb,this),this.l=Date.now()}function eD(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function M0(i,n,r){if("function"==typeof i)r&&(i=ri(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ri(i.handleEvent,i)}return 2147483647<Number(n)?-1:Ft.setTimeout(i,n||0)}function Eu(i){i.g=M0(()=>{i.g=null,i.i&&(i.i=!1,Eu(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}kr(Hp,yr),(st=Hp.prototype).da=!1,st.S=null,st.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ii(this,"tick"),this.da&&(eD(this),this.start()))}},st.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.M=function(){Hp.Z.M.call(this),eD(this),delete this.g};class Tx extends Ka{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Eu(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yh(i){Ka.call(this),this.h=i,this.g={}}kr(yh,Ka);var tD=[];function x0(i,n,r,s){Array.isArray(r)||(r&&(tD[0]=r.toString()),r=tD);for(var o=0;o<r.length;o++){var u=b0(n,r[o],s||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function jp(i){B_(i.g,function(n,r){this.g.hasOwnProperty(r)&&C0(n)},i),i.g={}}function j_(){this.g=!0}function vh(i,n,r,s){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<o.length;f++)o[f]=""}}}return QT(r)}catch(g){return n}}(i,r)+(s?" "+s:"")})}yh.prototype.M=function(){yh.Z.M.call(this),jp(this)},yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},j_.prototype.Aa=function(){this.g=!1},j_.prototype.info=function(){};var Cu={},R0=null;function z_(){return R0=R0||new yr}function k0(i){qr.call(this,Cu.Ma,i)}function bh(i){const n=z_();ii(n,new k0(n,i))}function G_(i,n){qr.call(this,Cu.STAT_EVENT,i),this.stat=n}function ji(i){const n=z_();ii(n,new G_(n,i))}function q_(i,n){qr.call(this,Cu.Na,i),this.size=n}function zp(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){i()},n)}Cu.Ma="serverreachability",kr(k0,qr),Cu.STAT_EVENT="statevent",kr(G_,qr),Cu.Na="timingevent",kr(q_,qr);var N0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Eh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function O0(){}function Z_(){}O0.prototype.h=null;var Y_,Gp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qp(){qr.call(this,"d")}function Wp(){qr.call(this,"c")}function P0(){}function Zp(i,n,r,s){this.l=i,this.j=n,this.m=r,this.X=s||1,this.V=new yh(this),this.P=F0,this.W=new Hp(i=Qa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new K_}function K_(){this.i=null,this.g="",this.h=!1}kr(qp,qr),kr(Wp,qr),kr(P0,O0),P0.prototype.g=function(){return new XMLHttpRequest},P0.prototype.i=function(){return{}},Y_=new P0;var F0=45e3,Q_={},Yp={};function Kp(i,n,r){i.K=1,i.v=ty(Qo(n)),i.s=r,i.U=!0,L0(i,null)}function L0(i,n){i.F=Date.now(),Qp(i),i.A=Qo(i.v);var r=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),hD(r.h,"t",s),i.C=0,r=i.l.H,i.h=new K_,i.g=oE(i.l,r?n:null,!i.s),0<i.O&&(i.L=new Tx(ri(i.Ia,i,i.g),i.O)),x0(i.V,i.g,"readystatechange",i.gb),n=i.H?ks(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),bh(1),function(i,n,r,s,o,u){i.info(function(){if(i.g)if(u)for(var f="",g=u.split("&"),v=0;v<g.length;v++){var C=g[v].split("=");if(1<C.length){var T=C[0];C=C[1];var S=T.split("_");f=2<=S.length&&"type"==S[1]?f+(T+"=")+C+"&":f+(T+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+n+"\n"+r+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function J_(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function X_(i,n,r){let o,s=!0;for(;!i.I&&i.C<r.length;){if(o=rD(i,r),o==Yp){4==n&&(i.o=4,ji(14),s=!1),vh(i.j,i.m,null,"[Incomplete Response]");break}if(o==Q_){i.o=4,ji(15),vh(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}vh(i.j,i.m,o,null),U0(i,o)}J_(i)&&o!=Yp&&o!=Q_&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,ji(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),nE(n),n.L=!0,ji(11))):(vh(i.j,i.m,r,"[Invalid Chunked Response]"),Zl(i),wu(i))}function rD(i,n){var r=i.C,s=n.indexOf("\n",r);return-1==s?Yp:(r=Number(n.substring(r,s)),isNaN(r)?Q_:(s+=1)+r>n.length?Yp:(n=n.substr(s,r),i.C=s+r,n))}function Qp(i){i.Y=Date.now()+i.P,V0(i,i.P)}function V0(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=zp(ri(i.eb,i),n)}function Jp(i){i.B&&(Ft.clearTimeout(i.B),i.B=null)}function wu(i){0==i.l.G||i.I||SD(i.l,i)}function Zl(i){Jp(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,eD(i.W),jp(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function U0(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||Os(r.i,i)))if(r.I=i.N,!i.J&&Os(r.i,i)&&3==r.G){try{var s=r.Ca.g.parse(n)}catch(C){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(r.u)r.ta=o[1],0<r.ta-r.U&&37500>o[2]&&r.N&&0==r.A&&!r.v&&(r.v=zp(ri(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;ly(r),oy(r)}tE(r),ji(18)}if(1>=pD(r.i)&&r.ka){try{r.ka()}catch(C){}r.ka=void 0}}else Xl(r,11)}else if((i.J||r.g==i)&&ly(r),!U_(n))for(o=r.Ca.g.parse(n),n=0;n<o.length;n++){let C=o[n];if(r.U=C[0],C=C[1],2==r.G)if("c"==C[0]){r.J=C[1],r.la=C[2];const T=C[3];null!=T&&(r.ma=T,r.h.info("VER="+r.ma));const S=C[4];null!=S&&(r.za=S,r.h.info("SVER="+r.za));const x=C[5];null!=x&&"number"==typeof x&&0<x&&(r.K=s=1.5*x,r.h.info("backChannelRequestTimeoutMs_="+s)),s=r;const k=i.g;if(k){const N=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var u=s.i;!u.g&&(wi(N,"spdy")||wi(N,"quic")||wi(N,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(ls(u,u.h),u.h=null))}if(s.D){const L=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;L&&(s.sa=L,Vn(s.F,s.D,L))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var f=i;if((s=r).oa=sE(s,s.H?s.la:null,s.W),f.J){Ps(s.i,f);var g=f,v=s.K;v&&g.setTimeout(v),g.B&&(Jp(g),Qp(g)),s.g=f}else TD(s);0<r.l.length&&ay(r)}else"stop"!=C[0]&&"close"!=C[0]||Xl(r,7);else 3==r.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Xl(r,7):X0(r):"noop"!=C[0]&&r.j&&r.j.wa(C),r.A=0)}bh(4)}catch(C){}}function ey(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(d0(i)||"string"==typeof i)L_(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(d0(i)||"string"==typeof i){r=[];for(var s=i.length,o=0;o<s;o++)r.push(o)}else for(o in r=[],s=0,i)r[s++]=o;o=(s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(d0(i)){for(var n=[],r=i.length,s=0;s<r;s++)n.push(i[s]);return n}for(s in n=[],r=0,i)n[r++]=i[s];return n}(i)).length;for(var u=0;u<o;u++)n.call(void 0,s[u],r&&r[u],i)}}function Tu(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var s=0;s<r;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof Tu)for(r=i.T(),s=0;s<r.length;s++)this.set(r[s],i.get(r[s]));else for(s in i)this.set(s,i[s])}function Xp(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var s=i.g[n];Yl(i.h,s)&&(i.g[r++]=s),n++}i.g.length=r}if(i.i!=i.g.length){var o={};for(r=n=0;n<i.g.length;)Yl(o,s=i.g[n])||(i.g[r++]=s,o[s]=1),n++;i.g.length=r}}function Yl(i,n){return Object.prototype.hasOwnProperty.call(i,n)}(st=Zp.prototype).setTimeout=function(i){this.P=i},st.gb=function(i){i=i.target;const n=this.L;n&&3==ea(i)?n.l():this.Ia(i)},st.Ia=function(i){try{if(i==this.g)e:{const T=ea(this.g);var n=this.g.Da();const S=this.g.ba();if(!(3>T)&&(3!=T||Qa||this.g&&(this.h.h||this.g.ga()||Q0(this.g)))){this.I||4!=T||7==n||bh(8==n||0>=S?3:2),Jp(this);var r=this.g.ba();this.N=r;t:if(J_(this)){var s=Q0(this.g);i="";var o=s.length,u=4==ea(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Zl(this),wu(this);var f="";break t}this.h.i=new Ft.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,i+=this.h.i.decode(s[n],{stream:u&&n==o-1});s.splice(0,o),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==r,function(i,n,r,s,o,u,f){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+n+"\n"+r+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.X,T,r),this.i){if(this.$&&!this.J){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U_(g)){var C=g;break t}}C=null}if(!(r=C)){this.i=!1,this.o=3,ji(12),Zl(this),wu(this);break e}vh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,U0(this,r)}this.U?(X_(this,T,f),Qa&&this.i&&3==T&&(x0(this.V,this.W,"tick",this.fb),this.W.start())):(vh(this.j,this.m,f,null),U0(this,f)),4==T&&Zl(this),this.i&&!this.I&&(4==T?SD(this.l,this):(this.i=!1,Qp(this)))}else 400==r&&0<f.indexOf("Unknown SID")?(this.o=3,ji(12)):(this.o=0,ji(13)),Zl(this),wu(this)}}}catch(T){}},st.fb=function(){if(this.g){var i=ea(this.g),n=this.g.ga();this.C<n.length&&(Jp(this),X_(this,i,n),this.i&&4!=i&&Qp(this))}},st.cancel=function(){this.I=!0,Zl(this)},st.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(bh(3),ji(17)),Zl(this),this.o=2,wu(this)):V0(this,this.Y-i)},(st=Tu.prototype).R=function(){Xp(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},st.T=function(){return Xp(this),this.g.concat()},st.get=function(i,n){return Yl(this.h,i)?this.h[i]:n},st.set=function(i,n){Yl(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},st.forEach=function(i,n){for(var r=this.T(),s=0;s<r.length;s++){var o=r[s],u=this.get(o);i.call(n,u,o,this)}};var B0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kl(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Kl){this.g=void 0!==n?n:i.g,em(this,i.j),this.s=i.s,tm(this,i.i),nm(this,i.m),this.l=i.l,n=i.h;var r=new Jo;r.i=n.i,n.g&&(r.g=new Tu(n.g),r.h=n.h),Ax(this,r),this.o=i.o}else i&&(r=String(i).match(B0))?(this.g=!!n,em(this,r[1]||"",!0),this.s=zn(r[2]||""),tm(this,r[3]||"",!0),nm(this,r[4]),this.l=zn(r[5]||"",!0),Ax(this,r[6]||"",!0),this.o=zn(r[7]||"")):(this.g=!!n,this.h=new Jo(null,this.g))}function Qo(i){return new Kl(i)}function em(i,n,r){i.j=r?zn(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function tm(i,n,r){i.i=r?zn(n,!0):n}function nm(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function Ax(i,n,r){n instanceof Jo?(i.h=n,function(i,n){n&&!i.j&&(Ql(i),i.i=null,i.g.forEach(function(r,s){var o=s.toLowerCase();s!=o&&(dD(this,s),hD(this,o,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Ch(n,cD)),i.h=new Jo(n,i.g))}function Vn(i,n,r){i.h.set(n,r)}function ty(i){return Vn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function zn(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ch(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,xx),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function xx(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Kl.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Ch(n,aD,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Ch(n,aD,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Ch(r,"/"==r.charAt(0)?Rx:lD,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Ch(r,uD)),i.join("")};var aD=/[#\/\?@]/g,lD=/[#\?:]/g,Rx=/[#\?]/g,cD=/[#\?@]/g,uD=/#/g;function Jo(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Ql(i){i.g||(i.g=new Tu,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),o=null;if(0<=s){var u=i[r].substring(0,s);o=i[r].substring(s+1)}else u=i[r];n(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function dD(i,n){Ql(i),n=Du(i,n),Yl(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,Yl((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&Xp(i)))}function $0(i,n){return Ql(i),n=Du(i,n),Yl(i.g.h,n)}function hD(i,n,r){dD(i,n),0<r.length&&(i.i=null,i.g.set(Du(i,n),f0(r)),i.h+=r.length)}function Du(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function ny(i){this.l=i||Xo,i=Ft.PerformanceNavigationTiming?0<(i=Ft.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Jo.prototype).add=function(i,n){Ql(this),this.i=null,i=Du(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},st.forEach=function(i,n){Ql(this),this.g.forEach(function(r,s){L_(r,function(o){i.call(n,o,s,this)},this)},this)},st.T=function(){Ql(this);for(var i=this.g.R(),n=this.g.T(),r=[],s=0;s<n.length;s++)for(var o=i[s],u=0;u<o.length;u++)r.push(n[s]);return r},st.R=function(i){Ql(this);var n=[];if("string"==typeof i)$0(this,i)&&(n=V_(n,this.g.get(Du(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=V_(n,i[r])}return n},st.set=function(i,n){return Ql(this),this.i=null,$0(this,i=Du(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},st.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var s=n[r],o=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var f=o;""!==s[u]&&(f+="="+encodeURIComponent(String(s[u]))),i.push(f)}}return this.i=i.join("&")};var Xo=10;function fD(i){return!!i.h||!!i.g&&i.g.size>=i.j}function pD(i){return i.h?1:i.g?i.g.size:0}function Os(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function ls(i,n){i.g?i.g.add(n):i.h=n}function Ps(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function j0(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return f0(i.i)}function ry(){}function kx(){this.g=new ry}function Nx(i,n,r){const s=r||"";try{ey(i,function(o,u){let f=o;dh(o)&&(f=QT(o)),n.push(s+u+"="+encodeURIComponent(f))})}catch(o){throw n.push(s+"type="+encodeURIComponent("_badmap")),o}}function iy(i,n,r,s,o){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,o(s)}catch(u){}}function Su(i){this.l=i.$b||null,this.j=i.ib||!1}function Jl(i,n){yr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=z0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ny.prototype.cancel=function(){if(this.i=j0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ry.prototype.stringify=function(i){return Ft.JSON.stringify(i,void 0)},ry.prototype.parse=function(i){return Ft.JSON.parse(i,void 0)},kr(Su,O0),Su.prototype.g=function(){return new Jl(this.l,this.j)},Su.prototype.i=function(i){return function(){return i}}({}),kr(Jl,yr);var z0=0;function G0(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function rm(i){i.readyState=4,i.l=null,i.j=null,i.A=null,wh(i)}function wh(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(st=Jl.prototype).open=function(i,n){if(this.readyState!=z0)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,wh(this)},st.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||Ft).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rm(this)),this.readyState=z0},st.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,wh(this)),this.g&&(this.readyState=3,wh(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;G0(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},st.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?rm(this):wh(this),3==this.readyState&&G0(this)}},st.Ua=function(i){this.g&&(this.response=this.responseText=i,rm(this))},st.Ta=function(i){this.g&&(this.response=i,rm(this))},st.ha=function(){this.g&&rm(this)},st.setRequestHeader=function(i,n){this.v.append(i,n)},st.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var mD=Ft.JSON.parse;function Gn(i){yr.call(this),this.headers=new Tu,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=gD,this.K=this.L=!1}kr(Gn,yr);var gD="",_D=/^https?$/i,yD=["POST","PUT"];function sy(i){return"content-type"==i.toLowerCase()}function W0(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Z0(i),im(i)}function Z0(i){i.D||(i.D=!0,ii(i,"complete"),ii(i,"error"))}function Y0(i){if(i.h&&void 0!==UT&&(!i.C[1]||4!=ea(i)||2!=i.ba()))if(i.v&&4==ea(i))M0(i.Fa,0,i);else if(ii(i,"readystatechange"),4==ea(i)){i.h=!1;try{const g=i.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var s;if(s=0===g){var o=String(i.H).match(B0)[1]||null;if(!o&&Ft.self&&Ft.self.location){var u=Ft.self.location.protocol;o=u.substr(0,u.length-1)}s=!_D.test(o?o.toLowerCase():"")}r=s}if(r)ii(i,"complete"),ii(i,"success");else{i.m=6;try{var f=2<ea(i)?i.g.statusText:""}catch(v){f=""}i.j=f+" ["+i.ba()+"]",Z0(i)}}finally{im(i)}}}function im(i,n){if(i.g){K0(i);const r=i.g,s=i.C[0]?uh:null;i.g=null,i.C=null,n||ii(i,"ready");try{r.onreadystatechange=s}catch(o){}}}function K0(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ft.clearTimeout(i.A),i.A=null)}function ea(i){return i.g?i.g.readyState:0}function Q0(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case gD:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function J0(i,n,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=function(i){let n="";return B_(i,function(r,s){n+=s,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):Vn(i,n,r))}function sm(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function bD(i){this.za=0,this.l=[],this.h=new j_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sm("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sm("baseRetryDelayMs",5e3,i),this.$a=sm("retryDelaySeedMs",1e4,i),this.Ya=sm("forwardChannelMaxRetries",2,i),this.ra=sm("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new ny(i&&i.concurrentRequestLimit),this.Ca=new kx,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function X0(i){if(ED(i),3==i.G){var n=i.V++,r=Qo(i.F);Vn(r,"SID",i.J),Vn(r,"RID",n),Vn(r,"TYPE","terminate"),om(i,r),(n=new Zp(i,i.h,n,void 0)).K=2,n.v=ty(Qo(r)),r=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(r=Ft.navigator.sendBeacon(n.v.toString(),"")),!r&&Ft.Image&&((new Image).src=n.v,r=!0),r||(n.g=oE(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Qp(n)}iE(i)}function oy(i){i.g&&(nE(i),i.g.cancel(),i.g=null)}function ED(i){oy(i),i.u&&(Ft.clearTimeout(i.u),i.u=null),ly(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ft.clearTimeout(i.m),i.m=null)}function eE(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&ay(i)}function ay(i){fD(i.i)||i.m||(i.m=!0,$p(i.Ha,i),i.C=0)}function CD(i,n){var r;r=n?n.m:i.V++;const s=Qo(i.F);Vn(s,"SID",i.J),Vn(s,"RID",r),Vn(s,"AID",i.U),om(i,s),i.o&&i.s&&J0(s,i.o,i.s),r=new Zp(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=wD(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ls(i.i,r),Kp(r,s,n)}function om(i,n){i.j&&ey({},function(r,s){Vn(n,s,r)})}function wD(i,n,r){r=Math.min(i.l.length,r);var s=i.j?ri(i.j.Oa,i.j,i):null;e:{var o=i.l;let u=-1;for(;;){const f=["count="+r];-1==u?0<r?(u=o[0].h,f.push("ofs="+u)):u=0:f.push("ofs="+u);let g=!0;for(let v=0;v<r;v++){let C=o[v].h;const T=o[v].g;if(C-=u,0>C)u=Math.max(0,o[v].h-100),g=!1;else try{Nx(T,f,"req"+C+"_")}catch(S){s&&s(T)}}if(g){s=f.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,s}function TD(i){i.g||i.u||(i.Y=1,$p(i.Ga,i),i.A=0)}function tE(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=zp(ri(i.Ga,i),rE(i,i.A)),i.A++,0))}function nE(i){null!=i.B&&(Ft.clearTimeout(i.B),i.B=null)}function DD(i){i.g=new Zp(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=Qo(i.oa);Vn(n,"RID","rpc"),Vn(n,"SID",i.J),Vn(n,"CI",i.N?"0":"1"),Vn(n,"AID",i.U),om(i,n),Vn(n,"TYPE","xmlhttp"),i.o&&i.s&&J0(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=ty(Qo(n)),r.s=null,r.U=!0,L0(r,i)}function ly(i){null!=i.v&&(Ft.clearTimeout(i.v),i.v=null)}function SD(i,n){var r=null;if(i.g==n){ly(i),nE(i),i.g=null;var s=2}else{if(!Os(i.i,n))return;r=n.D,Ps(i.i,n),s=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==s){r=n.s?n.s.length:0,n=Date.now()-n.F;var o=i.C;ii(s=z_(),new q_(s,r,n,o)),ay(i)}else TD(i);else if(3==(o=n.o)||0==o&&0<i.I||!(1==s&&function(i,n){return!(pD(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=zp(ri(i.Ha,i,n),rE(i,i.C)),i.C++,0)))}(i,n)||2==s&&tE(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),o){case 1:Xl(i,5);break;case 4:Xl(i,10);break;case 3:Xl(i,6);break;default:Xl(i,2)}}function rE(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function Xl(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var s=ri(i.jb,i);r||(r=new Kl("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||em(r,"https"),ty(r)),function(i,n){const r=new j_;if(Ft.Image){const s=new Image;s.onload=Fp(iy,r,s,"TestLoadImage: loaded",!0,n),s.onerror=Fp(iy,r,s,"TestLoadImage: error",!1,n),s.onabort=Fp(iy,r,s,"TestLoadImage: abort",!1,n),s.ontimeout=Fp(iy,r,s,"TestLoadImage: timeout",!1,n),Ft.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else n(!1)}(r.toString(),s)}else ji(2);i.G=0,i.j&&i.j.va(n),iE(i),ED(i)}function iE(i){i.G=0,i.I=-1,i.j&&((0!=j0(i.i).length||0!=i.l.length)&&(i.i.i.length=0,f0(i.l),i.l.length=0),i.j.ua())}function sE(i,n,r){let s=function(i){return i instanceof Kl?Qo(i):new Kl(i,void 0)}(r);if(""!=s.i)n&&tm(s,n+"."+s.i),nm(s,s.m);else{const o=Ft.location;s=function(i,n,r,s){var o=new Kl(null,void 0);return i&&em(o,i),n&&tm(o,n),r&&nm(o,r),s&&(o.l=s),o}(o.protocol,n?n+"."+o.hostname:o.hostname,+o.port,r)}return i.aa&&B_(i.aa,function(o,u){Vn(s,u,o)}),r=i.sa,(n=i.D)&&r&&Vn(s,n,r),Vn(s,"VER",i.ma),om(i,s),s}function oE(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Gn(r&&i.Ba&&!i.qa?new Su({ib:!0}):i.qa)).L=i.H,n}function aE(){}function am(){if(Ko&&!(10<=Number(mh)))throw Error("Environmental error: no available transport.")}function zi(i,n){yr.call(this),this.g=new bD(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!U_(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!U_(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new Iu(this)}function lE(i){qp.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function cy(){Wp.call(this),this.status=1}function Iu(i){this.g=i}(st=Gn.prototype).ea=function(i,n,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Y_.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Y_),this.g.onreadystatechange=ri(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(u){return void W0(this,u)}i=r||"";const o=new Tu(this.headers);s&&ey(s,function(u,f){o.set(f,u)}),s=function(i){e:{var n=sy;const r=i.length,s="string"==typeof i?i.split(""):i;for(let o=0;o<r;o++)if(o in s&&n.call(void 0,s[o],o,i)){n=o;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(o.T()),r=Ft.FormData&&i instanceof Ft.FormData,!(0<=h0(yD,n))||s||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,f){this.g.setRequestHeader(f,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{K0(this),0<this.B&&((this.K=function(i){return Ko&&ph()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ri(this.pa,this)):this.A=M0(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){W0(this,u)}},st.pa=function(){void 0!==UT&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},st.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,ii(this,"complete"),ii(this,"abort"),im(this))},st.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),im(this,!0)),Gn.Z.M.call(this)},st.Fa=function(){this.s||(this.F||this.v||this.l?Y0(this):this.cb())},st.cb=function(){Y0(this)},st.ba=function(){try{return 2<ea(this)?this.g.status:-1}catch(i){return-1}},st.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},st.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),mD(n)}},st.Da=function(){return this.m},st.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=bD.prototype).ma=8,st.G=1,st.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},st.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const o=new Zp(this,this.h,i,void 0);let u=this.s;if(this.P&&(u?(u=ks(u),jT(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var s=this.l[r];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(n+=s)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=wD(this,o,n),Vn(r=Qo(this.F),"RID",i),Vn(r,"CVER",22),this.D&&Vn(r,"X-HTTP-Session-Id",this.D),om(this,r),this.o&&u&&J0(r,this.o,u),ls(this.i,o),this.Ra&&Vn(r,"TYPE","init"),this.ja?(Vn(r,"$req",n),Vn(r,"SID","null"),o.$=!0,Kp(o,r,null)):Kp(o,r,n),this.G=2}}else 3==this.G&&(i?CD(this,i):0==this.l.length||fD(this.i)||CD(this))},st.Ga=function(){if(this.u=null,DD(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=zp(ri(this.bb,this),i)}},st.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ji(10),oy(this),DD(this))},st.ab=function(){null!=this.v&&(this.v=null,oy(this),tE(this),ji(19))},st.jb=function(i){i?(this.h.info("Successfully pinged google.com"),ji(2)):(this.h.info("Failed to ping google.com"),ji(1))},(st=aE.prototype).xa=function(){},st.wa=function(){},st.va=function(){},st.ua=function(){},st.Oa=function(){},am.prototype.g=function(i,n){return new zi(i,n)},kr(zi,yr),zi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),$p(ri(i.hb,i,n))),ji(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=sE(i,null,i.W),ay(i)},zi.prototype.close=function(){X0(this.g)},zi.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,eE(this.g,n)}else this.v?((n={}).__data__=QT(i),eE(this.g,n)):eE(this.g,i)},zi.prototype.M=function(){this.g.j=null,delete this.j,X0(this.g),delete this.g,zi.Z.M.call(this)},kr(lE,qp),kr(cy,Wp),kr(Iu,aE),Iu.prototype.xa=function(){ii(this.g,"a")},Iu.prototype.wa=function(i){ii(this.g,new lE(i))},Iu.prototype.va=function(i){ii(this.g,new cy(i))},Iu.prototype.ua=function(){ii(this.g,"b")},am.prototype.createWebChannel=am.prototype.g,zi.prototype.send=zi.prototype.u,zi.prototype.open=zi.prototype.m,zi.prototype.close=zi.prototype.close,N0.NO_ERROR=0,N0.TIMEOUT=8,N0.HTTP_ERROR=6,Eh.COMPLETE="complete",Z_.EventType=Gp,Gp.OPEN="a",Gp.CLOSE="b",Gp.ERROR="c",Gp.MESSAGE="d",yr.prototype.listen=yr.prototype.N,Gn.prototype.listenOnce=Gn.prototype.O,Gn.prototype.getLastError=Gn.prototype.La,Gn.prototype.getLastErrorCode=Gn.prototype.Da,Gn.prototype.getStatus=Gn.prototype.ba,Gn.prototype.getResponseJson=Gn.prototype.Qa,Gn.prototype.getResponseText=Gn.prototype.ga,Gn.prototype.send=Gn.prototype.ea;var Au=Ya.createWebChannelTransport=function(){return new am},Fx=Ya.getStatEventTarget=function(){return z_()},cE=Ya.ErrorCode=N0,Th=Ya.EventType=Eh,sO=Ya.Event=Cu,uy=Ya.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},oO=Ya.FetchXmlHttpFactory=Su,lm=Ya.WebChannel=Z_,ID=Ya.XhrIo=Gn;class si{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let gt="9.1.0";const ec=new jl.Yd("@firebase/firestore");function uE(){return ec.logLevel}function Ze(i,...n){if(ec.logLevel<=jl.in.DEBUG){const r=n.map(Dh);ec.debug(`Firestore (${gt}): ${i}`,...r)}}function sr(i,...n){if(ec.logLevel<=jl.in.ERROR){const r=n.map(Dh);ec.error(`Firestore (${gt}): ${i}`,...r)}}function tc(i,...n){if(ec.logLevel<=jl.in.WARN){const r=n.map(Dh);ec.warn(`Firestore (${gt}): ${i}`,...r)}}function Dh(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function Je(i="Unexpected state"){const n=`FIRESTORE (${gt}) INTERNAL ASSERTION FAILED: `+i;throw sr(n),new Error(n)}function kt(i,n){i||Je()}function et(i,n){return i}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class dE{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class MD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(si.UNAUTHENTICATED))}shutdown(){}}class Vx{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ux{constructor(n){this.t=n,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var s=this;let o=this.i;const u=C=>this.i!==o?(o=this.i,r(C)):Promise.resolve();let f=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new vr,n.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const C=f;n.enqueueRetryable((0,xe.Z)(function*(){yield C.promise,yield u(s.currentUser)}))},v=C=>{Ze("FirebaseCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(Ze("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new vr)}},0),g()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==n?(Ze("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(kt("string"==typeof s.accessToken),new dE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return kt(null===n||"string"==typeof n),new si(n)}}class Bx{constructor(n,r,s){this.h=n,this.l=r,this.m=s,this.type="FirstParty",this.user=si.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class cm{constructor(n,r,s){this.h=n,this.l=r,this.m=s}getToken(){return Promise.resolve(new Bx(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cs{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=s=>this.g(s),this.p=s=>r.writeSequenceNumber(s))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function $x(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}cs.T=-1;class xD{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let s="";for(;s.length<20;){const o=$x(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=n.charAt(o[u]%n.length))}return s}}function Wt(i,n){return i<n?-1:i>n?1:0}function Mu(i,n,r){return i.length===n.length&&i.every((s,o)=>r(s,n[o]))}function hE(i){return i+"\0"}class br{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ze(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ze(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return br.fromMillis(Date.now())}static fromDate(n){return br.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*r));return new br(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Wt(this.nanoseconds,n.nanoseconds):Wt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Ut(n)}static min(){return new Ut(new br(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Sh(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function lo(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function RD(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class um{constructor(n,r,s){void 0===r?r=0:r>n.length&&Je(),void 0===s?s=n.length-r:s>n.length-r&&Je(),this.segments=n,this.offset=r,this.len=s}get length(){return this.len}isEqual(n){return 0===um.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof um?n.forEach(s=>{r.push(s)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,s=this.limit();r<s;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const s=Math.min(n.length,r.length);for(let o=0;o<s;o++){const u=n.get(o),f=r.get(o);if(u<f)return-1;if(u>f)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class an extends um{construct(n,r,s){return new an(n,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const s of n){if(s.indexOf("//")>=0)throw new ze(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(o=>o.length>0))}return new an(r)}static emptyPath(){return new an([])}}const kD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nr extends um{construct(n,r,s){return new Nr(n,r,s)}static isValidIdentifier(n){return kD.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Nr(["__name__"])}static fromServerFormat(n){const r=[];let s="",o=0;const u=()=>{if(0===s.length)throw new ze(Te.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<n.length;){const g=n[o];if("\\"===g){if(o+1===n.length)throw new ze(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const v=n[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new ze(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=v,o+=2}else"`"===g?(f=!f,o++):"."!==g||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new ze(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Nr(r)}static emptyPath(){return new Nr([])}}class xu{constructor(n){this.fields=n,n.sort(Nr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return Mu(this.fields,n.fields,(r,s)=>r.isEqual(s))}}class Er{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Er(r)}static fromUint8Array(n){const r=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(n);return new Er(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Wt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const jx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nc(i){if(kt(!!i),"string"==typeof i){let n=0;const r=jx.exec(i);if(kt(!!r),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),n=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:Cr(i.seconds),nanos:Cr(i.nanos)}}function Cr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function dm(i){return"string"==typeof i?Er.fromBase64String(i):Er.fromUint8Array(i)}function ND(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function zx(i){const n=i.mapValue.fields.__previous_value__;return ND(n)?zx(n):n}function Ih(i){const n=nc(i.mapValue.fields.__local_write_time__.timestampValue);return new br(n.seconds,n.nanos)}function ta(i){return null==i}function dy(i){return 0===i&&1/i==-1/0}function OD(i){return"number"==typeof i&&Number.isInteger(i)&&!dy(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class dt{constructor(n){this.path=n}static fromPath(n){return new dt(an.fromString(n))}static fromName(n){return new dt(an.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===an.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return an.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new dt(new an(n.slice()))}}function co(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ND(i)?4:10:Je()}function na(i,n){const r=co(i);if(r!==co(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Ih(i).isEqual(Ih(n));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=nc(s.timestampValue),f=nc(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return o=n,dm(i.bytesValue).isEqual(dm(o.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(s,o){return Cr(s.geoPointValue.latitude)===Cr(o.geoPointValue.latitude)&&Cr(s.geoPointValue.longitude)===Cr(o.geoPointValue.longitude)}(i,n);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Cr(s.integerValue)===Cr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Cr(s.doubleValue),f=Cr(o.doubleValue);return u===f?dy(u)===dy(f):isNaN(u)&&isNaN(f)}return!1}(i,n);case 9:return Mu(i.arrayValue.values||[],n.arrayValue.values||[],na);case 10:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(Sh(u)!==Sh(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===f[g]||!na(u[g],f[g])))return!1;return!0}(i,n);default:return Je()}var o}function hm(i,n){return void 0!==(i.values||[]).find(r=>na(r,n))}function Ah(i,n){const r=co(i),s=co(n);if(r!==s)return Wt(r,s);switch(r){case 0:return 0;case 1:return Wt(i.booleanValue,n.booleanValue);case 2:return function(o,u){const f=Cr(o.integerValue||o.doubleValue),g=Cr(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(i,n);case 3:return PD(i.timestampValue,n.timestampValue);case 4:return PD(Ih(i),Ih(n));case 5:return Wt(i.stringValue,n.stringValue);case 6:return function(o,u){const f=dm(o),g=dm(u);return f.compareTo(g)}(i.bytesValue,n.bytesValue);case 7:return function(o,u){const f=o.split("/"),g=u.split("/");for(let v=0;v<f.length&&v<g.length;v++){const C=Wt(f[v],g[v]);if(0!==C)return C}return Wt(f.length,g.length)}(i.referenceValue,n.referenceValue);case 8:return function(o,u){const f=Wt(Cr(o.latitude),Cr(u.latitude));return 0!==f?f:Wt(Cr(o.longitude),Cr(u.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(o,u){const f=o.values||[],g=u.values||[];for(let v=0;v<f.length&&v<g.length;++v){const C=Ah(f[v],g[v]);if(C)return C}return Wt(f.length,g.length)}(i.arrayValue,n.arrayValue);case 10:return function(o,u){const f=o.fields||{},g=Object.keys(f),v=u.fields||{},C=Object.keys(v);g.sort(),C.sort();for(let T=0;T<g.length&&T<C.length;++T){const S=Wt(g[T],C[T]);if(0!==S)return S;const x=Ah(f[g[T]],v[C[T]]);if(0!==x)return x}return Wt(g.length,C.length)}(i.mapValue,n.mapValue);default:throw Je()}}function PD(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return Wt(i,n);const r=nc(i),s=nc(n),o=Wt(r.seconds,s.seconds);return 0!==o?o:Wt(r.nanos,s.nanos)}function fE(i){return hy(i)}function hy(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const o=nc(s);return`time(${o.seconds},${o.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?dm(i.bytesValue).toBase64():"referenceValue"in i?dt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(s){let o="[",u=!0;for(const f of s.values||[])u?u=!1:o+=",",o+=hy(f);return o+"]"}(i.arrayValue):"mapValue"in i?function(s){const o=Object.keys(s.fields||{}).sort();let u="{",f=!0;for(const g of o)f?f=!1:u+=",",u+=`${g}:${hy(s.fields[g])}`;return u+"}"}(i.mapValue):Je();var n}function fy(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function pE(i){return!!i&&"integerValue"in i}function rc(i){return!!i&&"arrayValue"in i}function FD(i){return!!i&&"nullValue"in i}function mE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function py(i){return!!i&&"mapValue"in i}function Mh(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return lo(i.mapValue.fields,(r,s)=>n.mapValue.fields[r]=Mh(s)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Mh(i.arrayValue.values[r]);return n}return Object.assign({},i)}class oi{constructor(n){this.value=n}static empty(){return new oi({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let s=0;s<n.length-1;++s)if(r=(r.mapValue.fields||{})[n.get(s)],!py(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Mh(r)}setAll(n){let r=Nr.emptyPath(),s={},o=[];n.forEach((f,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,s,o),s={},o=[],r=g.popLast()}f?s[g.lastSegment()]=Mh(f):o.push(g.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(n){const r=this.field(n.popLast());py(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return na(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<n.length;++s){let o=r.mapValue.fields[n.get(s)];py(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[n.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(n,r,s){lo(r,(o,u)=>n[o]=u);for(const o of s)delete n[o]}clone(){return new oi(Mh(this.value))}}function gE(i){const n=[];return lo(i.fields,(r,s)=>{const o=new Nr([r]);if(py(s)){const u=gE(s.mapValue).fields;if(0===u.length)n.push(o);else for(const f of u)n.push(o.child(f))}else n.push(o)}),new xu(n)}class Un{constructor(n,r,s,o,u){this.key=n,this.documentType=r,this.version=s,this.data=o,this.documentState=u}static newInvalidDocument(n){return new Un(n,0,Ut.min(),oi.empty(),0)}static newFoundDocument(n,r,s){return new Un(n,1,r,s,0)}static newNoDocument(n,r){return new Un(n,2,r,oi.empty(),0)}static newUnknownDocument(n,r){return new Un(n,3,r,oi.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Un&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Un(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _E{constructor(n,r=null,s=[],o=[],u=null,f=null,g=null){this.path=n,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.A=null}}function LD(i,n=null,r=[],s=[],o=null,u=null,f=null){return new _E(i,n,r,s,o,u,f)}function xh(i){const n=et(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(s=>function(i){return i.field.canonicalString()+i.op.toString()+fE(i.value)}(s)).join(","),r+="|ob:",r+=n.orderBy.map(s=>{return(o=s).field.canonicalString()+o.dir;var o}).join(","),ta(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=_y(n.startAt)),n.endAt&&(r+="|ub:",r+=_y(n.endAt)),n.A=r}return n.A}function my(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let o=0;o<i.orderBy.length;o++)if(!$D(i.orderBy[o],n.orderBy[o]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let o=0;o<i.filters.length;o++)if((r=i.filters[o]).op!==(s=n.filters[o]).op||!r.field.isEqual(s.field)||!na(r.value,s.value))return!1;var r,s;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!jD(i.startAt,n.startAt)&&jD(i.endAt,n.endAt)}function gy(i){return dt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Di extends class{}{constructor(n,r,s){super(),this.field=n,this.op=r,this.value=s}static create(n,r,s){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,s):new Gx(n,r,s):"array-contains"===r?new Wx(n,s):"in"===r?new Zx(n,s):"not-in"===r?new Yx(n,s):"array-contains-any"===r?new Kx(n,s):new Di(n,r,s)}static R(n,r,s){return"in"===r?new UD(n,s):new qx(n,s)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(Ah(r,this.value)):null!==r&&co(this.value)===co(r)&&this.P(Ah(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Je()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Gx extends Di{constructor(n,r,s){super(n,r,s),this.key=dt.fromName(s.referenceValue)}matches(n){const r=dt.comparator(n.key,this.key);return this.P(r)}}class UD extends Di{constructor(n,r){super(n,"in",r),this.keys=BD(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class qx extends Di{constructor(n,r){super(n,"not-in",r),this.keys=BD(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function BD(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>dt.fromName(s.referenceValue))}class Wx extends Di{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return rc(r)&&hm(r.arrayValue,this.value)}}class Zx extends Di{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&hm(this.value.arrayValue,r)}}class Yx extends Di{constructor(n,r){super(n,"not-in",r)}matches(n){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!hm(this.value.arrayValue,r)}}class Kx extends Di{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!rc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>hm(this.value.arrayValue,s))}}class fm{constructor(n,r){this.position=n,this.before=r}}function _y(i){return`${i.before?"b":"a"}:${i.position.map(n=>fE(n)).join(",")}`}class Ru{constructor(n,r="asc"){this.field=n,this.dir=r}}function $D(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function HD(i,n,r){let s=0;for(let o=0;o<i.position.length;o++){const u=n[o],f=i.position[o];if(s=u.field.isKeyField()?dt.comparator(dt.fromName(f.referenceValue),r.key):Ah(f,r.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return i.before?s<=0:s<0}function jD(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!na(i.position[r],n.position[r]))return!1;return!0}class ra{constructor(n,r=null,s=[],o=[],u=null,f="F",g=null,v=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=v,this.V=null,this.S=null}}function zD(i,n,r,s,o,u,f,g){return new ra(i,n,r,s,o,u,f,g)}function Rh(i){return new ra(i)}function yy(i){return!ta(i.limit)&&"F"===i.limitType}function kh(i){return!ta(i.limit)&&"L"===i.limitType}function pm(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function vy(i){for(const n of i.filters)if(n.v())return n.field;return null}function mm(i){return null!==i.collectionGroup}function Nh(i){const n=et(i);if(null===n.V){n.V=[];const r=vy(n),s=pm(n);if(null!==r&&null===s)r.isKeyField()||n.V.push(new Ru(r)),n.V.push(new Ru(Nr.keyField(),"asc"));else{let o=!1;for(const u of n.explicitOrderBy)n.V.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new Ru(Nr.keyField(),u))}}}return n.V}function Fs(i){const n=et(i);if(!n.S)if("F"===n.limitType)n.S=LD(n.path,n.collectionGroup,Nh(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const u of Nh(n))r.push(new Ru(u.field,"desc"===u.dir?"asc":"desc"));const s=n.endAt?new fm(n.endAt.position,!n.endAt.before):null,o=n.startAt?new fm(n.startAt.position,!n.startAt.before):null;n.S=LD(n.path,n.collectionGroup,r,n.filters,n.limit,s,o)}return n.S}function by(i,n,r){return new ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function gm(i,n){return my(Fs(i),Fs(n))&&i.limitType===n.limitType}function vE(i){return`${xh(Fs(i))}|lt:${i.limitType}`}function bE(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(s=r).field.canonicalString()} ${s.op} ${fE(s.value)}`;var s}).join(", ")}]`),ta(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(n+=", startAt: "+_y(i.startAt)),i.endAt&&(n+=", endAt: "+_y(i.endAt)),`Target(${n})`}(Fs(i))}; limitType=${i.limitType})`}function Oh(i,n){return n.isFoundDocument()&&function(r,s){const o=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):dt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(i,n)&&function(r,s){for(const o of r.explicitOrderBy)if(!o.field.isKeyField()&&null===s.data.field(o.field))return!1;return!0}(i,n)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(i,n)&&(s=n,!((r=i).startAt&&!HD(r.startAt,Nh(r),s)||r.endAt&&HD(r.endAt,Nh(r),s)));var r,s}function EE(i){return(n,r)=>{let s=!1;for(const o of Nh(i)){const u=GD(o,n,r);if(0!==u)return u;s=s||o.field.isKeyField()}return 0}}function GD(i,n,r){const s=i.field.isKeyField()?dt.comparator(n.key,r.key):function(o,u,f){const g=u.data.field(o),v=f.data.field(o);return null!==g&&null!==v?Ah(g,v):Je()}(i.field,n,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Je()}}function Qx(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dy(n)?"-0":n}}function qD(i){return{integerValue:""+i}}function ku(i,n){return OD(n)?qD(n):Qx(i,n)}class CE{constructor(){this._=void 0}}function wE(i,n,r){return i instanceof uo?function(s,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(r,n):i instanceof Nu?Jx(i,n):i instanceof Ou?ho(i,n):function(s,o){const u=WD(s,o),f=Xx(u)+Xx(s.C);return pE(u)&&pE(s.C)?qD(f):Qx(s.N,f)}(i,n)}function Ey(i,n,r){return i instanceof Nu?Jx(i,n):i instanceof Ou?ho(i,n):r}function WD(i,n){return i instanceof Pu?pE(r=n)||(s=r)&&"doubleValue"in s?n:{integerValue:0}:null;var s,r}class uo extends CE{}class Nu extends CE{constructor(n){super(),this.elements=n}}function Jx(i,n){const r=_m(n);for(const s of i.elements)r.some(o=>na(o,s))||r.push(s);return{arrayValue:{values:r}}}class Ou extends CE{constructor(n){super(),this.elements=n}}function ho(i,n){let r=_m(n);for(const s of i.elements)r=r.filter(o=>!na(o,s));return{arrayValue:{values:r}}}class Pu extends CE{constructor(n,r){super(),this.N=n,this.C=r}}function Xx(i){return Cr(i.integerValue||i.doubleValue)}function _m(i){return rc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ym{constructor(n,r){this.field=n,this.transform=r}}class aO{constructor(n,r){this.version=n,this.transformResults=r}}class or{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new or}static exists(n){return new or(void 0,n)}static updateTime(n){return new or(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Cy(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class wy{}function TE(i,n,r){i instanceof Dy?function(s,o,u){const f=s.value.clone(),g=KD(s.fieldTransforms,o,u.transformResults);f.setAll(g),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(i,n,r):i instanceof ic?function(s,o,u){if(!Cy(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=KD(s.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(YD(s)),g.setAll(f),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function Ty(i,n,r){var o;i instanceof Dy?function(s,o,u){if(!Cy(s.precondition,o))return;const f=s.value.clone(),g=IE(s.fieldTransforms,u,o);f.setAll(g),o.convertToFoundDocument(ZD(o),f).setHasLocalMutations()}(i,n,r):i instanceof ic?function(s,o,u){if(!Cy(s.precondition,o))return;const f=IE(s.fieldTransforms,u,o),g=o.data;g.setAll(YD(s)),g.setAll(f),o.convertToFoundDocument(ZD(o),g).setHasLocalMutations()}(i,n,r):Cy(i.precondition,o=n)&&o.convertToNoDocument(Ut.min())}function DE(i,n){let r=null;for(const s of i.fieldTransforms){const o=n.data.field(s.field),u=WD(s.transform,o||null);null!=u&&(null==r&&(r=oi.empty()),r.set(s.field,u))}return r||null}function SE(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(s=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===s||r&&s&&Mu(r,s,(o,u)=>function(i,n){return i.field.isEqual(n.field)&&(s=n.transform,(r=i.transform)instanceof Nu&&s instanceof Nu||r instanceof Ou&&s instanceof Ou?Mu(r.elements,s.elements,na):r instanceof Pu&&s instanceof Pu?na(r.C,s.C):r instanceof uo&&s instanceof uo);var r,s}(o,u))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,s}function ZD(i){return i.isFoundDocument()?i.version:Ut.min()}class Dy extends wy{constructor(n,r,s,o=[]){super(),this.key=n,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}}class ic extends wy{constructor(n,r,s,o,u=[]){super(),this.key=n,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}}function YD(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);n.set(r,s)}}),n}function KD(i,n,r){const s=new Map;kt(i.length===r.length);for(let o=0;o<r.length;o++){const u=i[o],f=u.transform,g=n.data.field(u.field);s.set(u.field,Ey(f,g,r[o]))}return s}function IE(i,n,r){const s=new Map;for(const o of i){const u=o.transform,f=r.data.field(o.field);s.set(o.field,wE(u,f,n))}return s}class Ph extends wy{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class Sy extends wy{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class t1{constructor(n){this.count=n}}var ar,en;function vm(i){switch(i){case Te.OK:return Je();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return Je()}}function QD(i){if(void 0===i)return sr("GRPC error has no .code"),Te.UNKNOWN;switch(i){case ar.OK:return Te.OK;case ar.CANCELLED:return Te.CANCELLED;case ar.UNKNOWN:return Te.UNKNOWN;case ar.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case ar.INTERNAL:return Te.INTERNAL;case ar.UNAVAILABLE:return Te.UNAVAILABLE;case ar.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case ar.NOT_FOUND:return Te.NOT_FOUND;case ar.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case ar.ABORTED:return Te.ABORTED;case ar.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case ar.DATA_LOSS:return Te.DATA_LOSS;default:return Je()}}(en=ar||(ar={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class lr{constructor(n,r){this.comparator=n,this.root=r||cr.EMPTY}insert(n,r){return new lr(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(n){return new lr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,cr.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(n,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(n){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(n,s.key);if(0===o)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,s)=>(n(r,s),!1))}toString(){const n=[];return this.inorderTraversal((r,s)=>(n.push(`${r}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Fu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Fu(this.root,n,this.comparator,!0)}}class Fu{constructor(n,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!n.isEmpty();)if(u=r?s(n.key,r):1,o&&(u*=-1),u<0)n=this.isReverse?n.left:n.right;else{if(0===u){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class cr{constructor(n,r,s,o,u){this.key=n,this.value=r,this.color=null!=s?s:cr.RED,this.left=null!=o?o:cr.EMPTY,this.right=null!=u?u:cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,s,o,u){return new cr(null!=n?n:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,s){let o=this;const u=s(n,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(n,r,s),null):0===u?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cr.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let s,o=this;if(r(n,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(n,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===r(n,o.key)){if(o.right.isEmpty())return cr.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(n,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const n=this.left.check();if(n!==this.right.check())throw Je();return n+(this.isRed()?0:1)}}cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1,cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(i,n,r,s,o){return this}insert(i,n,r){return new cr(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(n){this.comparator=n,this.data=new lr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,s)=>(n(r),!1))}forEachInRange(n,r){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,n[1])>=0)return;r(o.key)}}forEachWhile(n,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new JD(this.data.getIterator())}getIteratorFrom(n){return new JD(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(s=>{r=r.add(s)}),r}isEqual(n){if(!(n instanceof In)||this.size!==n.size)return!1;const r=this.data.getIterator(),s=n.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new In(this.comparator);return r.data=n,r}}class JD{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const n1=new lr(dt.comparator);function fo(){return n1}const r1=new lr(dt.comparator);function AE(){return r1}const i1=new lr(dt.comparator);function XD(){return i1}const s1=new In(dt.comparator);function pn(...i){let n=s1;for(const r of i)n=n.add(r);return n}const o1=new In(Wt);function Iy(){return o1}class bm{constructor(n,r,s,o,u){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(n,r){const s=new Map;return s.set(n,Ay.createSynthesizedTargetChangeForCurrentChange(n,r)),new bm(Ut.min(),s,Iy(),fo(),pn())}}class Ay{constructor(n,r,s,o,u){this.resumeToken=n,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(n,r){return new Ay(Er.EMPTY_BYTE_STRING,r,pn(),pn(),pn())}}class My{constructor(n,r,s,o){this.k=n,this.removedTargetIds=r,this.key=s,this.$=o}}class Fh{constructor(n,r){this.targetId=n,this.O=r}}class eS{constructor(n,r,s=Er.EMPTY_BYTE_STRING,o=null){this.state=n,this.targetIds=r,this.resumeToken=s,this.cause=o}}class tS{constructor(){this.F=0,this.M=sc(),this.L=Er.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=pn(),r=pn(),s=pn();return this.M.forEach((o,u)=>{switch(u){case 0:n=n.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Je()}}),new Ay(this.L,this.B,n,r,s)}G(){this.U=!1,this.M=sc()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class a1{constructor(n){this.tt=n,this.et=new Map,this.nt=fo(),this.st=Em(),this.it=new In(Wt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const s=this.ut(r);switch(n.state){case 0:this.ht(r)&&s.j(n.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(n.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(r);break;case 3:this.ht(r)&&(s.Z(),s.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),s.j(n.resumeToken));break;default:Je()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((s,o)=>{this.ht(o)&&r(o)})}ft(n){const r=n.targetId,s=n.O.count,o=this.dt(r);if(o){const u=o.target;if(gy(u))if(0===s){const f=new dt(u.path);this.at(r,f,Un.newNoDocument(f,Ut.min()))}else kt(1===s);else this.wt(r)!==s&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((u,f)=>{const g=this.dt(f);if(g){if(u.current&&gy(g.target)){const v=new dt(g.target.path);null!==this.nt.get(v)||this.gt(f,v)||this.at(f,v,Un.newNoDocument(v,n))}u.K&&(r.set(f,u.W()),u.G())}});let s=pn();this.st.forEach((u,f)=>{let g=!0;f.forEachWhile(v=>{const C=this.dt(v);return!C||2===C.purpose||(g=!1,!1)}),g&&(s=s.add(u))});const o=new bm(n,r,this.it,this.nt,s);return this.nt=fo(),this.st=Em(),this.it=new In(Wt),o}ot(n,r){if(!this.ht(n))return;const s=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,s),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,s){if(!this.ht(n))return;const o=this.ut(n);this.gt(n,r)?o.H(r,1):o.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),s&&(this.nt=this.nt.insert(r,s))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new tS,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new In(Wt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||Ze("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new tS),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function Em(){return new lr(dt.comparator)}function sc(){return new lr(dt.comparator)}const nS={asc:"ASCENDING",desc:"DESCENDING"},l1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lO{constructor(n,r){this.databaseId=n,this.D=r}}function Cm(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function wm(i,n){return i.D?n.toBase64():n.toUint8Array()}function c1(i,n){return Cm(i,n.toTimestamp())}function Or(i){return kt(!!i),Ut.fromTimestamp(function(n){const r=nc(n);return new br(r.seconds,r.nanos)}(i))}function xy(i,n){return(r=i,new an(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function ME(i){const n=an.fromString(i);return kt(ds(n)),n}function Lu(i,n){return xy(i.databaseId,n.path)}function po(i,n){const r=ME(n);if(r.get(1)!==i.databaseId.projectId)throw new ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new ze(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new dt(xE(r))}function Ry(i,n){return xy(i.databaseId,n)}function rS(i){const n=ME(i);return 4===n.length?an.emptyPath():xE(n)}function Tm(i){return new an(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xE(i){return kt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function iS(i,n,r){return{name:Lu(i,n),fields:r.value.mapValue.fields}}function RE(i,n,r){const s=po(i,n.name),o=Or(n.updateTime),u=new oi({mapValue:{fields:n.fields}}),f=Un.newFoundDocument(s,o,u);return r&&f.setHasCommittedMutations(),r?f.setHasCommittedMutations():f}function kE(i,n){let r;if(n instanceof Dy)r={update:iS(i,n.key,n.value)};else if(n instanceof Ph)r={delete:Lu(i,n.key)};else if(n instanceof ic)r={update:iS(i,n.key,n.data),updateMask:d1(n.fieldMask)};else{if(!(n instanceof Sy))return Je();r={verify:Lu(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(s=>function(o,u){const f=u.transform;if(f instanceof uo)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ou)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Pu)return{fieldPath:u.field.canonicalString(),increment:f.C};throw Je()}(0,s))),n.precondition.isNone||(r.currentDocument=void 0!==(o=n.precondition).updateTime?{updateTime:c1(i,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Je()),r;var o}function Lh(i,n){const r=n.currentDocument?void 0!==(o=n.currentDocument).updateTime?or.updateTime(Or(o.updateTime)):void 0!==o.exists?or.exists(o.exists):or.none():or.none(),s=n.updateTransforms?n.updateTransforms.map(o=>function(u,f){let g=null;"setToServerValue"in f?(kt("REQUEST_TIME"===f.setToServerValue),g=new uo):"appendMissingElements"in f?g=new Nu(f.appendMissingElements.values||[]):"removeAllFromArray"in f?g=new Ou(f.removeAllFromArray.values||[]):"increment"in f?g=new Pu(u,f.increment):Je();const v=Nr.fromServerFormat(f.fieldPath);return new ym(v,g)}(i,o)):[];var o;if(n.update){const o=po(i,n.update.name),u=new oi({mapValue:{fields:n.update.fields}});if(n.updateMask){const f=new xu((n.updateMask.fieldPaths||[]).map(C=>Nr.fromServerFormat(C)));return new ic(o,u,f,r,s)}return new Dy(o,u,r,s)}if(n.delete){const o=po(i,n.delete);return new Ph(o,r)}if(n.verify){const o=po(i,n.verify);return new Sy(o,r)}return Je()}function Xa(i,n){return{documents:[Ry(i,n.path)]}}function Vu(i,n){const r={structuredQuery:{}},s=n.path;null!==n.collectionGroup?(r.parent=Ry(i,s),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=Ry(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(g){if(0===g.length)return;const v=g.map(C=>function(T){if("=="===T.op){if(mE(T.value))return{unaryFilter:{field:Bu(T.field),op:"IS_NAN"}};if(FD(T.value))return{unaryFilter:{field:Bu(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(mE(T.value))return{unaryFilter:{field:Bu(T.field),op:"IS_NOT_NAN"}};if(FD(T.value))return{unaryFilter:{field:Bu(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(T.field),op:uO(T.op),value:T.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(n.filters);o&&(r.structuredQuery.where=o);const u=function(g){if(0!==g.length)return g.map(v=>{return{field:Bu((C=v).field),direction:Uu(C.dir)};var C})}(n.orderBy);u&&(r.structuredQuery.orderBy=u);const f=(v=n.limit,i.D||ta(v)?v:{value:v});var v;return null!==f&&(r.structuredQuery.limit=f),n.startAt&&(r.structuredQuery.startAt=us(n.startAt)),n.endAt&&(r.structuredQuery.endAt=us(n.endAt)),r}function Vh(i){let n=rS(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){kt(1===s);const T=r.from[0];T.allDescendants?o=T.collectionId:n=n.child(T.collectionId)}let u=[];r.where&&(u=Ot(r.where));let f=[];r.orderBy&&(f=r.orderBy.map(T=>{return new Ru($u((S=T).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let g=null;r.limit&&(g=function(T){let S;return S="object"==typeof T?T.value:T,ta(S)?null:S}(r.limit));let v=null;r.startAt&&(v=Oy(r.startAt));let C=null;return r.endAt&&(C=Oy(r.endAt)),zD(n,o,f,u,g,"F",v,C)}function Ot(i){return i?void 0!==i.unaryFilter?[u1(i)]:void 0!==i.fieldFilter?[dO(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>Ot(n)).reduce((n,r)=>n.concat(r)):Je():[]}function us(i){return{before:i.before,values:i.position}}function Oy(i){return new fm(i.values||[],!!i.before)}function Uu(i){return nS[i]}function uO(i){return l1[i]}function Bu(i){return{fieldPath:i.canonicalString()}}function $u(i){return Nr.fromServerFormat(i.fieldPath)}function dO(i){return Di.create($u(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Je()}}(i.fieldFilter.op),i.fieldFilter.value)}function u1(i){switch(i.unaryFilter.op){case"IS_NAN":const n=$u(i.unaryFilter.field);return Di.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=$u(i.unaryFilter.field);return Di.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$u(i.unaryFilter.field);return Di.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$u(i.unaryFilter.field);return Di.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Je()}}function d1(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function ds(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function rn(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=NE(n)),n=mo(i.get(r),n);return NE(n)}function mo(i,n){let r=n;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=u}}return r}function NE(i){return i+"\x01\x01"}function el(i){const n=i.length;if(kt(n>=2),2===n)return kt("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),an.emptyPath();const r=n-2,s=[];let o="";for(let u=0;u<n;){const f=i.indexOf("\x01",u);switch((f<0||f>r)&&Je(),i.charAt(f+1)){case"\x01":const g=i.substring(u,f);let v;0===o.length?v=g:(o+=g,v=o,o=""),s.push(v);break;case"\x10":o+=i.substring(u,f),o+="\0";break;case"\x11":o+=i.substring(u,f+1);break;default:Je()}u=f+2}return new an(s)}class sS{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Si{constructor(n,r,s){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=s}}Si.store="owner",Si.key="owner";class hs{constructor(n,r,s){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=s}}hs.store="mutationQueues",hs.keyPath="userId";class mn{constructor(n,r,s,o,u){this.userId=n,this.batchId=r,this.localWriteTimeMs=s,this.baseMutations=o,this.mutations=u}}mn.store="mutations",mn.keyPath="batchId",mn.userMutationsIndex="userMutationsIndex",mn.userMutationsKeyPath=["userId","batchId"];class ai{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,rn(r)]}static key(n,r,s){return[n,rn(r),s]}}ai.store="documentMutations",ai.PLACEHOLDER=new ai;class Hu{constructor(n,r){this.path=n,this.readTime=r}}class h1{constructor(n,r){this.path=n,this.version=r}}class qn{constructor(n,r,s,o,u,f){this.unknownDocument=n,this.noDocument=r,this.document=s,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=f}}qn.store="remoteDocuments",qn.readTimeIndex="readTimeIndex",qn.readTimeIndexPath="readTime",qn.collectionReadTimeIndex="collectionReadTimeIndex",qn.collectionReadTimeIndexPath=["parentPath","readTime"];class Ls{constructor(n){this.byteSize=n}}Ls.store="remoteDocumentGlobal",Ls.key="remoteDocumentGlobalKey";class Pr{constructor(n,r,s,o,u,f,g){this.targetId=n,this.canonicalId=r,this.readTime=s,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=f,this.query=g}}Pr.store="targets",Pr.keyPath="targetId",Pr.queryTargetsIndexName="queryTargetsIndex",Pr.queryTargetsKeyPath=["canonicalId","targetId"];class wr{constructor(n,r,s){this.targetId=n,this.path=r,this.sequenceNumber=s}}wr.store="targetDocuments",wr.keyPath=["targetId","path"],wr.documentTargetsIndex="documentTargetsIndex",wr.documentTargetsKeyPath=["path","targetId"];class Gi{constructor(n,r,s,o){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=s,this.targetCount=o}}Gi.key="targetGlobalKey",Gi.store="targetGlobal";class Vs{constructor(n,r){this.collectionId=n,this.parent=r}}Vs.store="collectionParents",Vs.keyPath=["collectionId","parent"];class tl{constructor(n,r,s,o){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=s,this.inForeground=o}}tl.store="clientMetadata",tl.keyPath="clientId";class nl{constructor(n,r,s){this.bundleId=n,this.createTime=r,this.version=s}}nl.store="bundles",nl.keyPath="bundleId";class ju{constructor(n,r,s){this.name=n,this.readTime=r,this.bundledQuery=s}}ju.store="namedQueries",ju.keyPath="name";const oS=[hs.store,mn.store,ai.store,qn.store,Pr.store,Si.store,Gi.store,wr.store,tl.store,Ls.store,Vs.store,nl.store,ju.store],OE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class je{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new je((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(n,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof je?r:je.resolve(r)}catch(r){return je.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):je.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):je.reject(r)}static resolve(n){return new je((r,s)=>{r(n)})}static reject(n){return new je((r,s)=>{s(n)})}static waitFor(n){return new je((r,s)=>{let o=0,u=0,f=!1;n.forEach(g=>{++o,g.next(()=>{++u,f&&u===o&&r()},v=>s(v))}),f=!0,u===o&&r()})}static or(n){let r=je.resolve(!1);for(const s of n)r=r.next(o=>o?je.resolve(o):s());return r}static forEach(n,r){const s=[];return n.forEach((o,u)=>{s.push(r.call(this,o,u))}),this.waitFor(s)}}class Uh{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new vr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new Py(n,r.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const o=PE(s.target.error);this.Tt.reject(new Py(n,o))}}static open(n,r,s,o){try{return new Uh(r,n.transaction(o,s))}catch(u){throw new Py(r,u)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Ze("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new fO(r)}}class fs{constructor(n,r,s){this.name=n,this.version=r,this.At=s,12.2===fs.Rt((0,Ht.z$)())&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Ze("SimpleDb","Removing database:",n),go(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Ht.hl)())return!1;if(fs.Pt())return!0;const n=(0,Ht.z$)(),r=fs.Rt(n),s=0<r&&r<10,o=fs.vt(n),u=0<o&&o<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||u)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(n){const r=n.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(n){var r=this;return(0,xe.Z)(function*(){return r.db||(Ze("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,o)=>{const u=indexedDB.open(r.name,r.version);u.onsuccess=f=>{s(f.target.result)},u.onblocked=()=>{o(new Py(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const g=f.target.error;o("VersionError"===g.name?new ze(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new ze(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Py(n,g))},u.onupgradeneeded=f=>{Ze("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion),r.At.Ct(f.target.result,u.transaction,f.oldVersion,r.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=s=>r.Nt(s)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,s,o){var u=this;return(0,xe.Z)(function*(){const f="readonly"===r;let g=0;for(;;){++g;try{u.db=yield u.Dt(n);const v=Uh.open(u.db,n,f?"readonly":"readwrite",s),C=o(v).catch(T=>(v.abort(T),je.reject(T))).toPromise();return C.catch(()=>{}),yield v.It,C}catch(v){const C="FirebaseError"!==v.name&&g<3;if(Ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),u.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hO{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return go(this.kt.delete())}}class Py extends ze{constructor(n,r){super(Te.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function bt(i){return"IndexedDbTransactionError"===i.name}class fO{constructor(n){this.store=n}put(n,r){let s;return void 0!==r?(Ze("SimpleDb","PUT",this.store.name,n,r),s=this.store.put(r,n)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),go(s)}add(n){return Ze("SimpleDb","ADD",this.store.name,n,n),go(this.store.add(n))}get(n){return go(this.store.get(n)).next(r=>(void 0===r&&(r=null),Ze("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return Ze("SimpleDb","DELETE",this.store.name,n),go(this.store.delete(n))}count(){return Ze("SimpleDb","COUNT",this.store.name),go(this.store.count())}Lt(n,r){const s=this.cursor(this.options(n,r)),o=[];return this.Bt(s,(u,f)=>{o.push(f)}).next(()=>o)}Ut(n,r){Ze("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,r);s.qt=!1;const o=this.cursor(s);return this.Bt(o,(u,f,g)=>g.delete())}Kt(n,r){let s;r?s=n:(s={},r=n);const o=this.cursor(s);return this.Bt(o,r)}jt(n){const r=this.cursor({});return new je((s,o)=>{r.onerror=u=>{const f=PE(u.target.error);o(f)},r.onsuccess=u=>{const f=u.target.result;f?n(f.primaryKey,f.value).next(g=>{g?f.continue():s()}):s()}})}Bt(n,r){const s=[];return new je((o,u)=>{n.onerror=f=>{u(f.target.error)},n.onsuccess=f=>{const g=f.target.result;if(!g)return void o();const v=new hO(g),C=r(g.primaryKey,g.value,v);if(C instanceof je){const T=C.catch(S=>(v.done(),je.reject(S)));s.push(T)}v.isDone?o():null===v.Ft?g.continue():g.continue(v.Ft)}}).next(()=>je.waitFor(s))}options(n,r){let s;return void 0!==n&&("string"==typeof n?s=n:r=n),{index:s,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const s=this.store.index(n.index);return n.qt?s.openKeyCursor(n.range,r):s.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function go(i){return new je((n,r)=>{i.onsuccess=s=>{n(s.target.result)},i.onerror=s=>{const o=PE(s.target.error);r(o)}})}let aS=!1;function PE(i){const n=fs.Rt((0,Ht.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aS||(aS=!0,setTimeout(()=>{throw s},0)),s}}return i}class lS extends Dm{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function ps(i,n){const r=et(i);return fs.St(r.Qt,n)}class cS{constructor(n,r,s,o){this.batchId=n,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(n,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(n.key)&&TE(u,n,s[o])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&Ty(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&Ty(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const s=n.get(r.key),o=s;this.applyToLocalView(o),s.isValidDocument()||o.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),pn())}isEqual(n){return this.batchId===n.batchId&&Mu(this.mutations,n.mutations,(r,s)=>SE(r,s))&&Mu(this.baseMutations,n.baseMutations,(r,s)=>SE(r,s))}}class FE{constructor(n,r,s,o){this.batch=n,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(n,r,s){kt(n.mutations.length===s.length);let o=XD();const u=n.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new FE(n,r,s,o)}}class Wn{constructor(n,r,s,o,u=Ut.min(),f=Ut.min(),g=Er.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g}withSequenceNumber(n){return new Wn(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Wn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class uS{constructor(n){this.Wt=n}}function LE(i,n){if(n.document)return RE(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=dt.fromSegments(n.noDocument.path),s=$h(n.noDocument.readTime),o=Un.newNoDocument(r,s);return n.hasCommittedMutations?o.setHasCommittedMutations():o}if(n.unknownDocument){const r=dt.fromSegments(n.unknownDocument.path),s=$h(n.unknownDocument.version);return Un.newUnknownDocument(r,s)}return Je()}function Fy(i,n,r){const s=VE(r),o=n.key.path.popLast().toArray();if(n.isFoundDocument()){const u={name:Lu(g=i.Wt,(v=n).key),fields:v.data.value.mapValue.fields,updateTime:Cm(g,v.version.toTimestamp())};return new qn(null,null,u,n.hasCommittedMutations,s,o)}var g,v;if(n.isNoDocument()){const u=n.key.path.toArray(),f=Bh(n.version),g=n.hasCommittedMutations;return new qn(null,new Hu(u,f),null,g,s,o)}if(n.isUnknownDocument()){const u=n.key.path.toArray(),f=Bh(n.version);return new qn(new h1(u,f),null,null,!0,s,o)}return Je()}function VE(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function dS(i){const n=new br(i[0],i[1]);return Ut.fromTimestamp(n)}function Bh(i){const n=i.toTimestamp();return new sS(n.seconds,n.nanoseconds)}function $h(i){const n=new br(i.seconds,i.nanoseconds);return Ut.fromTimestamp(n)}function Hh(i,n){const r=(n.baseMutations||[]).map(u=>Lh(i.Wt,u));for(let u=0;u<n.mutations.length-1;++u){const f=n.mutations[u];u+1<n.mutations.length&&void 0!==n.mutations[u+1].transform&&(f.updateTransforms=n.mutations[u+1].transform.fieldTransforms,n.mutations.splice(u+1,1),++u)}const s=n.mutations.map(u=>Lh(i.Wt,u)),o=br.fromMillis(n.localWriteTimeMs);return new cS(n.batchId,o,r,s)}function Sm(i){const n=$h(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?$h(i.lastLimboFreeSnapshotVersion):Ut.min();let s;var o;return void 0!==i.query.documents?(kt(1===(o=i.query).documents.length),s=Fs(Rh(rS(o.documents[0])))):s=Fs(Vh(i.query)),new Wn(s,i.targetId,0,i.lastListenSequenceNumber,n,r,Er.fromBase64String(i.resumeToken))}function Ly(i,n){const r=Bh(n.snapshotVersion),s=Bh(n.lastLimboFreeSnapshotVersion);let o;o=gy(n.target)?Xa(i.Wt,n.target):Vu(i.Wt,n.target);const u=n.resumeToken.toBase64();return new Pr(n.targetId,xh(n.target),r,u,n.sequenceNumber,s,o)}function UE(i){const n=Vh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?by(n,n.limit,"L"):n}class f1{getBundleMetadata(n,r){return BE(n).get(r).next(s=>{if(s)return{id:(o=s).bundleId,createTime:$h(o.createTime),version:o.version};var o})}saveBundleMetadata(n,r){return BE(n).put({bundleId:(s=r).id,createTime:Bh(Or(s.createTime)),version:s.version});var s}getNamedQuery(n,r){return Vy(n).get(r).next(s=>{if(s)return{name:(o=s).name,query:UE(o.bundledQuery),readTime:$h(o.readTime)};var o})}saveNamedQuery(n,r){return Vy(n).put({name:(s=r).name,readTime:Bh(Or(s.readTime)),bundledQuery:s.bundledQuery});var s}}function BE(i){return ps(i,nl.store)}function Vy(i){return ps(i,ju.store)}class p1{constructor(){this.Gt=new hS}addToCollectionParentIndex(n,r){return this.Gt.add(r),je.resolve()}getCollectionParents(n,r){return je.resolve(this.Gt.getEntries(r))}}class hS{constructor(){this.index={}}add(n){const r=n.lastSegment(),s=n.popLast(),o=this.index[r]||new In(an.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(n){const r=n.lastSegment(),s=n.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(n){return(this.index[n]||new In(an.comparator)).toArray()}}class m1{constructor(){this.zt=new hS}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const s=r.lastSegment(),o=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const u={collectionId:s,parent:rn(o)};return fS(n).put(u)}return je.resolve()}getCollectionParents(n,r){const s=[],o=IDBKeyRange.bound([r,""],[hE(r),""],!1,!0);return fS(n).Lt(o).next(u=>{for(const f of u){if(f.collectionId!==r)break;s.push(el(f.parent))}return s})}}function fS(i){return ps(i,Vs.store)}const pS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qi{constructor(n,r,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new qi(n,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mS(i,n,r){const s=i.store(mn.store),o=i.store(ai.store),u=[],f=IDBKeyRange.only(r.batchId);let g=0;const v=s.Kt({range:f},(T,S,x)=>(g++,x.delete()));u.push(v.next(()=>{kt(1===g)}));const C=[];for(const T of r.mutations){const S=ai.key(n,T.key.path,r.batchId);u.push(o.delete(S)),C.push(T.key)}return je.waitFor(u).next(()=>C)}function Uy(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw Je();n=i.noDocument}return JSON.stringify(n).length}qi.DEFAULT_COLLECTION_PERCENTILE=10,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qi.DEFAULT=new qi(41943040,qi.DEFAULT_COLLECTION_PERCENTILE,qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qi.DISABLED=new qi(-1,0,0);class zu{constructor(n,r,s,o){this.userId=n,this.N=r,this.Ht=s,this.referenceDelegate=o,this.Jt={}}static Yt(n,r,s,o){kt(""!==n.uid);const u=n.isAuthenticated()?n.uid:"";return new zu(u,r,s,o)}checkEmpty(n){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oc(n).Kt({index:mn.userMutationsIndex,range:s},(o,u,f)=>{r=!1,f.done()}).next(()=>r)}addMutationBatch(n,r,s,o){const u=Gu(n),f=oc(n);return f.add({}).next(g=>{kt("number"==typeof g);const v=new cS(g,r,s,o),C=function(x,k,N){const L=N.baseMutations.map(z=>kE(x.Wt,z)),F=N.mutations.map(z=>kE(x.Wt,z));return new mn(k,N.batchId,N.localWriteTime.toMillis(),L,F)}(this.N,this.userId,v),T=[];let S=new In((x,k)=>Wt(x.canonicalString(),k.canonicalString()));for(const x of o){const k=ai.key(this.userId,x.key.path,g);S=S.add(x.key.path.popLast()),T.push(f.put(C)),T.push(u.put(k,ai.PLACEHOLDER))}return S.forEach(x=>{T.push(this.Ht.addToCollectionParentIndex(n,x))}),n.addOnCommittedListener(()=>{this.Jt[g]=v.keys()}),je.waitFor(T).next(()=>v)})}lookupMutationBatch(n,r){return oc(n).get(r).next(s=>s?(kt(s.userId===this.userId),Hh(this.N,s)):null)}Xt(n,r){return this.Jt[r]?je.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(s=>{if(s){const o=s.keys();return this.Jt[r]=o,o}return null})}getNextMutationBatchAfterBatchId(n,r){const s=r+1,o=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return oc(n).Kt({index:mn.userMutationsIndex,range:o},(f,g,v)=>{g.userId===this.userId&&(kt(g.batchId>=s),u=Hh(this.N,g)),v.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return oc(n).Kt({index:mn.userMutationsIndex,range:r,reverse:!0},(o,u,f)=>{s=u.batchId,f.done()}).next(()=>s)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oc(n).Lt(mn.userMutationsIndex,r).next(s=>s.map(o=>Hh(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(n,r){const s=ai.prefixForPath(this.userId,r.path),o=IDBKeyRange.lowerBound(s),u=[];return Gu(n).Kt({range:o},(f,g,v)=>{const[C,T,S]=f,x=el(T);if(C===this.userId&&r.path.isEqual(x))return oc(n).get(S).next(k=>{if(!k)throw Je();kt(k.userId===this.userId),u.push(Hh(this.N,k))});v.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new In(Wt);const o=[];return r.forEach(u=>{const f=ai.prefixForPath(this.userId,u.path),g=IDBKeyRange.lowerBound(f),v=Gu(n).Kt({range:g},(C,T,S)=>{const[x,k,N]=C,L=el(k);x===this.userId&&u.path.isEqual(L)?s=s.add(N):S.done()});o.push(v)}),je.waitFor(o).next(()=>this.Zt(n,s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,o=s.length+1,u=ai.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(u);let g=new In(Wt);return Gu(n).Kt({range:f},(v,C,T)=>{const[S,x,k]=v,N=el(x);S===this.userId&&s.isPrefixOf(N)?N.length===o&&(g=g.add(k)):T.done()}).next(()=>this.Zt(n,g))}Zt(n,r){const s=[],o=[];return r.forEach(u=>{o.push(oc(n).get(u).next(f=>{if(null===f)throw Je();kt(f.userId===this.userId),s.push(Hh(this.N,f))}))}),je.waitFor(o).next(()=>s)}removeMutationBatch(n,r){return mS(n.Qt,this.userId,r).next(s=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),je.forEach(s,o=>this.referenceDelegate.markPotentiallyOrphaned(n,o))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return je.resolve();const s=IDBKeyRange.lowerBound(ai.prefixForUser(this.userId)),o=[];return Gu(n).Kt({range:s},(u,f,g)=>{if(u[0]===this.userId){const v=el(u[1]);o.push(v)}else g.done()}).next(()=>{kt(0===o.length)})})}containsKey(n,r){return gS(n,this.userId,r)}ee(n){return jh(n).get(this.userId).next(r=>r||new hs(this.userId,-1,""))}}function gS(i,n,r){const s=ai.prefixForPath(n,r.path),o=s[1],u=IDBKeyRange.lowerBound(s);let f=!1;return Gu(i).Kt({range:u,qt:!0},(g,v,C)=>{const[T,S,x]=g;T===n&&S===o&&(f=!0),C.done()}).next(()=>f)}function oc(i){return ps(i,mn.store)}function Gu(i){return ps(i,ai.store)}function jh(i){return ps(i,hs.store)}class zh{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new zh(0)}static ie(){return new zh(-1)}}class _S{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const s=new zh(r.highestTargetId);return r.highestTargetId=s.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>Ut.fromTimestamp(new br(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,s){return this.re(n).next(o=>(o.highestListenSequenceNumber=r,s&&(o.lastRemoteSnapshotVersion=s.toTimestamp()),r>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=r),this.oe(n,o)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(s=>(s.targetCount+=1,this.ce(r,s),this.oe(n,s))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>Gh(n).delete(r.targetId)).next(()=>this.re(n)).next(s=>(kt(s.targetCount>0),s.targetCount-=1,this.oe(n,s)))}removeTargets(n,r,s){let o=0;const u=[];return Gh(n).Kt((f,g)=>{const v=Sm(g);v.sequenceNumber<=r&&null===s.get(v.targetId)&&(o++,u.push(this.removeTargetData(n,v)))}).next(()=>je.waitFor(u)).next(()=>o)}forEachTarget(n,r){return Gh(n).Kt((s,o)=>{const u=Sm(o);r(u)})}re(n){return yS(n).get(Gi.key).next(r=>(kt(null!==r),r))}oe(n,r){return yS(n).put(Gi.key,r)}ae(n,r){return Gh(n).put(Ly(this.N,r))}ce(n,r){let s=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,s=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const s=xh(r),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return Gh(n).Kt({range:o,index:Pr.queryTargetsIndexName},(f,g,v)=>{const C=Sm(g);my(r,C.target)&&(u=C,v.done())}).next(()=>u)}addMatchingKeys(n,r,s){const o=[],u=ac(n);return r.forEach(f=>{const g=rn(f.path);o.push(u.put(new wr(s,g))),o.push(this.referenceDelegate.addReference(n,s,f))}),je.waitFor(o)}removeMatchingKeys(n,r,s){const o=ac(n);return je.forEach(r,u=>{const f=rn(u.path);return je.waitFor([o.delete([s,f]),this.referenceDelegate.removeReference(n,s,u)])})}removeMatchingKeysForTargetId(n,r){const s=ac(n),o=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(o)}getMatchingKeysForTargetId(n,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),o=ac(n);let u=pn();return o.Kt({range:s,qt:!0},(f,g,v)=>{const C=el(f[1]),T=new dt(C);u=u.add(T)}).next(()=>u)}containsKey(n,r){const s=rn(r.path),o=IDBKeyRange.bound([s],[hE(s)],!1,!0);let u=0;return ac(n).Kt({index:wr.documentTargetsIndex,qt:!0,range:o},([f,g],v,C)=>{0!==f&&(u++,C.done())}).next(()=>u>0)}Et(n,r){return Gh(n).get(r).next(s=>s?Sm(s):null)}}function Gh(i){return ps(i,Pr.store)}function yS(i){return ps(i,Gi.store)}function ac(i){return ps(i,wr.store)}function qu(i){return $E.apply(this,arguments)}function $E(){return($E=(0,xe.Z)(function*(i){if(i.code!==Te.FAILED_PRECONDITION||i.message!==OE)throw i;Ze("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function HE([i,n],[r,s]){const o=Wt(i,r);return 0===o?Wt(n,s):o}class g1{constructor(n){this.ue=n,this.buffer=new In(HE),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();HE(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class _1{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const s=this.de?3e5:6e4;Ze("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,xe.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(o){bt(o)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield qu(o)}yield r._e(n)}))}}class pO{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(s=>Math.floor(r/100*s))}nthSequenceNumber(n,r){if(0===r)return je.resolve(cs.T);const s=new g1(r);return this.me.forEachTarget(n,o=>s.fe(o.sequenceNumber)).next(()=>this.me.ye(n,o=>s.fe(o))).next(()=>s.maxValue)}removeTargets(n,r,s){return this.me.removeTargets(n,r,s)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(pS)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pS):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let s,o,u,f,g,v,C;const T=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(n,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(n,s,r))).next(S=>(u=S,v=Date.now(),this.removeOrphanedDocuments(n,s))).next(S=>(C=Date.now(),uE()<=jl.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-T}ms\n\tDetermined least recently used ${o} in `+(g-f)+`ms\n\tRemoved ${u} targets in `+(v-g)+`ms\n\tRemoved ${S} documents in `+(C-v)+`ms\nTotal Duration: ${C-T}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}class mO{constructor(n,r){this.db=n,this.garbageCollector=new pO(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(s=>r.next(o=>s+o))}Ee(n){let r=0;return this.ye(n,s=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(s,o)=>r(o))}addReference(n,r,s){return jE(n,s)}removeReference(n,r,s){return jE(n,s)}removeTargets(n,r,s){return this.db.getTargetCache().removeTargets(n,r,s)}markPotentiallyOrphaned(n,r){return jE(n,r)}Ie(n,r){return function(s,o){let u=!1;return jh(s).jt(f=>gS(s,f,o).next(g=>(g&&(u=!0),je.resolve(!g)))).next(()=>u)}(n,r)}removeOrphanedDocuments(n,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Te(n,(f,g)=>{if(g<=r){const v=this.Ie(n,f).next(C=>{if(!C)return u++,s.getEntry(n,f).next(()=>(s.removeEntry(f),ac(n).delete([0,rn(f.path)])))});o.push(v)}}).next(()=>je.waitFor(o)).next(()=>s.apply(n)).next(()=>u)}removeTarget(n,r){const s=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,r){return jE(n,r)}Te(n,r){const s=ac(n);let o,u=cs.T;return s.Kt({index:wr.documentTargetsIndex},([f,g],{path:v,sequenceNumber:C})=>{0===f?(u!==cs.T&&r(new dt(el(o)),u),u=C,o=v):u=cs.T}).next(()=>{u!==cs.T&&r(new dt(el(o)),u)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function jE(i,n){return ac(i).put((s=i.currentSequenceNumber,new wr(0,rn(n.path),s)));var s}class lc{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0!==s)for(const[o,u]of s)if(this.equalsFn(o,n))return u}has(n){return void 0!==this.get(n)}set(n,r){const s=this.mapKeyFn(n),o=this.inner[s];if(void 0!==o){for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],n))return void(o[u]=[n,r]);o.push([n,r])}else this.inner[s]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),s=this.inner[r];if(void 0===s)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],n))return 1===s.length?delete this.inner[r]:s.splice(o,1),!0;return!1}forEach(n){lo(this.inner,(r,s)=>{for(const[o,u]of s)n(o,u)})}isEmpty(){return RD(this.inner)}}class vS{constructor(){this.changes=new lc(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:Ut.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:Un.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?je.resolve(s.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class y1{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,s){return cc(n).put(By(r),s)}removeEntry(n,r){const s=cc(n),o=By(r);return s.delete(o)}updateMetadata(n,r){return this.getMetadata(n).next(s=>(s.byteSize+=r,this.Ae(n,s)))}getEntry(n,r){return cc(n).get(By(r)).next(s=>this.Re(r,s))}be(n,r){return cc(n).get(By(r)).next(s=>({document:this.Re(r,s),size:Uy(s)}))}getEntries(n,r){let s=fo();return this.Pe(n,r,(o,u)=>{const f=this.Re(o,u);s=s.insert(o,f)}).next(()=>s)}ve(n,r){let s=fo(),o=new lr(dt.comparator);return this.Pe(n,r,(u,f)=>{const g=this.Re(u,f);s=s.insert(u,g),o=o.insert(u,Uy(f))}).next(()=>({documents:s,Ve:o}))}Pe(n,r,s){if(r.isEmpty())return je.resolve();const o=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),u=r.getIterator();let f=u.getNext();return cc(n).Kt({range:o},(g,v,C)=>{const T=dt.fromSegments(g);for(;f&&dt.comparator(f,T)<0;)s(f,null),f=u.getNext();f&&f.isEqual(T)&&(s(f,v),f=u.hasNext()?u.getNext():null),f?C.Mt(f.path.toArray()):C.done()}).next(()=>{for(;f;)s(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(n,r,s){let o=fo();const u=r.path.length+1,f={};if(s.isEqual(Ut.min())){const g=r.path.toArray();f.range=IDBKeyRange.lowerBound(g)}else{const g=r.path.toArray(),v=VE(s);f.range=IDBKeyRange.lowerBound([g,v],!0),f.index=qn.collectionReadTimeIndex}return cc(n).Kt(f,(g,v,C)=>{if(g.length!==u)return;const T=LE(this.N,v);r.path.isPrefixOf(T.key.path)?Oh(r,T)&&(o=o.insert(T.key,T)):C.done()}).next(()=>o)}newChangeBuffer(n){return new v1(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return bS(n).get(Ls.key).next(r=>(kt(!!r),r))}Ae(n,r){return bS(n).put(Ls.key,r)}Re(n,r){if(r){const s=LE(this.N,r);if(!s.isNoDocument()||!s.version.isEqual(Ut.min()))return s}return Un.newInvalidDocument(n)}}class v1 extends vS{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new lc(s=>s.toString(),(s,o)=>s.isEqual(o))}applyChanges(n){const r=[];let s=0,o=new In((u,f)=>Wt(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const g=this.De.get(u);if(f.document.isValidDocument()){const v=Fy(this.Se.N,f.document,this.getReadTime(u));o=o.add(u.path.popLast()),s+=Uy(v)-g,r.push(this.Se.addEntry(n,u,v))}else if(s-=g,this.trackRemovals){const v=Fy(this.Se.N,Un.newNoDocument(u,Ut.min()),this.getReadTime(u));r.push(this.Se.addEntry(n,u,v))}else r.push(this.Se.removeEntry(n,u))}),o.forEach(u=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,u))}),r.push(this.Se.updateMetadata(n,s)),je.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(s=>(this.De.set(r,s.size),s.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:s,Ve:o})=>(o.forEach((u,f)=>{this.De.set(u,f)}),s))}}function bS(i){return ps(i,Ls.store)}function cc(i){return ps(i,qn.store)}function By(i){return i.path.toArray()}class ES{constructor(n){this.N=n}Ct(n,r,s,o){kt(s<o&&s>=0&&o<=11);const u=new Uh("createOrUpgrade",r);var g;s<1&&o>=1&&(n.createObjectStore(Si.store),(g=n).createObjectStore(hs.store,{keyPath:hs.keyPath}),g.createObjectStore(mn.store,{keyPath:mn.keyPath,autoIncrement:!0}).createIndex(mn.userMutationsIndex,mn.userMutationsKeyPath,{unique:!0}),g.createObjectStore(ai.store),$y(n),function(g){g.createObjectStore(qn.store)}(n));let f=je.resolve();return s<3&&o>=3&&(0!==s&&(function(g){g.deleteObjectStore(wr.store),g.deleteObjectStore(Pr.store),g.deleteObjectStore(Gi.store)}(n),$y(n)),f=f.next(()=>function(g){const v=g.store(Gi.store),C=new Gi(0,0,Ut.min().toTimestamp(),0);return v.put(Gi.key,C)}(u))),s<4&&o>=4&&(0!==s&&(f=f.next(()=>function(g,v){return v.store(mn.store).Lt().next(C=>{g.deleteObjectStore(mn.store),g.createObjectStore(mn.store,{keyPath:mn.keyPath,autoIncrement:!0}).createIndex(mn.userMutationsIndex,mn.userMutationsKeyPath,{unique:!0});const T=v.store(mn.store),S=C.map(x=>T.put(x));return je.waitFor(S)})}(n,u))),f=f.next(()=>{!function(g){g.createObjectStore(tl.store,{keyPath:tl.keyPath})}(n)})),s<5&&o>=5&&(f=f.next(()=>this.Ce(u))),s<6&&o>=6&&(f=f.next(()=>(function(g){g.createObjectStore(Ls.store)}(n),this.Ne(u)))),s<7&&o>=7&&(f=f.next(()=>this.xe(u))),s<8&&o>=8&&(f=f.next(()=>this.ke(n,u))),s<9&&o>=9&&(f=f.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(n),function(g){const v=g.objectStore(qn.store);v.createIndex(qn.readTimeIndex,qn.readTimeIndexPath,{unique:!1}),v.createIndex(qn.collectionReadTimeIndex,qn.collectionReadTimeIndexPath,{unique:!1})}(r)})),s<10&&o>=10&&(f=f.next(()=>this.$e(u))),s<11&&o>=11&&(f=f.next(()=>{(function(g){g.createObjectStore(nl.store,{keyPath:nl.keyPath})})(n),function(g){g.createObjectStore(ju.store,{keyPath:ju.keyPath})}(n)})),f}Ne(n){let r=0;return n.store(qn.store).Kt((s,o)=>{r+=Uy(o)}).next(()=>{const s=new Ls(r);return n.store(Ls.store).put(Ls.key,s)})}Ce(n){const r=n.store(hs.store),s=n.store(mn.store);return r.Lt().next(o=>je.forEach(o,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.Lt(mn.userMutationsIndex,f).next(g=>je.forEach(g,v=>{kt(v.userId===u.userId);const C=Hh(this.N,v);return mS(n,u.userId,C).next(()=>{})}))}))}xe(n){const r=n.store(wr.store),s=n.store(qn.store);return n.store(Gi.store).get(Gi.key).next(o=>{const u=[];return s.Kt((f,g)=>{const v=new an(f),C=[0,rn(v)];u.push(r.get(C).next(T=>T?je.resolve():r.put(new wr(0,rn(v),o.highestListenSequenceNumber))))}).next(()=>je.waitFor(u))})}ke(n,r){n.createObjectStore(Vs.store,{keyPath:Vs.keyPath});const s=r.store(Vs.store),o=new hS,u=f=>{if(o.add(f)){const g=f.lastSegment(),v=f.popLast();return s.put({collectionId:g,parent:rn(v)})}};return r.store(qn.store).Kt({qt:!0},(f,g)=>{const v=new an(f);return u(v.popLast())}).next(()=>r.store(ai.store).Kt({qt:!0},([f,g,v],C)=>{const T=el(g);return u(T.popLast())}))}$e(n){const r=n.store(Pr.store);return r.Kt((s,o)=>{const u=Sm(o),f=Ly(this.N,u);return r.put(f)})}}function $y(i){i.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.documentTargetsIndex,wr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Pr.store,{keyPath:Pr.keyPath}).createIndex(Pr.queryTargetsIndexName,Pr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Gi.store)}const zE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uc{constructor(n,r,s,o,u,f,g,v,C,T){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=s,this.Oe=u,this.window=f,this.document=g,this.Fe=C,this.Me=T,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=S=>Promise.resolve(),!uc.bt())throw new ze(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mO(this,o),this.We=r+"main",this.N=new uS(v),this.Ge=new fs(this.We,11,new ES(this.N)),this.ze=new _S(this.referenceDelegate,this.N),this.Ht=new m1,this.He=new y1(this.N,this.Ht),this.Je=new f1,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===T&&sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(Te.FAILED_PRECONDITION,zE);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new cs(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var s=(0,xe.Z)(function*(o){if(r.started)return n(o)});return function(o){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,xe.Z)(function*(s){null===s.newVersion&&(yield n())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,xe.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Im(n).put(new tl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(bt(n))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return ur(n).get(Si.key).next(r=>je.resolve(this.cn(r)))}un(n){return Im(n).delete(this.clientId)}hn(){var n=this;return(0,xe.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const o=ps(s,tl.store);return o.Lt().next(u=>{const f=n.fn(u,18e5),g=u.filter(v=>-1===f.indexOf(v));return je.forEach(g,v=>o.delete(v.clientId)).next(()=>g)})}).catch(()=>[]);if(n.Ye)for(const s of r)n.Ye.removeItem(n.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?je.resolve(!0):ur(n).get(Si.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new ze(Te.FAILED_PRECONDITION,zE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Im(n).Lt().next(s=>void 0===this.fn(s,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&g)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&Ze("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,xe.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Si.store,tl.store],r=>{const s=new lS(r,cs.T);return n.on(s).next(()=>n.un(s))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(s=>this.ln(s.updateTimeMs,r)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Im(n).Lt().next(r=>this.fn(r,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(n){return zu.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,s){let u;return Ze("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",oS,f=>(u=new lS(f,this.Le?this.Le.next():cs.T),"readwrite-primary"===r?this.sn(u).next(g=>!!g||this.rn(u)).next(g=>{if(!g)throw sr(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ze(Te.FAILED_PRECONDITION,OE);return s(u)}).next(g=>this.an(u).next(()=>g)):this.En(u).next(()=>s(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}En(n){return ur(n).get(Si.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ze(Te.FAILED_PRECONDITION,zE)})}an(n){const r=new Si(this.clientId,this.allowTabSynchronization,Date.now());return ur(n).put(Si.key,r)}static bt(){return fs.bt()}on(n){const r=ur(n);return r.get(Si.key).next(s=>this.cn(s)?(Ze("IndexedDbPersistence","Releasing primary lease."),r.delete(Si.key)):je.resolve())}ln(n,r){const s=Date.now();return!(n<s-r||n>s&&(sr(`Detected an update time that is in the future: ${n} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Ht.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const s=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return Ze("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return sr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){sr("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function ur(i){return ps(i,Si.store)}function Im(i){return ps(i,tl.store)}function ms(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class GE{constructor(n,r){this.progress=n,this.Tn=r}}class CS{constructor(n,r,s){this.He=n,this.In=r,this.Ht=s}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(s=>this.Rn(n,r,s))}Rn(n,r,s){return this.He.getEntry(n,r).next(o=>{for(const u of s)u.applyToLocalView(o);return o})}bn(n,r){n.forEach((s,o)=>{for(const u of r)u.applyToLocalView(o)})}Pn(n,r){return this.He.getEntries(n,r).next(s=>this.vn(n,s).next(()=>s))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(s=>this.bn(r,s))}getDocumentsMatchingQuery(n,r,s){return dt.isDocumentKey((o=r).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(n,r.path):mm(r)?this.Sn(n,r,s):this.Dn(n,r,s);var o}Vn(n,r){return this.An(n,new dt(r)).next(s=>{let o=AE();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}Sn(n,r,s){const o=r.collectionGroup;let u=AE();return this.Ht.getCollectionParents(n,o).next(f=>je.forEach(f,g=>{const v=(C=r,T=g.child(o),new ra(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.Dn(n,v,s).next(C=>{C.forEach((T,S)=>{u=u.insert(T,S)})})}).next(()=>u))}Dn(n,r,s){let o,u;return this.He.getDocumentsMatchingQuery(n,r,s).next(f=>(o=f,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(f=>(u=f,this.Cn(n,u,o).next(g=>{o=g;for(const v of u)for(const C of v.mutations){const T=C.key;let S=o.get(T);null==S&&(S=Un.newInvalidDocument(T),o=o.insert(T,S)),Ty(C,S,v.localWriteTime),S.isFoundDocument()||(o=o.remove(T))}}))).next(()=>(o.forEach((f,g)=>{Oh(r,g)||(o=o.remove(f))}),o))}Cn(n,r,s){let o=pn();for(const f of r)for(const g of f.mutations)g instanceof ic&&null===s.get(g.key)&&(o=o.add(g.key));let u=s;return this.He.getEntries(n,o).next(f=>(f.forEach((g,v)=>{v.isFoundDocument()&&(u=u.insert(g,v))}),u))}}class Hy{constructor(n,r,s,o){this.targetId=n,this.fromCache=r,this.Nn=s,this.xn=o}static kn(n,r){let s=pn(),o=pn();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hy(n,r.fromCache,s,o)}}class qE{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,s,o){return 0===(u=r).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ut.min())?this.Fn(n,r):this.On.Pn(n,o).next(u=>{const f=this.Mn(r,u);return(yy(r)||kh(r))&&this.Ln(r.limitType,f,o,s)?this.Fn(n,r):(uE()<=jl.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),bE(r)),this.On.getDocumentsMatchingQuery(n,r,s).next(g=>(f.forEach(v=>{g=g.insert(v.key,v)}),g)))});var u}Mn(n,r){let s=new In(EE(n));return r.forEach((o,u)=>{Oh(n,u)&&(s=s.add(u))}),s}Ln(n,r,s,o){if(s.size!==r.size)return!0;const u="F"===n?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Fn(n,r){return uE()<=jl.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",bE(r)),this.On.getDocumentsMatchingQuery(n,r,Ut.min())}}class wS{constructor(n,r,s,o){this.persistence=n,this.Bn=r,this.N=o,this.Un=new lr(Wt),this.qn=new lc(u=>xh(u),my),this.Kn=Ut.min(),this.In=n.getMutationQueue(s),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new CS(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function TS(i,n,r,s){return new wS(i,n,r,s)}function DS(i,n){return WE.apply(this,arguments)}function WE(){return(WE=(0,xe.Z)(function*(i,n){const r=et(i);let s=r.In,o=r.Qn;const u=yield r.persistence.runTransaction("Handle user change","readonly",f=>{let g;return r.In.getAllMutationBatches(f).next(v=>(g=v,s=r.persistence.getMutationQueue(n),o=new CS(r.jn,s,r.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(v=>{const C=[],T=[];let S=pn();for(const x of g){C.push(x.batchId);for(const k of x.mutations)S=S.add(k.key)}for(const x of v){T.push(x.batchId);for(const k of x.mutations)S=S.add(k.key)}return o.Pn(f,S).next(x=>({Wn:x,removedBatchIds:C,addedBatchIds:T}))})});return r.In=s,r.Qn=o,r.Bn.$n(r.Qn),u})).apply(this,arguments)}function SS(i,n){const r=et(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=n.batch.keys(),u=r.jn.newChangeBuffer({trackRemovals:!0});return function(f,g,v,C){const T=v.batch,S=T.keys();let x=je.resolve();return S.forEach(k=>{x=x.next(()=>C.getEntry(g,k)).next(N=>{const L=v.docVersions.get(k);kt(null!==L),N.version.compareTo(L)<0&&(T.applyToRemoteDocument(N,v),N.isValidDocument()&&C.addEntry(N,v.commitVersion))})}),x.next(()=>f.In.removeMutationBatch(g,T))}(r,s,n,u).next(()=>u.apply(s)).next(()=>r.In.performConsistencyCheck(s)).next(()=>r.Qn.Pn(s,o))})}function IS(i){const n=et(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function gO(i,n){const r=et(i),s=n.snapshotVersion;let o=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.jn.newChangeBuffer({trackRemovals:!0});o=r.Un;const g=[];n.targetChanges.forEach((C,T)=>{const S=o.get(T);if(!S)return;g.push(r.ze.removeMatchingKeys(u,C.removedDocuments,T).next(()=>r.ze.addMatchingKeys(u,C.addedDocuments,T)));const x=C.resumeToken;if(x.approximateByteSize()>0){const k=S.withResumeToken(x,s).withSequenceNumber(u.currentSequenceNumber);o=o.insert(T,k),N=S,F=C,kt((L=k).resumeToken.approximateByteSize()>0),(0===N.resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0)&&g.push(r.ze.updateTargetData(u,k))}var N,L,F});let v=fo();if(n.documentUpdates.forEach((C,T)=>{n.resolvedLimboDocuments.has(C)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(u,C))}),g.push(AS(u,f,n.documentUpdates,s,void 0).next(C=>{v=C})),!s.isEqual(Ut.min())){const C=r.ze.getLastRemoteSnapshotVersion(u).next(T=>r.ze.setTargetsMetadata(u,u.currentSequenceNumber,s));g.push(C)}return je.waitFor(g).next(()=>f.apply(u)).next(()=>r.Qn.vn(u,v)).next(()=>v)}).then(u=>(r.Un=o,u))}function AS(i,n,r,s,o){let u=pn();return r.forEach(f=>u=u.add(f)),n.getEntries(i,u).next(f=>{let g=fo();return r.forEach((v,C)=>{const T=f.get(v),S=(null==o?void 0:o.get(v))||s;C.isNoDocument()&&C.version.isEqual(Ut.min())?(n.removeEntry(v,S),g=g.insert(v,C)):!T.isValidDocument()||C.version.compareTo(T.version)>0||0===C.version.compareTo(T.version)&&T.hasPendingWrites?(n.addEntry(C,S),g=g.insert(v,C)):Ze("LocalStore","Ignoring outdated watch update for ",v,". Current version:",T.version," Watch version:",C.version)}),g})}function b1(i,n){const r=et(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(s,n)))}function _o(i,n){const r=et(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return r.ze.getTargetData(s,n).next(u=>u?(o=u,je.resolve(o)):r.ze.allocateTargetId(s).next(f=>(o=new Wn(n,f,0,s.currentSequenceNumber),r.ze.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=r.Un.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Un=r.Un.insert(s.targetId,s),r.qn.set(n,s.targetId)),s})}function Am(i,n,r){return jy.apply(this,arguments)}function jy(){return(jy=(0,xe.Z)(function*(i,n,r){const s=et(i),o=s.Un.get(n),u=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!bt(f))throw f;Ze("LocalStore",`Failed to update sequence numbers for target ${n}: ${f}`)}s.Un=s.Un.remove(n),s.qn.delete(o.target)})).apply(this,arguments)}function zy(i,n,r){const s=et(i);let o=Ut.min(),u=pn();return s.persistence.runTransaction("Execute query","readonly",f=>function(g,v,C){const T=et(g),S=T.qn.get(C);return void 0!==S?je.resolve(T.Un.get(S)):T.ze.getTargetData(v,C)}(s,f,Fs(n)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,g.targetId).next(v=>{u=v})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,n,r?o:Ut.min(),r?u:pn())).next(g=>({documents:g,Gn:u})))}function E1(i,n){const r=et(i),s=et(r.ze),o=r.Un.get(n);return o?Promise.resolve(o.target):r.persistence.runTransaction("Get target data","readonly",u=>s.Et(u,n).next(f=>f?f.target:null))}function ZE(i){const n=et(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(s,o,u){const f=et(s);let g=fo(),v=VE(u);const C=cc(o),T=IDBKeyRange.lowerBound(v,!0);return C.Kt({index:qn.readTimeIndex,range:T},(S,x)=>{const k=LE(f.N,x);g=g.insert(k.key,k),v=x.readTime}).next(()=>({Tn:g,readTime:dS(v)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:s})=>(n.Kn=s,r))}function Mm(){return(Mm=(0,xe.Z)(function*(i){const n=et(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(s){const o=cc(s);let u=Ut.min();return o.Kt({index:qn.readTimeIndex,reverse:!0},(f,g,v)=>{g.readTime&&(u=dS(g.readTime)),v.done()}).next(()=>u)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function Gy(){return(Gy=(0,xe.Z)(function*(i,n,r,s){const o=et(i);let u=pn(),f=fo(),g=XD();for(const T of r){const S=n.zn(T.metadata.name);T.document&&(u=u.add(S)),f=f.insert(S,n.Hn(T)),g=g.insert(S,n.Jn(T.metadata.readTime))}const v=o.jn.newChangeBuffer({trackRemovals:!0}),C=yield _o(o,(T=s,Fs(Rh(an.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>AS(T,v,f,Ut.min(),g).next(S=>(v.apply(T),S)).next(S=>o.ze.removeMatchingKeysForTargetId(T,C.targetId).next(()=>o.ze.addMatchingKeys(T,u,C.targetId)).next(()=>o.Qn.vn(T,S)).next(()=>S)))})).apply(this,arguments)}function T1(i,n){return YE.apply(this,arguments)}function YE(){return(YE=(0,xe.Z)(function*(i,n,r=pn()){const s=yield _o(i,Fs(UE(n.bundledQuery))),o=et(i);return o.persistence.runTransaction("Save named query","readwrite",u=>{const f=Or(n.readTime);if(s.snapshotVersion.compareTo(f)>=0)return o.Je.saveNamedQuery(u,n);const g=s.withResumeToken(Er.EMPTY_BYTE_STRING,f);return o.Un=o.Un.insert(g.targetId,g),o.ze.updateTargetData(u,g).next(()=>o.ze.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>o.ze.addMatchingKeys(u,r,s.targetId)).next(()=>o.Je.saveNamedQuery(u,n))})})).apply(this,arguments)}class D1{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return je.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var s;return this.Yn.set(r.id,{id:(s=r).id,version:s.version,createTime:Or(s.createTime)}),je.resolve()}getNamedQuery(n,r){return je.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(s=r).name,query:UE(s.bundledQuery),readTime:Or(s.readTime)}),je.resolve();var s}}class KE{constructor(){this.Zn=new In(Fr.ts),this.es=new In(Fr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const s=new Fr(n,r);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(n,r){n.forEach(s=>this.addReference(s,r))}removeReference(n,r){this.rs(new Fr(n,r))}os(n,r){n.forEach(s=>this.removeReference(s,r))}cs(n){const r=new dt(new an([])),s=new Fr(r,n),o=new Fr(r,n+1),u=[];return this.es.forEachInRange([s,o],f=>{this.rs(f),u.push(f.key)}),u}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new dt(new an([])),s=new Fr(r,n),o=new Fr(r,n+1);let u=pn();return this.es.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(n){const r=new Fr(n,0),s=this.Zn.firstAfterOrEqual(r);return null!==s&&n.isEqual(s.key)}}class Fr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return dt.comparator(n.key,r.key)||Wt(n.ls,r.ls)}static ns(n,r){return Wt(n.ls,r.ls)||dt.comparator(n.key,r.key)}}class S1{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new In(Fr.ts)}checkEmpty(n){return je.resolve(0===this.In.length)}addMutationBatch(n,r,s,o){const u=this.fs;this.fs++;const f=new cS(u,r,s,o);this.In.push(f);for(const g of o)this.ds=this.ds.add(new Fr(g.key,u)),this.Ht.addToCollectionParentIndex(n,g.key.path.popLast());return je.resolve(f)}lookupMutationBatch(n,r){return je.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const o=this._s(r+1),u=o<0?0:o;return je.resolve(this.In.length>u?this.In[u]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return je.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const s=new Fr(r,0),o=new Fr(r,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([s,o],f=>{const g=this.ws(f.ls);u.push(g)}),je.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(n,r){let s=new In(Wt);return r.forEach(o=>{const u=new Fr(o,0),f=new Fr(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,f],g=>{s=s.add(g.ls)})}),je.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(n,r){const s=r.path,o=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const f=new Fr(new dt(u),0);let g=new In(Wt);return this.ds.forEachWhile(v=>{const C=v.key.path;return!!s.isPrefixOf(C)&&(C.length===o&&(g=g.add(v.ls)),!0)},f),je.resolve(this.gs(g))}gs(n){const r=[];return n.forEach(s=>{const o=this.ws(s);null!==o&&r.push(o)}),r}removeMutationBatch(n,r){kt(0===this.ys(r.batchId,"removed")),this.In.shift();let s=this.ds;return je.forEach(r.mutations,o=>{const u=new Fr(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(n,o.key)}).next(()=>{this.ds=s})}te(n){}containsKey(n,r){const s=new Fr(r,0),o=this.ds.firstAfterOrEqual(s);return je.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(n){return je.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class I1{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new lr(dt.comparator),this.size=0}addEntry(n,r,s){const o=r.key,u=this.docs.get(o),f=u?u.size:0,g=this.ps(r);return this.docs=this.docs.insert(o,{document:r.clone(),size:g,readTime:s}),this.size+=g-f,this.Ht.addToCollectionParentIndex(n,o.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const s=this.docs.get(r);return je.resolve(s?s.document.clone():Un.newInvalidDocument(r))}getEntries(n,r){let s=fo();return r.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.clone():Un.newInvalidDocument(o))}),je.resolve(s)}getDocumentsMatchingQuery(n,r,s){let o=fo();const u=new dt(r.path.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:g,value:{document:v,readTime:C}}=f.getNext();if(!r.path.isPrefixOf(g.path))break;C.compareTo(s)<=0||Oh(r,v)&&(o=o.insert(v.key,v.clone()))}return je.resolve(o)}Es(n,r){return je.forEach(this.docs,s=>r(s))}newChangeBuffer(n){return new A1(this)}getSize(n){return je.resolve(this.size)}}class A1 extends vS{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((s,o)=>{o.document.isValidDocument()?r.push(this.Se.addEntry(n,o.document,this.getReadTime(s))):this.Se.removeEntry(s)}),je.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class xm{constructor(n){this.persistence=n,this.Ts=new lc(r=>xh(r),my),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Is=0,this.As=new KE,this.targetCount=0,this.Rs=zh.se()}forEachTarget(n,r){return this.Ts.forEach((s,o)=>r(o)),je.resolve()}getLastRemoteSnapshotVersion(n){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return je.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(n,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Is&&(this.Is=r),je.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new zh(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,je.resolve()}updateTargetData(n,r){return this.ae(r),je.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,je.resolve()}removeTargets(n,r,s){let o=0;const u=[];return this.Ts.forEach((f,g)=>{g.sequenceNumber<=r&&null===s.get(g.targetId)&&(this.Ts.delete(f),u.push(this.removeMatchingKeysForTargetId(n,g.targetId)),o++)}),je.waitFor(u).next(()=>o)}getTargetCount(n){return je.resolve(this.targetCount)}getTargetData(n,r){const s=this.Ts.get(r)||null;return je.resolve(s)}addMatchingKeys(n,r,s){return this.As.ss(r,s),je.resolve()}removeMatchingKeys(n,r,s){this.As.os(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach(f=>{u.push(o.markPotentiallyOrphaned(n,f))}),je.waitFor(u)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),je.resolve()}getMatchingKeysForTargetId(n,r){const s=this.As.hs(r);return je.resolve(s)}containsKey(n,r){return je.resolve(this.As.containsKey(r))}}class MS{constructor(n,r){this.bs={},this.Le=new cs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new xm(this),this.Ht=new p1,this.He=new I1(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new uS(r),this.Je=new D1(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new S1(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,s){Ze("MemoryPersistence","Starting transaction:",n);const o=new xS(this.Le.next());return this.referenceDelegate.vs(),s(o).next(u=>this.referenceDelegate.Vs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ss(n,r){return je.or(Object.values(this.bs).map(s=>()=>s.containsKey(n,r)))}}class xS extends Dm{constructor(n){super(),this.currentSequenceNumber=n}}class qy{constructor(n){this.persistence=n,this.Ds=new KE,this.Cs=null}static Ns(n){return new qy(n)}get xs(){if(this.Cs)return this.Cs;throw Je()}addReference(n,r,s){return this.Ds.addReference(s,r),this.xs.delete(s.toString()),je.resolve()}removeReference(n,r,s){return this.Ds.removeReference(s,r),this.xs.add(s.toString()),je.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),je.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(o=>this.xs.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,r.targetId).next(o=>{o.forEach(u=>this.xs.add(u.toString()))}).next(()=>s.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.xs,s=>{const o=dt.fromPath(s);return this.ks(n,o).next(u=>{u||r.removeEntry(o)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(s=>{s?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return je.or([()=>je.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function QE(i,n){return`firestore_clients_${i}_${n}`}function JE(i,n,r){let s=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function XE(i,n){return`firestore_targets_${i}_${n}`}class Wy{constructor(n,r,s,o){this.user=n,this.batchId=r,this.state=s,this.error=o}static $s(n,r,s){const o=JSON.parse(s);let u,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new ze(o.error.code,o.error.message))),f?new Wy(n,r,o.state,u):(sr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Rm{constructor(n,r,s){this.targetId=n,this.state=r,this.error=s}static $s(n,r){const s=JSON.parse(r);let o,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(o=new ze(s.error.code,s.error.message))),u?new Rm(n,s.state,o):(sr("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Zy{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const s=JSON.parse(r);let o="object"==typeof s&&s.activeTargetIds instanceof Array,u=Iy();for(let f=0;o&&f<s.activeTargetIds.length;++f)o=OD(s.activeTargetIds[f]),u=u.add(s.activeTargetIds[f]);return o?new Zy(n,u):(sr("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class eC{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new eC(r.clientId,r.onlineState):(sr("SharedClientState",`Failed to parse online state: ${n}`),null)}}class tC{constructor(){this.activeTargetIds=Iy()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class nC{constructor(n,r,s,o,u){this.window=n,this.Oe=r,this.persistenceKey=s,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new lr(Wt),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.js=QE(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new tC),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,xe.Z)(function*(){const r=yield n.syncEngine.pn();for(const o of r){if(o===n.Ls)continue;const u=n.getItem(QE(n.persistenceKey,o));if(u){const f=Zy.$s(o,u);f&&(n.qs=n.qs.insert(f.clientId,f))}}n.Ys();const s=n.storage.getItem(n.Hs);if(s){const o=n.Xs(s);o&&n.Zs(o)}for(const o of n.Ks)n.Us(o);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((s,o)=>{o.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,s){this.ei(n,r,s),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const s=this.storage.getItem(XE(this.persistenceKey,n));if(s){const o=Rm.$s(n,s);o&&(r=o.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(XE(this.persistenceKey,n))}updateQueryState(n,r,s){this.ii(n,r,s)}handleUserChange(n,r,s){r.forEach(o=>{this.ni(o)}),this.currentUser=n,s.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return Ze("SharedClientState","READ",n,r),r}setItem(n,r){Ze("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){Ze("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const s=n;if(s.storageArea===this.storage){if(Ze("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,xe.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ws.test(s.key)){if(null==s.newValue){const o=r.ai(s.key);return r.ci(o,null)}{const o=r.ui(s.key,s.newValue);if(o)return r.ci(o.clientId,o)}}else if(r.Gs.test(s.key)){if(null!==s.newValue){const o=r.hi(s.key,s.newValue);if(o)return r.li(o)}}else if(r.zs.test(s.key)){if(null!==s.newValue){const o=r.fi(s.key,s.newValue);if(o)return r.di(o)}}else if(s.key===r.Hs){if(null!==s.newValue){const o=r.Xs(s.newValue);if(o)return r.Zs(o)}}else if(s.key===r.Qs){const o=function(u){let f=cs.T;if(null!=u)try{const g=JSON.parse(u);kt("number"==typeof g),f=g}catch(g){sr("SharedClientState","Failed to read sequence number from WebStorage",g)}return f}(s.newValue);o!==cs.T&&r.sequenceNumberHandler(o)}else if(s.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,s){const o=new Wy(this.currentUser,n,r,s),u=JE(this.persistenceKey,this.currentUser,n);this.setItem(u,o.Os())}ni(n){const r=JE(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,s){const o=XE(this.persistenceKey,n),u=new Rm(n,r,s);this.setItem(o,u.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const s=this.ai(n);return Zy.$s(s,r)}hi(n,r){const s=this.Gs.exec(n),o=Number(s[1]);return Wy.$s(new si(void 0!==s[2]?s[2]:null),o,r)}fi(n,r){const s=this.zs.exec(n),o=Number(s[1]);return Rm.$s(o,r)}Xs(n){return eC.$s(n)}li(n){var r=this;return(0,xe.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const s=r?this.qs.insert(n,r):this.qs.remove(n),o=this.ti(this.qs),u=this.ti(s),f=[],g=[];return u.forEach(v=>{o.has(v)||f.push(v)}),o.forEach(v=>{u.has(v)||g.push(v)}),this.syncEngine.gi(f,g).then(()=>{this.qs=s})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=Iy();return n.forEach((s,o)=>{r=r.unionWith(o.activeTargetIds)}),r}}class qh{constructor(){this.yi=new tC,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,s){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,s){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new tC,Promise.resolve()}handleUserChange(n,r,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class km{Ei(n){}shutdown(){}}class RS{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ia{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class M1 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,s,o){const u=this.Bi(n,r);Ze("RestConnection","Sending: ",u,s);const f={};return this.Ui(f,o),this.qi(n,u,f,s).then(g=>(Ze("RestConnection","Received: ",g),g),g=>{throw tc("RestConnection",`${n} failed with error: `,g,"url: ",u,"request:",s),g})}Ki(n,r,s,o){return this.Li(n,r,s,o)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+gt,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const s in r.authHeaders)r.authHeaders.hasOwnProperty(s)&&(n[s]=r.authHeaders[s])}Bi(n,r){return`${this.Fi}/v1/${r}:${rC[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,s,o){return new Promise((u,f)=>{const g=new ID;g.listenOnce(Th.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case cE.NO_ERROR:const C=g.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(C)),u(C);break;case cE.TIMEOUT:Ze("Connection",'RPC "'+n+'" timed out'),f(new ze(Te.DEADLINE_EXCEEDED,"Request time out"));break;case cE.HTTP_ERROR:const T=g.getStatus();if(Ze("Connection",'RPC "'+n+'" failed with status:',T,"response text:",g.getResponseText()),T>0){const S=g.getResponseJson().error;if(S&&S.status&&S.message){const x=function(k){const N=k.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(N)>=0?N:Te.UNKNOWN}(S.status);f(new ze(x,S.message))}else f(new ze(Te.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new ze(Te.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Ze("Connection",'RPC "'+n+'" completed.')}});const v=JSON.stringify(o);g.send(r,"POST",v,s,15)})}ji(n,r){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=Au(),u=Fx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new oO({})),this.Ui(f.initMessageHeaders,r),(0,Ht.uI)()||(0,Ht.b$)()||(0,Ht.d)()||(0,Ht.w1)()||(0,Ht.Mn)()||(0,Ht.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=s.join("");Ze("Connection","Creating WebChannel: "+g,f);const v=o.createWebChannel(g,f);let C=!1,T=!1;const S=new ia({vi:k=>{T?Ze("Connection","Not sending because WebChannel is closed:",k):(C||(Ze("Connection","Opening WebChannel transport."),v.open(),C=!0),Ze("Connection","WebChannel sending:",k),v.send(k))},Vi:()=>v.close()}),x=(k,N,L)=>{k.listen(N,F=>{try{L(F)}catch(z){setTimeout(()=>{throw z},0)}})};return x(v,lm.EventType.OPEN,()=>{T||Ze("Connection","WebChannel transport opened.")}),x(v,lm.EventType.CLOSE,()=>{T||(T=!0,Ze("Connection","WebChannel transport closed"),S.$i())}),x(v,lm.EventType.ERROR,k=>{T||(T=!0,tc("Connection","WebChannel transport errored:",k),S.$i(new ze(Te.UNAVAILABLE,"The operation could not be completed")))}),x(v,lm.EventType.MESSAGE,k=>{var N;if(!T){const L=k.data[0];kt(!!L);const F=L,z=F.error||(null===(N=F[0])||void 0===N?void 0:N.error);if(z){Ze("Connection","WebChannel received error:",z);const J=z.status;let K=function(ke){const Fe=ar[ke];if(void 0!==Fe)return QD(Fe)}(J),ie=z.message;void 0===K&&(K=Te.INTERNAL,ie="Unknown error status: "+J+" with message "+z.message),T=!0,S.$i(new ze(K,ie)),v.close()}else Ze("Connection","WebChannel received:",L),S.Oi(L)}}),x(u,sO.STAT_EVENT,k=>{k.stat===uy.PROXY?Ze("Connection","Detected buffering proxy"):k.stat===uy.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{S.ki()},0),S}}function Nm(){return"undefined"!=typeof window?window:null}function Yy(){return"undefined"!=typeof document?document:null}function Om(i){return new lO(i,!0)}class kS{constructor(n,r,s=1e3,o=1.5,u=6e4){this.Oe=n,this.timerId=r,this.Qi=s,this.Wi=o,this.Gi=u,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),o=Math.max(0,r-s);o>0&&Ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Ky{constructor(n,r,s,o,u,f){this.Oe=n,this.er=s,this.nr=o,this.credentialsProvider=u,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new kS(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,xe.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,xe.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var s=this;return(0,xe.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==n?s.rr.reset():r&&r.code===Te.RESOURCE_EXHAUSTED?(sr(r.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):r&&r.code===Te.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===r&&this.yr(s)},s=>{n(()=>{const o=new ze(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(o)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{r(()=>this.pr(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}ur(){var n=this;this.state=4,this.rr.Xi((0,xe.Z)(function*(){n.state=0,n.start()}))}pr(n){return Ze("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iC extends Ky{constructor(n,r,s,o,u){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,s,u),this.N=o}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const s="NO_CHANGE"===(v=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:Je(),o=n.targetChange.targetIds||[],u=function(v,C){return v.D?(kt(void 0===C||"string"==typeof C),Er.fromBase64String(C||"")):(kt(void 0===C||C instanceof Uint8Array),Er.fromUint8Array(C||new Uint8Array))}(i,n.targetChange.resumeToken),f=n.targetChange.cause,g=f&&function(v){const C=void 0===v.code?Te.UNKNOWN:QD(v.code);return new ze(C,v.message||"")}(f);r=new eS(s,o,u,g||null)}else if("documentChange"in n){const s=n.documentChange,o=po(i,s.document.name),u=Or(s.document.updateTime),f=new oi({mapValue:{fields:s.document.fields}}),g=Un.newFoundDocument(o,u,f);r=new My(s.targetIds||[],s.removedTargetIds||[],g.key,g)}else if("documentDelete"in n){const s=n.documentDelete,o=po(i,s.document),u=s.readTime?Or(s.readTime):Ut.min(),f=Un.newNoDocument(o,u);r=new My([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in n){const s=n.documentRemove,o=po(i,s.document);r=new My([],s.removedTargetIds||[],o,null)}else{if(!("filter"in n))return Je();{const s=n.filter,u=new t1(s.count||0);r=new Fh(s.targetId,u)}}var v;return r}(this.N,n),s=function(o){if(!("targetChange"in o))return Ut.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ut.min():u.readTime?Or(u.readTime):Ut.min()}(n);return this.listener.Tr(r,s)}Ir(n){const r={};r.database=Tm(this.N),r.addTarget=function(o,u){let f;const g=u.target;return f=gy(g)?{documents:Xa(o,g)}:{query:Vu(o,g)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?f.resumeToken=wm(o,u.resumeToken):u.snapshotVersion.compareTo(Ut.min())>0&&(f.readTime=Cm(o,u.snapshotVersion.toTimestamp())),f}(this.N,n);const s=function(i,n){const r=function(s,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Je()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);s&&(r.labels=s),this.wr(r)}Ar(n){const r={};r.database=Tm(this.N),r.removeTarget=n,this.wr(r)}}class NS extends Ky{constructor(n,r,s,o,u){super(n,"write_stream_connection_backoff","write_stream_idle",r,s,u),this.N=o,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(kt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(kt(void 0!==n),i.map(r=>function(s,o){let u=Or(s.updateTime?s.updateTime:o);return u.isEqual(Ut.min())&&(u=Or(o)),new aO(u,s.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),s=Or(n.commitTime);return this.listener.vr(s,r)}return kt(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Tm(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(s=>kE(this.N,s))};this.wr(r)}}class sC extends class{}{constructor(n,r,s){super(),this.credentials=n,this.nr=r,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new ze(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(n,r,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new ze(Te.UNKNOWN,o.toString())})}Ki(n,r,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(n,r,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Te.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new ze(Te.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class oC{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(sr(r),this.$r=!1):Ze("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class x1{constructor(n,r,s,o,u){var f=this;this.localStore=n,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=u,this.Qr.Ei(g=>{s.enqueueAndForget((0,xe.Z)(function*(){var v;rl(f)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,xe.Z)(function*(C){const T=et(C);T.Kr.add(4),yield Wh(T),T.Wr.set("Unknown"),T.Kr.delete(4),yield Pm(T)}),function(C){return v.apply(this,arguments)})(f))}))}),this.Wr=new oC(s,o)}}function Pm(i){return aC.apply(this,arguments)}function aC(){return(aC=(0,xe.Z)(function*(i){if(rl(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function Wh(i){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,xe.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function Zh(i,n){const r=et(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),cC(r)?Xy(r):il(r).cr()&&Jy(r,n))}function Yh(i,n){const r=et(i),s=il(r);r.qr.delete(n),s.cr()&&lC(r,n),0===r.qr.size&&(s.cr()?s.lr():rl(r)&&r.Wr.set("Unknown"))}function Jy(i,n){i.Gr.Y(n.targetId),il(i).Ir(n)}function lC(i,n){i.Gr.Y(n),il(i).Ar(n)}function Xy(i){i.Gr=new a1({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),il(i).start(),i.Wr.Or()}function cC(i){return rl(i)&&!il(i).ar()&&i.qr.size>0}function rl(i){return 0===et(i).Kr.size}function uC(i){i.Gr=void 0}function R1(i){return ev.apply(this,arguments)}function ev(){return(ev=(0,xe.Z)(function*(i){i.qr.forEach((n,r)=>{Jy(i,n)})})).apply(this,arguments)}function k1(i,n){return OS.apply(this,arguments)}function OS(){return(OS=(0,xe.Z)(function*(i,n){uC(i),cC(i)?(i.Wr.Lr(n),Xy(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function Ii(i,n,r){return dc.apply(this,arguments)}function dc(){return(dc=(0,xe.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof eS&&2===n.state&&n.cause)try{yield(s=(0,xe.Z)(function*(o,u){const f=u.cause;for(const g of u.targetIds)o.qr.has(g)&&(yield o.remoteSyncer.rejectListen(g,f),o.qr.delete(g),o.Gr.removeTarget(g))}),function(o,u){return s.apply(this,arguments)})(i,n)}catch(s){Ze("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield tv(i,s)}else if(n instanceof My?i.Gr.rt(n):n instanceof Fh?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(Ut.min()))try{const s=yield IS(i.localStore);r.compareTo(s)>=0&&(yield function(o,u){const f=o.Gr._t(u);return f.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const C=o.qr.get(v);C&&o.qr.set(v,C.withResumeToken(g.resumeToken,u))}}),f.targetMismatches.forEach(g=>{const v=o.qr.get(g);if(!v)return;o.qr.set(g,v.withResumeToken(Er.EMPTY_BYTE_STRING,v.snapshotVersion)),lC(o,g);const C=new Wn(v.target,g,1,v.sequenceNumber);Jy(o,C)}),o.remoteSyncer.applyRemoteEvent(f)}(i,r))}catch(s){Ze("RemoteStore","Failed to raise snapshot:",s),yield tv(i,s)}var s})).apply(this,arguments)}function tv(i,n,r){return dC.apply(this,arguments)}function dC(){return(dC=(0,xe.Z)(function*(i,n,r){if(!bt(n))throw n;i.Kr.add(1),yield Wh(i),i.Wr.set("Offline"),r||(r=()=>IS(i.localStore)),i.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Pm(i)}))})).apply(this,arguments)}function N1(i,n){return n().catch(r=>tv(i,r,n))}function sa(i){return hC.apply(this,arguments)}function hC(){return(hC=(0,xe.Z)(function*(i){const n=et(i),r=sl(n);let s=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;fC(n);)try{const o=yield b1(n.localStore,s);if(null===o){0===n.Ur.length&&r.lr();break}s=o.batchId,O1(n,o)}catch(o){yield tv(n,o)}pC(n)&&PS(n)})).apply(this,arguments)}function fC(i){return rl(i)&&i.Ur.length<10}function O1(i,n){i.Ur.push(n);const r=sl(i);r.cr()&&r.br&&r.Pr(n.mutations)}function pC(i){return rl(i)&&!sl(i).ar()&&i.Ur.length>0}function PS(i){sl(i).start()}function P1(i){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,xe.Z)(function*(i){sl(i).Sr()})).apply(this,arguments)}function FS(i){return nv.apply(this,arguments)}function nv(){return(nv=(0,xe.Z)(function*(i){const n=sl(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function rv(i,n,r){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,xe.Z)(function*(i,n,r){const s=i.Ur.shift(),o=FE.from(s,n,r);yield N1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),yield sa(i)})).apply(this,arguments)}function _O(i,n){return iv.apply(this,arguments)}function iv(){return(iv=(0,xe.Z)(function*(i,n){var r;n&&sl(i).br&&(yield(r=(0,xe.Z)(function*(s,o){if(vm(u=o.code)&&u!==Te.ABORTED){const f=s.Ur.shift();sl(s).hr(),yield N1(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield sa(s)}var u}),function(s,o){return r.apply(this,arguments)})(i,n)),pC(i)&&PS(i)})).apply(this,arguments)}function mC(i,n){return sv.apply(this,arguments)}function sv(){return(sv=(0,xe.Z)(function*(i,n){const r=et(i);n?(r.Kr.delete(2),yield Pm(r)):n||(r.Kr.add(2),yield Wh(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function il(i){return i.zr||(i.zr=function(n,r,s){const o=et(n);return o.Cr(),new iC(r,o.nr,o.credentials,o.N,s)}(i.datastore,i.asyncQueue,{Si:R1.bind(null,i),Ci:k1.bind(null,i),Tr:Ii.bind(null,i)}),i.jr.push(function(){var n=(0,xe.Z)(function*(r){r?(i.zr.hr(),cC(i)?Xy(i):i.Wr.set("Unknown")):(yield i.zr.stop(),uC(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function sl(i){return i.Hr||(i.Hr=function(n,r,s){const o=et(n);return o.Cr(),new NS(r,o.nr,o.credentials,o.N,s)}(i.datastore,i.asyncQueue,{Si:P1.bind(null,i),Ci:_O.bind(null,i),Vr:FS.bind(null,i),vr:rv.bind(null,i)}),i.jr.push(function(){var n=(0,xe.Z)(function*(r){r?(i.Hr.hr(),yield sa(i)):(yield i.Hr.stop(),i.Ur.length>0&&(Ze("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class gC{constructor(n,r,s,o,u){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(n,r,s,o,u){const f=Date.now()+s,g=new gC(n,r,f,o,u);return g.start(s),g}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(Te.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hc(i,n){if(sr("AsyncQueue",`${n}: ${i}`),bt(i))return new ze(Te.UNAVAILABLE,`${n}: ${i}`);throw i}class fc{constructor(n){this.comparator=n?(r,s)=>n(r,s)||dt.comparator(r.key,s.key):(r,s)=>dt.comparator(r.key,s.key),this.keyedMap=AE(),this.sortedSet=new lr(this.comparator)}static emptySet(n){return new fc(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,s)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof fc)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const s=new fc;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=r,s}}class LS{constructor(){this.Jr=new lr(dt.comparator)}track(n){const r=n.doc.key,s=this.Jr.get(r);s?0!==n.type&&3===s.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==s.type?this.Jr=this.Jr.insert(r,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.Jr=this.Jr.remove(r):1===n.type&&2===s.type?this.Jr=this.Jr.insert(r,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):Je():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,s)=>{n.push(s)}),n}}class Kh{constructor(n,r,s,o,u,f,g,v){this.query=n,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v}static fromInitialDocuments(n,r,s,o){const u=[];return r.forEach(f=>{u.push({type:0,doc:f})}),new Kh(n,r,fc.emptySet(r),u,s,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&gm(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,s=n.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}class VS{constructor(){this.Xr=void 0,this.listeners=[]}}class US{constructor(){this.queries=new lc(n=>vE(n),gm),this.onlineState="Unknown",this.Zr=new Set}}function ov(i,n){return _C.apply(this,arguments)}function _C(){return(_C=(0,xe.Z)(function*(i,n){const r=et(i),s=n.query;let o=!1,u=r.queries.get(s);if(u||(o=!0,u=new VS),o)try{u.Xr=yield r.onListen(s)}catch(f){const g=hc(f,`Initialization of query '${bE(n.query)}' failed`);return void n.onError(g)}r.queries.set(s,u),u.listeners.push(n),n.eo(r.onlineState),u.Xr&&n.no(u.Xr)&&cv(r)})).apply(this,arguments)}function av(i,n){return lv.apply(this,arguments)}function lv(){return(lv=(0,xe.Z)(function*(i,n){const r=et(i),s=n.query;let o=!1;const u=r.queries.get(s);if(u){const f=u.listeners.indexOf(n);f>=0&&(u.listeners.splice(f,1),o=0===u.listeners.length)}if(o)return r.queries.delete(s),r.onUnlisten(s)})).apply(this,arguments)}function F1(i,n){const r=et(i);let s=!1;for(const o of n){const f=r.queries.get(o.query);if(f){for(const g of f.listeners)g.no(o)&&(s=!0);f.Xr=o}}s&&cv(r)}function L1(i,n,r){const s=et(i),o=s.queries.get(n);if(o)for(const u of o.listeners)u.onError(r);s.queries.delete(n)}function cv(i){i.Zr.forEach(n=>{n.next()})}class yC{constructor(n,r,s){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(n){if(!this.options.includeMetadataChanges){const s=[];for(const o of n.docChanges)3!==o.type&&s.push(o);n=new Kh(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Kh.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class BS{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class vC{constructor(n){this.N=n}zn(n){return po(this.N,n)}Hn(n){return n.metadata.exists?RE(this.N,n.document,!1):Un.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Or(n)}}class $S{constructor(n,r,s){this.lo=n,this.localStore=r,this.N=s,this.queries=[],this.documents=[],this.progress=bC(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,s=new vC(this.N);for(const o of n)if(o.metadata.queries){const u=s.zn(o.metadata.name);for(const f of o.metadata.queries){const g=(r.get(f)||pn()).add(u);r.set(f,g)}}return r}complete(){var n=this;return(0,xe.Z)(function*(){const r=yield function(i,n,r,s){return Gy.apply(this,arguments)}(n.localStore,new vC(n.N),n.documents,n.lo.id),s=n.wo(n.documents);for(const o of n.queries)yield T1(n.localStore,o,s.get(o.name));return n.progress.taskState="Success",new GE(Object.assign({},n.progress),r)})()}}function bC(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class HS{constructor(n){this.key=n}}class jS{constructor(n){this.key=n}}class zS{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=pn(),this.mutatedKeys=pn(),this.po=EE(n),this.Eo=new fc(this.po)}get To(){return this._o}Io(n,r){const s=r?r.Ao:new LS,o=r?r.Eo:this.Eo;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,g=!1;const v=yy(this.query)&&o.size===this.query.limit?o.last():null,C=kh(this.query)&&o.size===this.query.limit?o.first():null;if(n.inorderTraversal((T,S)=>{const x=o.get(T),k=Oh(this.query,S)?S:null,N=!!x&&this.mutatedKeys.has(x.key),L=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;x&&k?x.data.isEqual(k.data)?N!==L&&(s.track({type:3,doc:k}),F=!0):this.Ro(x,k)||(s.track({type:2,doc:k}),F=!0,(v&&this.po(k,v)>0||C&&this.po(k,C)<0)&&(g=!0)):!x&&k?(s.track({type:0,doc:k}),F=!0):x&&!k&&(s.track({type:1,doc:x}),F=!0,(v||C)&&(g=!0)),F&&(k?(f=f.add(k),u=L?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),yy(this.query)||kh(this.query))for(;f.size>this.query.limit;){const T=yy(this.query)?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Eo:f,Ao:s,Ln:g,mutatedKeys:u}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,s){const o=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const u=n.Ao.Yr();u.sort((C,T)=>function(S,x){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return k(S)-k(x)}(C.type,T.type)||this.po(C.doc,T.doc)),this.bo(s);const f=r?this.Po():[],g=0===this.yo.size&&this.current?1:0,v=g!==this.mo;return this.mo=g,0!==u.length||v?{snapshot:new Kh(this.query,n.Eo,o,u,n.mutatedKeys,0===g,v,!1),vo:f}:{vo:f}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new LS,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=pn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const r=[];return n.forEach(s=>{this.yo.has(s)||r.push(new jS(s))}),this.yo.forEach(s=>{n.has(s)||r.push(new HS(s))}),r}So(n){this._o=n.Gn,this.yo=pn();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return Kh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class GS{constructor(n,r,s){this.query=n,this.targetId=r,this.view=s}}class yO{constructor(n){this.key=n,this.Co=!1}}class vO{constructor(n,r,s,o,u,f){this.localStore=n,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new lc(g=>vE(g),gm),this.ko=new Map,this.$o=new Set,this.Oo=new lr(dt.comparator),this.Fo=new Map,this.Mo=new KE,this.Lo={},this.Bo=new Map,this.Uo=zh.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function bO(i,n){return qS.apply(this,arguments)}function qS(){return(qS=(0,xe.Z)(function*(i,n){const r=IC(i);let s,o;const u=r.xo.get(n);if(u)s=u.targetId,r.sharedClientState.addLocalQueryTarget(s),o=u.view.Do();else{const f=yield _o(r.localStore,Fs(n)),g=r.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,o=yield WS(r,n,s,"current"===g),r.isPrimaryClient&&Zh(r.remoteStore,f)}return o})).apply(this,arguments)}function WS(i,n,r,s){return ZS.apply(this,arguments)}function ZS(){return(ZS=(0,xe.Z)(function*(i,n,r,s){i.Ko=(T,S,x)=>{return(k=(0,xe.Z)(function*(N,L,F,z){let J=L.view.Io(F);J.Ln&&(J=yield zy(N.localStore,L.query,!1).then(({documents:ke})=>L.view.Io(ke,J)));const K=z&&z.targetChanges.get(L.targetId),ie=L.view.applyChanges(J,N.isPrimaryClient,K);return CC(N,L.targetId,ie.vo),ie.snapshot}),function(N,L,F,z){return k.apply(this,arguments)})(i,T,S,x);var k};const o=yield zy(i.localStore,n,!0),u=new zS(n,o.Gn),f=u.Io(o.documents),g=Ay.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState),v=u.applyChanges(f,i.isPrimaryClient,g);CC(i,r,v.vo);const C=new GS(n,r,u);return i.xo.set(n,C),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),v.snapshot})).apply(this,arguments)}function EO(i,n){return YS.apply(this,arguments)}function YS(){return(YS=(0,xe.Z)(function*(i,n){const r=et(i),s=r.xo.get(n),o=r.ko.get(s.targetId);if(o.length>1)return r.ko.set(s.targetId,o.filter(u=>!gm(u,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Am(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Yh(r.remoteStore,s.targetId),Qh(r,s.targetId)}).catch(qu))):(Qh(r,s.targetId),yield Am(r.localStore,s.targetId,!0))})).apply(this,arguments)}function KS(){return(KS=(0,xe.Z)(function*(i,n,r){const s=fI(i);try{const o=yield function(u,f){const g=et(u),v=br.now(),C=f.reduce((S,x)=>S.add(x.key),pn());let T;return g.persistence.runTransaction("Locally write mutations","readwrite",S=>g.Qn.Pn(S,C).next(x=>{T=x;const k=[];for(const N of f){const L=DE(N,T.get(N.key));null!=L&&k.push(new ic(N.key,L,gE(L.value.mapValue),or.exists(!0)))}return g.In.addMutationBatch(S,v,k,f)})).then(S=>(S.applyToLocalDocumentSet(T),{batchId:S.batchId,changes:T}))}(s.localStore,n);s.sharedClientState.addPendingMutation(o.batchId),function(u,f,g){let v=u.Lo[u.currentUser.toKey()];v||(v=new lr(Wt)),v=v.insert(f,g),u.Lo[u.currentUser.toKey()]=v}(s,o.batchId,r),yield pc(s,o.changes),yield sa(s.remoteStore)}catch(o){const u=hc(o,"Failed to persist write");r.reject(u)}})).apply(this,arguments)}function V1(i,n){return QS.apply(this,arguments)}function QS(){return(QS=(0,xe.Z)(function*(i,n){const r=et(i);try{const s=yield gO(r.localStore,n);n.targetChanges.forEach((o,u)=>{const f=r.Fo.get(u);f&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Co=!0:o.modifiedDocuments.size>0?kt(f.Co):o.removedDocuments.size>0&&(kt(f.Co),f.Co=!1))}),yield pc(r,s,n)}catch(s){yield qu(s)}})).apply(this,arguments)}function U1(i,n,r){const s=et(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const o=[];s.xo.forEach((u,f)=>{const g=f.view.eo(n);g.snapshot&&o.push(g.snapshot)}),function(u,f){const g=et(u);g.onlineState=f;let v=!1;g.queries.forEach((C,T)=>{for(const S of T.listeners)S.eo(f)&&(v=!0)}),v&&cv(g)}(s.eventManager,n),o.length&&s.No.Tr(o),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function wO(i,n,r){return JS.apply(this,arguments)}function JS(){return(JS=(0,xe.Z)(function*(i,n,r){const s=et(i);s.sharedClientState.updateQueryState(n,"rejected",r);const o=s.Fo.get(n),u=o&&o.key;if(u){let f=new lr(dt.comparator);f=f.insert(u,Un.newNoDocument(u,Ut.min()));const g=pn().add(u),v=new bm(Ut.min(),new Map,new In(Wt),f,g);yield V1(s,v),s.Oo=s.Oo.remove(u),s.Fo.delete(n),iI(s)}else yield Am(s.localStore,n,!1).then(()=>Qh(s,n,r)).catch(qu)})).apply(this,arguments)}function TO(i,n){return XS.apply(this,arguments)}function XS(){return(XS=(0,xe.Z)(function*(i,n){const r=et(i),s=n.batch.batchId;try{const o=yield SS(r.localStore,n);nI(r,s,null),tI(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield pc(r,o)}catch(o){yield qu(o)}})).apply(this,arguments)}function B1(i,n,r){return EC.apply(this,arguments)}function EC(){return(EC=(0,xe.Z)(function*(i,n,r){const s=et(i);try{const o=yield function(u,f){const g=et(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return g.In.lookupMutationBatch(v,f).next(T=>(kt(null!==T),C=T.keys(),g.In.removeMutationBatch(v,T))).next(()=>g.In.performConsistencyCheck(v)).next(()=>g.Qn.Pn(v,C))})}(s.localStore,n);nI(s,n,r),tI(s,n),s.sharedClientState.updateMutationState(n,"rejected",r),yield pc(s,o)}catch(o){yield qu(o)}})).apply(this,arguments)}function eI(){return(eI=(0,xe.Z)(function*(i,n){const r=et(i);rl(r.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const f=et(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>f.In.getHighestUnacknowledgedBatchId(g))}(r.localStore);if(-1===s)return void n.resolve();const o=r.Bo.get(s)||[];o.push(n),r.Bo.set(s,o)}catch(s){const o=hc(s,"Initialization of waitForPendingWrites() operation failed");n.reject(o)}})).apply(this,arguments)}function tI(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function nI(i,n,r){const s=et(i);let o=s.Lo[s.currentUser.toKey()];if(o){const u=o.get(n);u&&(r?u.reject(r):u.resolve(),o=o.remove(n)),s.Lo[s.currentUser.toKey()]=o}}function Qh(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const s of i.ko.get(n))i.xo.delete(s),r&&i.No.jo(s,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(s=>{i.Mo.containsKey(s)||rI(i,s)})}function rI(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(Yh(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),iI(i))}function CC(i,n,r){for(const s of r)s instanceof HS?(i.Mo.addReference(s.key,n),DO(i,s)):s instanceof jS?(Ze("SyncEngine","Document no longer in limbo: "+s.key),i.Mo.removeReference(s.key,n),i.Mo.containsKey(s.key)||rI(i,s.key)):Je()}function DO(i,n){const r=n.key,s=r.path.canonicalString();i.Oo.get(r)||i.$o.has(s)||(Ze("SyncEngine","New document in limbo: "+r),i.$o.add(s),iI(i))}function iI(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new dt(an.fromString(n)),s=i.Uo.next();i.Fo.set(s,new yO(r)),i.Oo=i.Oo.insert(r,s),Zh(i.remoteStore,new Wn(Fs(Rh(r.path)),s,2,cs.T))}}function pc(i,n,r){return sI.apply(this,arguments)}function sI(){return(sI=(0,xe.Z)(function*(i,n,r){const s=et(i),o=[],u=[],f=[];var g;s.xo.isEmpty()||(s.xo.forEach((g,v)=>{f.push(s.Ko(v,n,r).then(C=>{if(C){s.isPrimaryClient&&s.sharedClientState.updateQueryState(v.targetId,C.fromCache?"not-current":"current"),o.push(C);const T=Hy.kn(v.targetId,C);u.push(T)}}))}),yield Promise.all(f),s.No.Tr(o),yield(g=(0,xe.Z)(function*(v,C){const T=et(v);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>je.forEach(C,x=>je.forEach(x.Nn,k=>T.persistence.referenceDelegate.addReference(S,x.targetId,k)).next(()=>je.forEach(x.xn,k=>T.persistence.referenceDelegate.removeReference(S,x.targetId,k)))))}catch(S){if(!bt(S))throw S;Ze("LocalStore","Failed to update sequence numbers: "+S)}for(const S of C){const x=S.targetId;if(!S.fromCache){const k=T.Un.get(x),L=k.withLastLimboFreeSnapshotVersion(k.snapshotVersion);T.Un=T.Un.insert(x,L)}}}),function(v,C){return g.apply(this,arguments)})(s.localStore,u))})).apply(this,arguments)}function H1(i,n){return oI.apply(this,arguments)}function oI(){return(oI=(0,xe.Z)(function*(i,n){const r=et(i);if(!r.currentUser.isEqual(n)){Ze("SyncEngine","User change. New user:",n.toKey());const s=yield DS(r.localStore,n);r.currentUser=n,(o=r).Bo.forEach(f=>{f.forEach(g=>{g.reject(new ze(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),r.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield pc(r,s.Wn)}var o})).apply(this,arguments)}function j1(i,n){const r=et(i),s=r.Fo.get(n);if(s&&s.Co)return pn().add(s.key);{let o=pn();const u=r.ko.get(n);if(!u)return o;for(const f of u){const g=r.xo.get(f);o=o.unionWith(g.view.To)}return o}}function wC(i,n){return mc.apply(this,arguments)}function mc(){return(mc=(0,xe.Z)(function*(i,n){const r=et(i),s=yield zy(r.localStore,n.query,!0),o=n.view.So(s);return r.isPrimaryClient&&CC(r,n.targetId,o.vo),o})).apply(this,arguments)}function aI(i){return TC.apply(this,arguments)}function TC(){return(TC=(0,xe.Z)(function*(i){const n=et(i);return ZE(n.localStore).then(r=>pc(n,r))})).apply(this,arguments)}function z1(i,n,r,s){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,xe.Z)(function*(i,n,r,s){const o=et(i),u=yield function(f,g){const v=et(f),C=et(v.In);return v.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Xt(T,g).next(S=>S?v.Qn.Pn(T,S):je.resolve(null)))}(o.localStore,n);var g;null!==u?("pending"===r?yield sa(o.remoteStore):"acknowledged"===r||"rejected"===r?(nI(o,n,s||null),tI(o,n),g=n,et(et(o.localStore).In).te(g)):Je(),yield pc(o,u)):Ze("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function uv(){return(uv=(0,xe.Z)(function*(i,n){const r=et(i);if(IC(r),fI(r),!0===n&&!0!==r.qo){const s=r.sharedClientState.getAllActiveQueryTargets(),o=yield DC(r,s.toArray());r.qo=!0,yield mC(r.remoteStore,!0);for(const u of o)Zh(r.remoteStore,u)}else if(!1===n&&!1!==r.qo){const s=[];let o=Promise.resolve();r.ko.forEach((u,f)=>{r.sharedClientState.isLocalQueryTarget(f)?s.push(f):o=o.then(()=>(Qh(r,f),Am(r.localStore,f,!0))),Yh(r.remoteStore,f)}),yield o,yield DC(r,s),function(u){const f=et(u);f.Fo.forEach((g,v)=>{Yh(f.remoteStore,v)}),f.Mo.us(),f.Fo=new Map,f.Oo=new lr(dt.comparator)}(r),r.qo=!1,yield mC(r.remoteStore,!1)}})).apply(this,arguments)}function DC(i,n,r){return cI.apply(this,arguments)}function cI(){return(cI=(0,xe.Z)(function*(i,n,r){const s=et(i),o=[],u=[];for(const f of n){let g;const v=s.ko.get(f);if(v&&0!==v.length){g=yield _o(s.localStore,Fs(v[0]));for(const C of v){const T=s.xo.get(C),S=yield wC(s,T);S.snapshot&&u.push(S.snapshot)}}else{const C=yield E1(s.localStore,f);g=yield _o(s.localStore,C),yield WS(s,SC(C),f,!1)}o.push(g)}return s.No.Tr(u),o})).apply(this,arguments)}function SC(i){return zD(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function dv(i){const n=et(i);return et(et(n.localStore).persistence).pn()}function uI(i,n,r,s){return dI.apply(this,arguments)}function dI(){return(dI=(0,xe.Z)(function*(i,n,r,s){const o=et(i);if(o.qo)Ze("SyncEngine","Ignoring unexpected query state notification.");else if(o.ko.has(n))switch(r){case"current":case"not-current":{const u=yield ZE(o.localStore),f=bm.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield pc(o,u,f);break}case"rejected":yield Am(o.localStore,n,!0),Qh(o,n,s);break;default:Je()}})).apply(this,arguments)}function SO(i,n,r){return hI.apply(this,arguments)}function hI(){return(hI=(0,xe.Z)(function*(i,n,r){const s=IC(i);if(s.qo){for(const o of n){if(s.ko.has(o)){Ze("SyncEngine","Adding an already active target "+o);continue}const u=yield E1(s.localStore,o),f=yield _o(s.localStore,u);yield WS(s,SC(u),f.targetId,!1),Zh(s.remoteStore,f)}for(const o of r)s.ko.has(o)&&(yield Am(s.localStore,o,!1).then(()=>{Yh(s.remoteStore,o),Qh(s,o)}).catch(qu))}})).apply(this,arguments)}function IC(i){const n=et(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=j1.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=wO.bind(null,n),n.No.Tr=F1.bind(null,n.eventManager),n.No.jo=L1.bind(null,n.eventManager),n}function fI(i){const n=et(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=B1.bind(null,n),n}class pI{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,xe.Z)(function*(){r.N=Om(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return TS(this.persistence,new qE,n.initialUser,this.N)}Go(n){return new MS(qy.Ns,this.N)}Wo(n){return new qh}terminate(){var n=this;return(0,xe.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class G1 extends pI{constructor(n,r,s){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,s=this;return(0,xe.Z)(function*(){yield r().call(s,n),yield function(i){return Mm.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,n),yield fI(s.Jo.syncEngine),yield sa(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(n){return TS(this.persistence,new qE,n.initialUser,this.N)}zo(n){return new _1(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=ms(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?qi.withCacheSize(this.cacheSizeBytes):qi.DEFAULT;return new uc(this.synchronizeTabs,r,n.clientId,s,n.asyncQueue,Nm(),Yy(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new qh}}class IO extends G1{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,s=this;return(0,xe.Z)(function*(){yield r().call(s,n);const o=s.Jo.syncEngine;s.sharedClientState instanceof nC&&(s.sharedClientState.syncEngine={_i:z1.bind(null,o),mi:uI.bind(null,o),gi:SO.bind(null,o),pn:dv.bind(null,o),wi:aI.bind(null,o)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var u=(0,xe.Z)(function*(f){yield function(i,n){return uv.apply(this,arguments)}(s.Jo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}Wo(n){const r=Nm();if(!nC.bt(r))throw new ze(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ms(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new nC(r,n.asyncQueue,s,n.clientId,n.initialUser)}}class Um{initialize(n,r){var s=this;return(0,xe.Z)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=o=>U1(s.syncEngine,o,1),s.remoteStore.remoteSyncer.handleCredentialChange=H1.bind(null,s.syncEngine),yield mC(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new US}createDatastore(n){const r=Om(n.databaseInfo.databaseId),s=new M1(n.databaseInfo);return new sC(n.credentials,s,r)}createRemoteStore(n){return r=this.localStore,s=this.datastore,o=n.asyncQueue,u=g=>U1(this.syncEngine,g,0),f=RS.bt()?new RS:new km,new x1(r,s,o,u,f);var r,s,o,u,f}createSyncEngine(n,r){return function(s,o,u,f,g,v,C){const T=new vO(s,o,u,f,g,v);return C&&(T.qo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,xe.Z)(function*(r){const s=et(r);Ze("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Wh(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function mI(i,n=10240){let r=0;return{read:()=>(0,xe.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+n),done:!1};return r+=n,s}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class AC{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class AO{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new vr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,xe.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,xe.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,xe.Z)(function*(){const r=yield n.na();if(null===r)return null;const s=n.ta.decode(r),o=Number(s);isNaN(o)&&n.sa(`length string (${s}) is not valid number`);const u=yield n.ia(o);return new BS(JSON.parse(u),r.length+o)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,xe.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),s})()}ia(n){var r=this;return(0,xe.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const s=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),s})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,xe.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const s=new Uint8Array(n.buffer.length+r.value.length);s.set(n.buffer),s.set(r.value,n.buffer.length),n.buffer=s}return r.done})()}}class q1{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,xe.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new ze(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(o=(0,xe.Z)(function*(u,f){const g=et(u),v=Tm(g.N)+"/documents",C={documents:f.map(k=>Lu(g.N,k))},T=yield g.Ki("BatchGetDocuments",v,C),S=new Map;T.forEach(k=>{const N=function(i,n){return"found"in n?function(r,s){kt(!!s.found);const o=po(r,s.found.name),u=Or(s.found.updateTime),f=new oi({mapValue:{fields:s.found.fields}});return Un.newFoundDocument(o,u,f)}(i,n):"missing"in n?function(r,s){kt(!!s.missing),kt(!!s.readTime);const o=po(r,s.missing),u=Or(s.readTime);return Un.newNoDocument(o,u)}(i,n):Je()}(g.N,k);S.set(N.key.toString(),N)});const x=[];return f.forEach(k=>{const N=S.get(k.toString());kt(!!N),x.push(N)}),x}),function(u,f){return o.apply(this,arguments)})(r.datastore,n);var o;return s.forEach(o=>r.recordVersion(o)),s})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new Ph(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,xe.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var s;n.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,o)=>{const u=dt.fromPath(o);n.mutations.push(new Sy(u,n.precondition(u)))}),yield(s=(0,xe.Z)(function*(o,u){const f=et(o),g=Tm(f.N)+"/documents",v={writes:u.map(C=>kE(f.N,C))};yield f.Li("Commit",g,v)}),function(o,u){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw Je();r=Ut.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!r.isEqual(s))throw new ze(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?or.updateTime(r):or.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(Ut.min()))throw new ze(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(r)}return or.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class MO{constructor(n,r,s,o){this.asyncQueue=n,this.datastore=r,this.updateFunction=s,this.deferred=o,this.aa=5,this.rr=new kS(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,xe.Z)(function*(){const r=new q1(n.datastore),s=n.ua(r);s&&s.then(o=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(o)}).catch(u=>{n.ha(u)}))}).catch(o=>{n.ha(o)})}))}ua(n){try{const r=this.updateFunction(n);return!ta(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!vm(r)}return!1}}class gI{constructor(n,r,s){var o=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=si.UNAUTHENTICATED,this.clientId=xD.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var u=(0,xe.Z)(function*(f){Ze("FirestoreClient","Received user=",f.uid),yield o.credentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,xe.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(s){const o=hc(s,"Failed to shutdown persistence");r.reject(o)}})),r.promise}}function _I(i,n){return yI.apply(this,arguments)}function yI(){return(yI=(0,xe.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var o=(0,xe.Z)(function*(u){s.isEqual(u)||(yield DS(n.localStore,u),s=u)});return function(u){return o.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function W1(i,n){return MC.apply(this,arguments)}function MC(){return(MC=(0,xe.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield Wu(i);Ze("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield n.initialize(r,s),i.setCredentialChangeListener(o=>{return(u=(0,xe.Z)(function*(f,g){const v=et(f);v.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const C=rl(v);v.Kr.add(3),yield Wh(v),C&&v.Wr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(g),v.Kr.delete(3),yield Pm(v)}),function(f,g){return u.apply(this,arguments)})(n.remoteStore,o);var u}),i.onlineComponents=n})).apply(this,arguments)}function Wu(i){return xC.apply(this,arguments)}function xC(){return(xC=(0,xe.Z)(function*(i){return i.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield _I(i,new pI)),i.offlineComponents})).apply(this,arguments)}function fv(i){return RC.apply(this,arguments)}function RC(){return(RC=(0,xe.Z)(function*(i){return i.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield W1(i,new Um)),i.onlineComponents})).apply(this,arguments)}function pv(i){return Wu(i).then(n=>n.persistence)}function kC(i){return Wu(i).then(n=>n.localStore)}function Wi(i){return fv(i).then(n=>n.remoteStore)}function NC(i){return fv(i).then(n=>n.syncEngine)}function gc(i){return OC.apply(this,arguments)}function OC(){return(OC=(0,xe.Z)(function*(i){const n=yield fv(i),r=n.eventManager;return r.onListen=bO.bind(null,n.syncEngine),r.onUnlisten=EO.bind(null,n.syncEngine),r})).apply(this,arguments)}function FC(i,n,r={}){const s=new vr;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(o,u,f,g,v){const C=new AC({next:S=>{u.enqueueAndForget(()=>av(o,T));const x=S.docs.has(f);!x&&S.fromCache?v.reject(new ze(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&g&&"server"===g.source?v.reject(new ze(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(S)},error:S=>v.reject(S)}),T=new yC(Rh(f.path),C,{includeMetadataChanges:!0,uo:!0});return ov(o,T)}(yield gc(i),i.asyncQueue,n,r,s)})),s.promise}function LC(i,n,r={}){const s=new vr;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(o,u,f,g,v){const C=new AC({next:S=>{u.enqueueAndForget(()=>av(o,T)),S.fromCache&&"server"===g.source?v.reject(new ze(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(S)},error:S=>v.reject(S)}),T=new yC(f,C,{includeMetadataChanges:!0,uo:!0});return ov(o,T)}(yield gc(i),i.asyncQueue,n,r,s)})),s.promise}class EI{constructor(n,r,s,o,u,f,g,v){this.databaseId=n,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.useFetchStreams=v}}class Zu{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Zu&&n.projectId===this.projectId&&n.database===this.database}}const mv=new Map;function UC(i,n,r){if(!r)throw new ze(Te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function Us(i,n,r,s){if(!0===n&&!0===s)throw new ze(Te.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function CI(i){if(!dt.isDocumentKey(i))throw new ze(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function J1(i){if(dt.isDocumentKey(i))throw new ze(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function gv(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":Je()}function sn(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new ze(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gv(i);throw new ze(Te.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function wI(i,n){if(n<=0)throw new ze(Te.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class TI{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new ze(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new ze(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,Us("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Bm{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TI({}),this._settingsFrozen=!1,n instanceof Zu?this._databaseId=n:(this._app=n,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ze(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(s.options.projectId)}(n))}get app(){if(!this._app)throw new ze(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new ze(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TI(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new MD;switch(r.type){case"gapi":const s=r.client;return kt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new cm(s,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new ze(Te.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mv.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),mv.delete(n),r.terminate())}(this),Promise.resolve()}}class Rn{constructor(n,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Rn(this.firestore,n,this._key)}}class Wr{constructor(n,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Wr(this.firestore,n,this._query)}}class oa extends Wr{constructor(n,r,s){super(n,r,Rh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Rn(this.firestore,null,new dt(n))}withConverter(n){return new oa(this.firestore,n,this._path)}}function DI(i,n,...r){if(i=(0,Ht.m9)(i),UC("collection","path",n),i instanceof Bm){const s=an.fromString(n,...r);return J1(s),new oa(i,null,s)}{if(!(i instanceof Rn||i instanceof oa))throw new ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(an.fromString(n,...r));return J1(s),new oa(i.firestore,null,s)}}function _v(i,n,...r){if(i=(0,Ht.m9)(i),1===arguments.length&&(n=xD.I()),UC("doc","path",n),i instanceof Bm){const s=an.fromString(n,...r);return CI(s),new Rn(i,null,new dt(s))}{if(!(i instanceof Rn||i instanceof oa))throw new ze(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(an.fromString(n,...r));return CI(s),new Rn(i.firestore,i instanceof oa?i.converter:null,new dt(s))}}function X1(i,n){return i=(0,Ht.m9)(i),n=(0,Ht.m9)(n),(i instanceof Rn||i instanceof oa)&&(n instanceof Rn||n instanceof oa)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function BC(i,n){return i=(0,Ht.m9)(i),n=(0,Ht.m9)(n),i instanceof Wr&&n instanceof Wr&&i.firestore===n.firestore&&gm(i._query,n._query)&&i.converter===n.converter}class II{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new kS(this,"async_queue_retry"),this.Ea=()=>{const r=Yy();r&&Ze("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Yy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Yy();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new vr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,xe.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!bt(r))throw r;Ze("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(s=>{throw this.ma=s,this.ga=!1,sr("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=r,r}enqueueAfterDelay(n,r,s){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const o=gC.createAndSchedule(this,n,r,s,u=>this.Ra(u));return this._a.push(o),o}Ta(){this.ma&&Je()}verifyOperationInProgress(){}ba(){var n=this;return(0,xe.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function $C(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const s=n;for(const o of["next","error","complete"])if(o in s&&"function"==typeof s[o])return!0;return!1}(i)}class eR{constructor(){this._progressObserver={},this._taskCompletionResolver=new vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,s){this._progressObserver={next:n,error:r,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class An extends Bm{constructor(n,r){super(n,r),this.type="firestore",this._queue=new II,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||xI(this),this._firestoreClient.terminate()}}function Tr(i){return i._firestoreClient||xI(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function xI(i){var n;const r=i._freezeSettings(),s=(u=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new EI(i._databaseId,u,i._persistenceKey,(g=r).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;i._firestoreClient=new gI(i._credentials,i._queue,s)}function nR(i,n,r){const s=new vr;return i.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield _I(i,r),yield W1(i,n),s.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===Te.FAILED_PRECONDITION||u.code===Te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),s.reject(o)}var u})).then(()=>s.promise)}function oR(i){if(i._initialized||i._terminated)throw new ze(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _c{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new ze(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Bs{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Bs(Er.fromBase64String(n))}catch(r){throw new ze(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new Bs(Er.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Bn{constructor(n){this._methodName=n}}class HC{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new ze(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new ze(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Wt(this._lat,n._lat)||Wt(this._long,n._long)}}const OI=/^__.*__$/;class PI{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return null!==this.fieldMask?new ic(n,this.data,this.fieldMask,r,this.fieldTransforms):new Dy(n,this.data,r,this.fieldTransforms)}}class FI{constructor(n,r,s){this.data=n,this.fieldMask=r,this.fieldTransforms=s}toMutation(n,r){return new ic(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function $m(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class yv{constructor(n,r,s,o,u,f){this.settings=n,this.databaseId=r,this.N=s,this.ignoreUndefinedProperties=o,void 0===u&&this.Sa(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new yv(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),o=this.Ca({path:s,xa:!1});return o.ka(n),o}$a(n){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(n),o=this.Ca({path:s,xa:!1});return o.Sa(),o}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return jC(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if($m(this.Da)&&OI.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class aR{constructor(n,r,s){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=s||Om(n)}Ba(n,r,s,o=!1){return new yv({Da:n,methodName:r,La:s,path:Nr.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function yc(i){const n=i._freezeSettings(),r=Om(i._databaseId);return new aR(i._databaseId,!!n.ignoreUndefinedProperties,r)}function aa(i,n,r,s,o,u={}){const f=i.Ba(u.merge||u.mergeFields?2:0,n,r,o);UI("Data must be an object, but it was:",f,s);const g=LI(s,f);let v,C;if(u.merge)v=new xu(f.fieldMask),C=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const S of u.mergeFields){const x=ef(n,S,r);if(!f.contains(x))throw new ze(Te.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);dR(T,x)||T.push(x)}v=new xu(T),C=f.fieldTransforms.filter(S=>v.covers(S.field))}else v=null,C=f.fieldTransforms;return new PI(new oi(g),v,C)}class Jh extends Bn{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Jh}}function vv(i,n,r){return new yv({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class Hm extends Bn{_toFieldTransform(n){return new ym(n.path,new uo)}isEqual(n){return n instanceof Hm}}class lR extends Bn{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=vv(this,n,!0),s=this.Ua.map(u=>Xh(u,r)),o=new Nu(s);return new ym(n.path,o)}isEqual(n){return this===n}}class bv extends Bn{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=vv(this,n,!0),s=this.Ua.map(u=>Xh(u,r)),o=new Ou(s);return new ym(n.path,o)}isEqual(n){return this===n}}class cR extends Bn{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new Pu(n.N,ku(n.N,this.qa));return new ym(n.path,r)}isEqual(n){return this===n}}function jm(i,n,r,s){const o=i.Ba(1,n,r);UI("Data must be an object, but it was:",o,s);const u=[],f=oi.empty();lo(s,(v,C)=>{const T=BI(n,v,r);C=(0,Ht.m9)(C);const S=o.$a(T);if(C instanceof Jh)u.push(T);else{const x=Xh(C,S);null!=x&&(u.push(T),f.set(T,x))}});const g=new xu(u);return new FI(f,g,o.fieldTransforms)}function Ev(i,n,r,s,o,u){const f=i.Ba(1,n,r),g=[ef(n,s,r)],v=[o];if(u.length%2!=0)throw new ze(Te.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(ef(n,u[x])),v.push(u[x+1]);const C=[],T=oi.empty();for(let x=g.length-1;x>=0;--x)if(!dR(C,g[x])){const k=g[x];let N=v[x];N=(0,Ht.m9)(N);const L=f.$a(k);if(N instanceof Jh)C.push(k);else{const F=Xh(N,L);null!=F&&(C.push(k),T.set(k,F))}}const S=new xu(C);return new FI(T,S,f.fieldTransforms)}function Dr(i,n,r,s=!1){return Xh(r,i.Ba(s?4:3,n))}function Xh(i,n){if(VI(i=(0,Ht.m9)(i)))return UI("Unsupported field value:",n,i),LI(i,n);if(i instanceof Bn)return function(r,s){if(!$m(s.Da))throw s.Fa(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const f of r){let g=Xh(f,s.Oa(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(i,n)}return function(r,s){if(null===(r=(0,Ht.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return ku(s.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=br.fromDate(r);return{timestampValue:Cm(s.N,o)}}if(r instanceof br){const o=new br(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cm(s.N,o)}}if(r instanceof HC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bs)return{bytesValue:wm(s.N,r._byteString)};if(r instanceof Rn){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Fa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Fa(`Unsupported field value: ${gv(r)}`)}(i,n)}function LI(i,n){const r={};return RD(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):lo(i,(s,o)=>{const u=Xh(o,n.Na(s));null!=u&&(r[s]=u)}),{mapValue:{fields:r}}}function VI(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof br||i instanceof HC||i instanceof Bs||i instanceof Rn||i instanceof Bn)}function UI(i,n,r){if(!VI(r)||"object"!=typeof(s=r)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=gv(r);throw n.Fa("an object"===s?i+" a custom object":i+" "+s)}var s}function ef(i,n,r){if((n=(0,Ht.m9)(n))instanceof _c)return n._internalPath;if("string"==typeof n)return BI(i,n);throw jC("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const uR=new RegExp("[~\\*/\\[\\]]");function BI(i,n,r){if(n.search(uR)>=0)throw jC(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new _c(...n.split("."))._internalPath}catch(s){throw jC(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function jC(i,n,r,s,o){const u=s&&!s.isEmpty(),f=void 0!==o;let g=`Function ${n}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${s}`),f&&(v+=` in document ${o}`),v+=")"),new ze(Te.INVALID_ARGUMENT,g+i+v)}function dR(i,n){return i.some(r=>r.isEqual(n))}class zm{constructor(n,r,s,o,u){this._firestore=n,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new hR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(Cv("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class hR extends zm{data(){return super.data()}}function Cv(i,n){return"string"==typeof n?BI(i,n):n instanceof _c?n._internalPath:n._delegate._internalPath}class Yu{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class ol extends zm{constructor(n,r,s,o,u,f){super(n,r,s,o,f),this._firestore=n,this._firestoreImpl=n,this.metadata=u}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const s=this._document.data.field(Cv("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class wv extends ol{data(n={}){return super.data(n)}}class vc{constructor(n,r,s,o){this._firestore=n,this._userDataWriter=r,this._snapshot=o,this.metadata=new Yu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(s=>{n.call(r,new wv(this._firestore,this._userDataWriter,s.key,s,new Yu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ze(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new wv(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Yu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const g=new wv(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Yu(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,C=-1;return 0!==f.type&&(v=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),C=u.indexOf(f.doc.key)),{type:fR(f.type),doc:g,oldIndex:v,newIndex:C}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function fR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function $I(i,n){return i instanceof ol&&n instanceof ol?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof vc&&n instanceof vc&&i._firestore===n._firestore&&BC(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function pR(i){if(kh(i)&&0===i.explicitOrderBy.length)throw new ze(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tv{}function bc(i,...n){for(const r of n)i=r._apply(i);return i}class mR extends Tv{constructor(n,r,s){super(),this.Ka=n,this.ja=r,this.Qa=s,this.type="where"}_apply(n){const r=yc(n.firestore),s=function(o,u,f,g,v,C,T){let S;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on FieldPath.documentId().`);if("in"===C||"not-in"===C){TR(T,C);const k=[];for(const N of T)k.push(zC(g,o,N));S={arrayValue:{values:k}}}else S=zC(g,o,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||TR(T,C),S=Dr(f,"where",T,"in"===C||"not-in"===C);const x=Di.create(v,C,S);return function(k,N){if(N.v()){const F=vy(k);if(null!==F&&!F.isEqual(N.field))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${F.toString()}' and '${N.field.toString()}'`);const z=pm(k);null!==z&&zI(0,N.field,z)}const L=function(F,z){for(const J of F.filters)if(z.indexOf(J.op)>=0)return J.op;return null}(k,function(F){switch(F){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(null!==L)throw new ze(Te.INVALID_ARGUMENT,L===N.op?`Invalid query. You cannot use more than one '${N.op.toString()}' filter.`:`Invalid query. You cannot use '${N.op.toString()}' filters with '${L.toString()}' filters.`)}(o,x),x}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Wr(n.firestore,n.converter,function(o,u){const f=o.filters.concat([u]);return new ra(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,s))}}class _R extends Tv{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(s,o,u){if(null!==s.startAt)throw new ze(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new ze(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Ru(o,u);return function(g,v){if(null===pm(g)){const C=vy(g);null!==C&&zI(0,C,v.field)}}(s,f),f}(n._query,this.Ka,this.Wa);return new Wr(n.firestore,n.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new ra(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(n._query,r))}}class $s extends Tv{constructor(n,r,s){super(),this.type=n,this.Ga=r,this.za=s}_apply(n){return new Wr(n.firestore,n.converter,by(n._query,this.Ga,this.za))}}class HI extends Tv{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=tf(n,this.type,this.Ha,this.Ja);return new Wr(n.firestore,n.converter,(o=r,new ra((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)));var s,o}}class jI extends Tv{constructor(n,r,s){super(),this.type=n,this.Ha=r,this.Ja=s}_apply(n){const r=tf(n,this.type,this.Ha,this.Ja);return new Wr(n.firestore,n.converter,(o=r,new ra((s=n._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)));var s,o}}function tf(i,n,r,s){if(r[0]=(0,Ht.m9)(r[0]),r[0]instanceof zm)return function(o,u,f,g,v){if(!g)throw new ze(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const C=[];for(const T of Nh(o))if(T.field.isKeyField())C.push(fy(u,g.key));else{const S=g.data.field(T.field);if(ND(S))throw new ze(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const x=T.field.canonicalString();throw new ze(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}C.push(S)}return new fm(C,v)}(i._query,i.firestore._databaseId,n,r[0]._document,s);{const o=yc(i.firestore);return function(u,f,g,v,C,T){const S=u.explicitOrderBy;if(C.length>S.length)throw new ze(Te.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let k=0;k<C.length;k++){const N=C[k];if(S[k].field.isKeyField()){if("string"!=typeof N)throw new ze(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof N}`);if(!mm(u)&&-1!==N.indexOf("/"))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${v}() must be a plain document ID, but '${N}' contains a slash.`);const L=u.path.child(an.fromString(N));if(!dt.isDocumentKey(L))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${v}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const F=new dt(L);x.push(fy(f,F))}else{const L=Dr(g,v,N);x.push(L)}}return new fm(x,T)}(i._query,i.firestore._databaseId,o,n,r,s)}}function zC(i,n,r){if("string"==typeof(r=(0,Ht.m9)(r))){if(""===r)throw new ze(Te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!mm(n)&&-1!==r.indexOf("/"))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=n.path.child(an.fromString(r));if(!dt.isDocumentKey(s))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fy(i,new dt(s))}if(r instanceof Rn)return fy(i,r._key);throw new ze(Te.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${gv(r)}.`)}function TR(i,n){if(!Array.isArray(i)||0===i.length)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new ze(Te.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function zI(i,n,r){if(!r.isEqual(n))throw new ze(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class GI{convertValue(n,r="none"){switch(co(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Cr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(dm(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw Je()}}convertObject(n,r){const s={};return lo(n.fields,(o,u)=>{s[o]=this.convertValue(u,r)}),s}convertGeoPoint(n){return new HC(Cr(n.latitude),Cr(n.longitude))}convertArray(n,r){return(n.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(n,r){switch(r){case"previous":const s=zx(n);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ih(n));default:return null}}convertTimestamp(n){const r=nc(n);return new br(r.seconds,r.nanos)}convertDocumentKey(n,r){const s=an.fromString(n);kt(ds(s));const o=new Zu(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return o.isEqual(r)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}function GC(i,n,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,s}class FO extends GI{constructor(n){super(),this.firestore=n}convertBytes(n){return new Bs(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Rn(this.firestore,null,r)}}class Dv{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=yc(n)}set(n,r,s){this._verifyNotCommitted();const o=Ec(n,this._firestore),u=GC(o.converter,r,s),f=aa(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,s);return this._mutations.push(f.toMutation(o._key,or.none())),this}update(n,r,s,...o){this._verifyNotCommitted();const u=Ec(n,this._firestore);let f;return f="string"==typeof(r=(0,Ht.m9)(r))||r instanceof _c?Ev(this._dataReader,"WriteBatch.update",u._key,r,s,o):jm(this._dataReader,"WriteBatch.update",u._key,r),this._mutations.push(f.toMutation(u._key,or.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=Ec(n,this._firestore);return this._mutations=this._mutations.concat(new Ph(r._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ec(i,n){if((i=(0,Ht.m9)(i)).firestore!==n)throw new ze(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ku extends GI{constructor(n){super(),this.firestore=n}convertBytes(n){return new Bs(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new Rn(this.firestore,null,r)}}function MR(i,n,r){i=sn(i,Rn);const s=sn(i.firestore,An),o=GC(i.converter,n,r);return Cc(s,[aa(yc(s),"setDoc",i._key,o,null!==i.converter,r).toMutation(i._key,or.none())])}function qC(i,n,r,...s){i=sn(i,Rn);const o=sn(i.firestore,An),u=yc(o);let f;return f="string"==typeof(n=(0,Ht.m9)(n))||n instanceof _c?Ev(u,"updateDoc",i._key,n,r,s):jm(u,"updateDoc",i._key,n),Cc(o,[f.toMutation(i._key,or.exists(!0))])}function WC(i,...n){var r,s,o;i=(0,Ht.m9)(i);let u={includeMetadataChanges:!1},f=0;"object"!=typeof n[f]||$C(n[f])||(u=n[f],f++);const g={includeMetadataChanges:u.includeMetadataChanges};if($C(n[f])){const S=n[f];n[f]=null===(r=S.next)||void 0===r?void 0:r.bind(S),n[f+1]=null===(s=S.error)||void 0===s?void 0:s.bind(S),n[f+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}let v,C,T;if(i instanceof Rn)C=sn(i.firestore,An),T=Rh(i._key.path),v={next:S=>{n[f]&&n[f](Gm(C,i,S))},error:n[f+1],complete:n[f+2]};else{const S=sn(i,Wr);C=sn(S.firestore,An),T=S._query;const x=new Ku(C);v={next:k=>{n[f]&&n[f](new vc(C,x,S,k))},error:n[f+1],complete:n[f+2]},pR(i._query)}return function(S,x,k,N){const L=new AC(N),F=new yC(x,L,k);return S.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return ov(yield gc(S),F)})),()=>{L.Xo(),S.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return av(yield gc(S),F)}))}}(Tr(C),T,g,v)}function Cc(i,n){return function(r,s){const o=new vr;return r.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(i,n,r){return KS.apply(this,arguments)}(yield NC(r),s,o)})),o.promise}(Tr(i),n)}function Gm(i,n,r){const s=r.docs.get(n._key),o=new Ku(i);return new ol(i,o,n._key,s,new Yu(r.hasPendingWrites,r.fromCache),n.converter)}class ZC extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=yc(n)}get(n){const r=Ec(n,this._firestore),s=new FO(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||1!==o.length)return Je();const u=o[0];if(u.isFoundDocument())return new zm(this._firestore,s,u.key,u,r.converter);if(u.isNoDocument())return new zm(this._firestore,s,r._key,null,r.converter);throw Je()})}set(n,r,s){const o=Ec(n,this._firestore),u=GC(o.converter,r,s),f=aa(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,s);return this._transaction.set(o._key,f),this}update(n,r,s,...o){const u=Ec(n,this._firestore);let f;return f="string"==typeof(r=(0,Ht.m9)(r))||r instanceof _c?Ev(this._dataReader,"Transaction.update",u._key,r,s,o):jm(this._dataReader,"Transaction.update",u._key,r),this._transaction.update(u._key,f),this}delete(n){const r=Ec(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=Ec(n,this._firestore),s=new Ku(this._firestore);return super.get(n).then(o=>new ol(this._firestore,s,r._key,o._document,new Yu(!1,!1),r.converter))}}function qm(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new ze("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function KI(){if("undefined"==typeof Uint8Array)throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function li(){if("undefined"==typeof atob)throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){gt=i})(ch.SDK_VERSION),(0,ch._registerComponent)(new F_.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),s=new An(r,new Ux(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),s._setSettings(n),s},"PUBLIC")),(0,ch.registerVersion)("@firebase/firestore","3.1.0",void 0);class al{constructor(n){this._delegate=n}static fromBase64String(n){return li(),new al(Bs.fromBase64String(n))}static fromUint8Array(n){return KI(),new al(Bs.fromUint8Array(n))}toBase64(){return li(),this._delegate.toBase64()}toUint8Array(){return KI(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nf(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(i)}class Av{enableIndexedDbPersistence(n,r){return function(i,n){oR(i=sn(i,An));const r=Tr(i),s=i._freezeSettings(),o=new Um;return nR(r,o,new G1(o,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){oR(i=sn(i,An));const n=Tr(i),r=i._freezeSettings(),s=new Um;return nR(n,s,new IO(s,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new ze(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new vr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(r=(0,xe.Z)(function*(s){if(!fs.bt())return Promise.resolve();const o=s+"main";yield fs.delete(o)}),function(s){return r.apply(this,arguments)})(ms(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class Mv{constructor(n,r,s){this._delegate=r,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof Zu||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&tc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,s={}){!function(i,n,r,s={}){var o;const u=(i=sn(i,Bm))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==n&&tc("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},u),{host:`${n}:${r}`,ssl:!1})),s.mockUserToken){let f,g;if("string"==typeof s.mockUserToken)f=s.mockUserToken,g=si.MOCK_USER;else{f=(0,Ht.Sg)(s.mockUserToken,null===(o=i._app)||void 0===o?void 0:o.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ze(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new si(v)}i._credentials=new Vx(new dE(f,g))}}(this._delegate,n,r,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,xe.Z)(function*(){const n=yield pv(i),r=yield Wi(i);return n.setNetworkEnabled(!0),function(s){const o=et(s);return o.Kr.delete(0),Pm(o)}(r)}))}(Tr(i=sn(i,An)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,xe.Z)(function*(){const n=yield pv(i),r=yield Wi(i);return n.setNetworkEnabled(!1),(s=(0,xe.Z)(function*(o){const u=et(o);u.Kr.add(0),yield Wh(u),u.Wr.set("Offline")}),function(o){return s.apply(this,arguments)})(r);var s}))}(Tr(i=sn(i,An)))}(this._delegate)}enablePersistence(n){let r=!1,s=!1;return n&&(r=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,Us("synchronizeTabs",r,"experimentalForceOwningTab",s)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new vr;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(i,n){return eI.apply(this,arguments)}(yield NC(n),r)})),r.promise}(Tr(i=sn(i,An)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new AC(n);return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return s=yield gc(i),o=r,et(s).Zr.add(o),void o.next();var s,o})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return s=yield gc(i),o=r,void et(s).Zr.delete(o);var s,o}))}}(Tr(i=sn(i,An)),$C(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new rf(this,DI(this._delegate,n))}catch(r){throw ci(r,"collection()","Firestore.collection()")}}doc(n){try{return new Hs(this,_v(this._delegate,n))}catch(r){throw ci(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Sr(this,function(i,n){if(i=sn(i,Bm),UC("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new ze(Te.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wr(i,null,(r=n,new ra(an.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw ci(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new vr;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const s=yield(o=i,fv(o).then(u=>u.datastore));var o;new MO(i.asyncQueue,s,n,r).run()})),r.promise}(Tr(i),r=>n(new ZC(i,r)))}(this._delegate,r=>n(new JI(this,r)))}batch(){return Tr(this._delegate),new XI(new Dv(this._delegate,n=>Cc(this._delegate,n)))}loadBundle(n){return function(i,n){const r=Tr(i=sn(i,An)),s=new eR;return function(i,n,r,s){const o=function(u,f){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,v=function(v,C){if(v instanceof Uint8Array)return mI(v,C);if(v instanceof ArrayBuffer)return mI(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new AO(v,f);var v}(r,Om(n));i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function(i,n,r){const s=et(i);var o;(o=(0,xe.Z)(function*(u,f,g){try{const v=yield f.getMetadata();if(yield function(x,k){const N=et(x),L=Or(k.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",F=>N.Je.getBundleMetadata(F,k.id)).then(F=>!!F&&F.createTime.compareTo(L)>=0)}(u.localStore,v))return yield f.close(),void g._completeWith((x=v,{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}));g._updateProgress(bC(v));const C=new $S(v,u.localStore,f.N);let T=yield f.Qo();for(;T;){const x=yield C.fo(T);x&&g._updateProgress(x),T=yield f.Qo()}const S=yield C.complete();yield pc(u,S.Tn,void 0),yield function(x,k){const N=et(x);return N.persistence.runTransaction("Save bundle","readwrite",L=>N.Je.saveBundleMetadata(L,k))}(u.localStore,v),g._completeWith(S.progress)}catch(v){tc("SyncEngine",`Loading bundle failed with ${v}`),g._failWith(v)}var x}),function(u,f,g){return o.apply(this,arguments)})(s,n,r).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield NC(i),o,s)}))}(r,i._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,xe.Z)(function*(){return function(r,s){const o=et(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Je.getNamedQuery(u,s))}(yield kC(i),n)}))}(Tr(i=sn(i,An)),n).then(r=>r?new Wr(i,null,r.query):null)}(this._delegate,n).then(r=>r?new Sr(this,r):null)}}class Wm extends GI{constructor(n){super(),this.firestore=n}convertBytes(n){return new al(new Bs(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return Hs.forKey(r,this.firestore,null)}}class JI{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Wm(n)}get(n){const r=Ju(n);return this._delegate.get(r).then(s=>new Zm(this._firestore,new ol(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,r.converter)))}set(n,r,s){const o=Ju(n);return s?(qm("Transaction.set",s),this._delegate.set(o,r,s)):this._delegate.set(o,r),this}update(n,r,s,...o){const u=Ju(n);return 2===arguments.length?this._delegate.update(u,r):this._delegate.update(u,r,s,...o),this}delete(n){const r=Ju(n);return this._delegate.delete(r),this}}class XI{constructor(n){this._delegate=n}set(n,r,s){const o=Ju(n);return s?(qm("WriteBatch.set",s),this._delegate.set(o,r,s)):this._delegate.set(o,r),this}update(n,r,s,...o){const u=Ju(n);return 2===arguments.length?this._delegate.update(u,r):this._delegate.update(u,r,s,...o),this}delete(n){const r=Ju(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Qu{constructor(n,r,s){this._firestore=n,this._userDataWriter=r,this._delegate=s}fromFirestore(n,r){const s=new wv(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new js(this._firestore,s),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const s=Qu.INSTANCES;let o=s.get(n);o||(o=new WeakMap,s.set(n,o));let u=o.get(r);return u||(u=new Qu(n,new Wm(n),r),o.set(r,u)),u}}Qu.INSTANCES=new WeakMap;class Hs{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Wm(n)}static forPath(n,r,s){if(n.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Hs(r,new Rn(r._delegate,s,new dt(n)))}static forKey(n,r,s){return new Hs(r,new Rn(r._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new rf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new rf(this.firestore,DI(this._delegate,n))}catch(r){throw ci(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Ht.m9)(n))instanceof Rn&&X1(this._delegate,n)}set(n,r){r=qm("DocumentReference.set",r);try{return r?MR(this._delegate,n,r):MR(this._delegate,n)}catch(s){throw ci(s,"setDoc()","DocumentReference.set()")}}update(n,r,...s){try{return 1===arguments.length?qC(this._delegate,n):qC(this._delegate,n,r,...s)}catch(o){throw ci(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return Cc(sn(i.firestore,An),[new Ph(i._key,or.none())])}(this._delegate)}onSnapshot(...n){const r=eA(n),s=tA(n,o=>new Zm(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return WC(this._delegate,r,s)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=sn(i,Rn);const n=sn(i.firestore,An),r=Tr(n),s=new Ku(n);return function(i,n){const r=new vr;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(s=(0,xe.Z)(function*(o,u,f){try{const g=yield function(v,C){const T=et(v);return T.persistence.runTransaction("read document","readonly",S=>T.Qn.An(S,C))}(o,u);g.isFoundDocument()?f.resolve(g):g.isNoDocument()?f.resolve(null):f.reject(new ze(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const v=hc(g,`Failed to get document '${u} from cache`);f.reject(v)}}),function(o,u,f){return s.apply(this,arguments)})(yield kC(i),n,r);var s})),r.promise}(r,i._key).then(o=>new ol(n,s,i._key,o,new Yu(null!==o&&o.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=sn(i,Rn);const n=sn(i.firestore,An);return FC(Tr(n),i._key,{source:"server"}).then(r=>Gm(n,i,r))}(this._delegate):function(i){i=sn(i,Rn);const n=sn(i.firestore,An);return FC(Tr(n),i._key).then(r=>Gm(n,i,r))}(this._delegate),r.then(s=>new Zm(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new Hs(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}function ci(i,n,r){return i.message=i.message.replace(n,r),i}function eA(i){for(const n of i)if("object"==typeof n&&!nf(n))return n;return{}}function tA(i,n){var r,s;let o;return o=nf(i[0])?i[0]:nf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:u=>{o.next&&o.next(n(u))},error:null===(r=o.error)||void 0===r?void 0:r.bind(o),complete:null===(s=o.complete)||void 0===s?void 0:s.bind(o)}}class Zm{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new Hs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return $I(this._delegate,n._delegate)}}class js extends Zm{data(n){const r=this._delegate.data(n);return function(i,n){i||Je()}(void 0!==r),r}}class Sr{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Wm(n)}where(n,r,s){try{return new Sr(this.firestore,bc(this._delegate,function(i,n,r){const s=n,o=Cv("where",i);return new mR(o,s,r)}(n,r,s)))}catch(o){throw ci(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new Sr(this.firestore,bc(this._delegate,function(i,n="asc"){const r=n,s=Cv("orderBy",i);return new _R(s,r)}(n,r)))}catch(s){throw ci(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Sr(this.firestore,bc(this._delegate,function(i){return wI("limit",i),new $s("limit",i,"F")}(n)))}catch(r){throw ci(r,"limit()","Query.limit()")}}limitToLast(n){try{return new Sr(this.firestore,bc(this._delegate,function(i){return wI("limitToLast",i),new $s("limitToLast",i,"L")}(n)))}catch(r){throw ci(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Sr(this.firestore,bc(this._delegate,function(...i){return new HI("startAt",i,!0)}(...n)))}catch(r){throw ci(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Sr(this.firestore,bc(this._delegate,function(...i){return new HI("startAfter",i,!1)}(...n)))}catch(r){throw ci(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Sr(this.firestore,bc(this._delegate,function(...i){return new jI("endBefore",i,!0)}(...n)))}catch(r){throw ci(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Sr(this.firestore,bc(this._delegate,function(...i){return new jI("endAt",i,!1)}(...n)))}catch(r){throw ci(r,"endAt()","Query.endAt()")}}isEqual(n){return BC(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=sn(i,Wr);const n=sn(i.firestore,An),r=Tr(n),s=new Ku(n);return function(i,n){const r=new vr;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(s=(0,xe.Z)(function*(o,u,f){try{const g=yield zy(o,u,!0),v=new zS(u,g.Gn),C=v.Io(g.documents),T=v.applyChanges(C,!1);f.resolve(T.snapshot)}catch(g){const v=hc(g,`Failed to execute query '${u} against cache`);f.reject(v)}}),function(o,u,f){return s.apply(this,arguments)})(yield kC(i),n,r);var s})),r.promise}(r,i._query).then(o=>new vc(n,s,i,o))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=sn(i,Wr);const n=sn(i.firestore,An),r=Tr(n),s=new Ku(n);return LC(r,i._query,{source:"server"}).then(o=>new vc(n,s,i,o))}(this._delegate):function(i){i=sn(i,Wr);const n=sn(i.firestore,An),r=Tr(n),s=new Ku(n);return pR(i._query),LC(r,i._query).then(o=>new vc(n,s,i,o))}(this._delegate),r.then(s=>new KC(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const r=eA(n),s=tA(n,o=>new KC(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return WC(this._delegate,r,s)}withConverter(n){return new Sr(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}class YC{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new js(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KC{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new Sr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new js(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new YC(this._firestore,r))}forEach(n,r){this._delegate.forEach(s=>{n.call(r,new js(this._firestore,s))})}isEqual(n){return $I(this._delegate,n._delegate)}}class rf extends Sr{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Hs(this.firestore,n):null}doc(n){try{return new Hs(this.firestore,void 0===n?_v(this._delegate):_v(this._delegate,n))}catch(r){throw ci(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=sn(i.firestore,An),s=_v(i),o=GC(i.converter,n);return Cc(r,[aa(yc(i.firestore),"addDoc",s._key,o,null!==i.converter,{}).toMutation(s._key,or.exists(!1))]).then(()=>s)}(this._delegate,n).then(r=>new Hs(this.firestore,r))}isEqual(n){return X1(this._delegate,n._delegate)}withConverter(n){return new rf(this.firestore,this._delegate.withConverter(n?Qu.getInstance(this.firestore,n):null))}}function Ju(i){return sn(i,Rn)}class Ym{constructor(...n){this._delegate=new _c(...n)}static documentId(){return new Ym(Nr.keyField().canonicalString())}isEqual(n){return(n=(0,Ht.m9)(n))instanceof _c&&this._delegate._internalPath.isEqual(n._internalPath)}}class Xu{constructor(n){this._delegate=n}static serverTimestamp(){const n=new Hm("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new Xu(n)}static delete(){const n=new Jh("deleteField");return n._methodName="FieldValue.delete",new Xu(n)}static arrayUnion(...n){const r=function(...i){return new lR("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new Xu(r)}static arrayRemove(...n){const r=function(...i){return new bv("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new Xu(r)}static increment(n){const r=function(i){return new cR("increment",i)}(n);return r._methodName="FieldValue.increment",new Xu(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const nA={Firestore:Mv,GeoPoint:HC,Timestamp:br,Blob:al,Transaction:JI,WriteBatch:XI,DocumentReference:Hs,DocumentSnapshot:Zm,Query:Sr,QueryDocumentSnapshot:js,QuerySnapshot:KC,CollectionReference:rf,FieldPath:Ym,FieldValue:Xu,setLogLevel:function(i){!function(i){ec.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new F_.wA("firestore-compat",r=>((n,r)=>new Mv(n,r,new Av))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},nA)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(LT.Z);var iA=j(6682),Km=j(6136),ll=j(7771),Qm=j(8858);class sf extends Xt.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new Rv(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,s=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=s.length;let f;if(this.closed)throw new Ad.N;if(this.isStopped||this.hasError?f=qf.w.EMPTY:(this.observers.push(n),f=new Qm.W(this,n)),o&&n.add(n=new Km.ht(n,o)),r)for(let g=0;g<u&&!n.closed;g++)n.next(s[g]);else for(let g=0;g<u&&!n.closed;g++)n.next(s[g].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),f}_getNow(){return(this.scheduler||ll.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,s=this._windowTime,o=this._events,u=o.length;let f=0;for(;f<u&&!(n-o[f].time<s);)f++;return u>r&&(f=Math.max(f,u-r)),f>0&&o.splice(0,f),o}}class Rv{constructor(n,r){this.time=n,this.value=r}}function wc(i,n,r){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},o=>o.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:s}){let o,f,u=0,g=!1,v=!1;return function(T){let S;u++,!o||g?(g=!1,o=new sf(i,n,s),S=o.subscribe(this),f=T.subscribe({next(x){o.next(x)},error(x){g=!0,o.error(x)},complete(){v=!0,f=void 0,o.complete()}}),v&&(f=void 0)):S=o.subscribe(this),this.add(()=>{u--,S.unsubscribe(),S=void 0,f&&!v&&r&&0===u&&(f.unsubscribe(),f=void 0,o=void 0)})}}(s))}function sA(i,n){return n?rr(()=>i,n):rr(()=>i)}var QC=j(9673),kv=j(7841);const JC=new h.OlP("angularfire2.auth.use-emulator"),XC=new h.OlP("angularfire2.auth.settings"),Nv=new h.OlP("angularfire2.auth.tenant-id"),aA=new h.OlP("angularfire2.auth.langugage-code"),lA=new h.OlP("angularfire2.auth.use-device-language"),ew=new h.OlP("angularfire.auth.persistence"),Tc=(i,n,r,s,o,u,f,g)=>(0,Sn.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const v=n.runOutsideAngular(()=>i.auth());if(r&&v.useEmulator(...r),s&&(v.tenantId=s),v.languageCode=o,u&&v.useDeviceLanguage(),f)for(const[C,T]of Object.entries(f))v.settings[C]=T;return g&&v.setPersistence(g),v},[r,s,o,u,f,g]);let Jm=(()=>{class i{constructor(r,s,o,u,f,g,v,C,T,S,x){const k=new Xt.xQ,N=(0,it.of)(void 0).pipe((0,Km.QV)(f.outsideAngular),rr(()=>u.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,5128)))),(0,Dt.U)(()=>(0,as.on)(r,u,s)),(0,Dt.U)(L=>Tc(L,u,g,C,T,S,v,x)),wc({bufferSize:1,refCount:!1}));if(pd(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{N.pipe(jn()).subscribe();const F=N.pipe(rr(K=>K.getRedirectResult().then(ie=>ie,()=>null)),Sn.iC,wc({bufferSize:1,refCount:!1})),z=N.pipe(rr(K=>new Tn.y(ie=>({unsubscribe:u.runOutsideAngular(()=>K.onAuthStateChanged(ke=>ie.next(ke),ke=>ie.error(ke),()=>ie.complete()))})))),J=N.pipe(rr(K=>new Tn.y(ie=>({unsubscribe:u.runOutsideAngular(()=>K.onIdTokenChanged(ke=>ie.next(ke),ke=>ie.error(ke),()=>ie.complete()))}))));this.authState=F.pipe(sA(z),(0,QC.R)(f.outsideAngular),(0,Km.QV)(f.insideAngular)),this.user=F.pipe(sA(J),(0,QC.R)(f.outsideAngular),(0,Km.QV)(f.insideAngular)),this.idToken=this.user.pipe(rr(K=>K?(0,cn.D)(K.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(rr(K=>K?(0,cn.D)(K.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,iA.T)(F,k,this.authState.pipe(Bi(K=>!K))).pipe((0,Dt.U)(K=>(null==K?void 0:K.user)?K:null),(0,QC.R)(f.outsideAngular),(0,Km.QV)(f.insideAngular))}return(0,as.pX)(this,N,u,{spy:{apply:(L,F,z)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&z.then(J=>k.next(J))}}})}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(as.Dh),h.LFG(as.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Sn.HU),h.LFG(JC,8),h.LFG(XC,8),h.LFG(Nv,8),h.LFG(aA,8),h.LFG(lA,8),h.LFG(ew,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),UR=(()=>{class i{constructor(){kv.Z.registerVersion("angularfire",Sn.q4.full,"auth-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[Jm]}),i})();function $R(i,n){return function(i,n=Np.z){return new Tn.y(r=>{let s;return null!=n?n.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},r)}):s=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=s&&s()}})}(i,n)}function cA(i,n){return $R(i,n).pipe((0,Dt.U)(r=>({payload:r,type:"query"})))}function tw(i,n){return cA(i,n).pipe(Ds(void 0),P_(),(0,Dt.U)(([r,s])=>{const o=s.payload.docChanges(),u=o.map(f=>({type:f.type,payload:f}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,g)=>{const v=o.find(T=>T.doc.ref.isEqual(f.ref)),C=null==r?void 0:r.payload.docs.find(T=>T.ref.isEqual(f.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(f.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:f}})}),u}))}function uA(i,n,r){return tw(i,r).pipe(xd((s,o)=>function(i,n,r){return n.forEach(s=>{r.indexOf(s.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return dA(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return dA(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return dA(i,n.oldIndex,1)}return i}(i,s))}),i}(s,o.map(u=>u.payload),n),[]),Pp(),(0,Dt.U)(s=>s.map(o=>({type:o.type,payload:o}))))}function dA(i,n,r,...s){const o=i.slice();return o.splice(n,r,...s),o}function jR(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class zR{constructor(n,r,s){this.ref=n,this.query=r,this.afs=s}stateChanges(n){let r=tw(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,Dt.U)(s=>s.filter(o=>n.indexOf(o.type)>-1)))),r.pipe(Ds(void 0),P_(),Bi(([s,o])=>o.length>0||!s),(0,Dt.U)(([s,o])=>o),Sn.iC)}auditTrail(n){return this.stateChanges(n).pipe(xd((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=jR(n);return uA(this.query,r,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(n={}){return cA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(s=>n.idField?Object.assign(Object.assign({},s.data()),{[n.idField]:s.id}):s.data())),Sn.iC)}get(n){return(0,cn.D)(this.query.get(n)).pipe(Sn.iC)}add(n){return this.ref.add(n)}doc(n){return new hA(this.ref.doc(n),this.afs)}}class hA{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const s=this.ref.collection(n),{ref:o,query:u}=l(s,r);return new zR(o,u,this.afs)}snapshotChanges(){return function(i,n){return $R(i,n).pipe(Ds(void 0),P_(),(0,Dt.U)(([r,s])=>s.exists?(null==r?void 0:r.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,cn.D)(this.ref.get(n)).pipe(Sn.iC)}}class BO{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?tw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.filter(s=>n.indexOf(s.type)>-1)),Bi(r=>r.length>0),Sn.iC):tw(this.query,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}auditTrail(n){return this.stateChanges(n).pipe(xd((r,s)=>[...r,...s],[]))}snapshotChanges(n){const r=jR(n);return uA(this.query,r,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(n={}){return cA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(s=>s.payload.docs.map(o=>n.idField?Object.assign({[n.idField]:o.id},o.data()):o.data())),Sn.iC)}get(n){return(0,cn.D)(this.query.get(n)).pipe(Sn.iC)}}const GR=new h.OlP("angularfire2.enableFirestorePersistence"),qR=new h.OlP("angularfire2.firestore.persistenceSettings"),$O=new h.OlP("angularfire2.firestore.settings"),a=new h.OlP("angularfire2.firestore.use-emulator");function l(i,n=(r=>r)){return{query:n(i),ref:i}}let WR,c=(()=>{class i{constructor(r,s,o,u,f,g,v,C,T,S,x,k,N,L,F,z){this.schedulers=v;const J=(0,as.on)(r,g,s),K=T;S&&Tc(J,g,x,N,L,F,k,z),[this.firestore,this.persistenceEnabled$]=(0,Sn.cc)(`${J.name}.firestore`,"AngularFirestore",J.name,()=>{const ie=g.runOutsideAngular(()=>J.firestore());if(u&&ie.settings(u),K&&ie.useEmulator(...K),o&&!pd(f)){const ke=()=>{try{return(0,cn.D)(ie.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Fe){return"undefined"!=typeof console&&console.warn(Fe),(0,it.of)(!1)}};return[ie,g.runOutsideAngular(ke)]}return[ie,(0,it.of)(!1)]},[u,K,o])}collection(r,s){let o;o="string"==typeof r?this.firestore.collection(r):r;const{ref:u,query:f}=l(o,s),g=this.schedulers.ngZone.run(()=>u);return new zR(g,f,this)}collectionGroup(r,s){const o=s||(f=>f),u=this.firestore.collectionGroup(r);return new BO(o(u),this)}doc(r){let s;s="string"==typeof r?this.firestore.doc(r):r;const o=this.schedulers.ngZone.run(()=>s);return new hA(o,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(as.Dh),h.LFG(as.xv,8),h.LFG(GR,8),h.LFG($O,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Sn.HU),h.LFG(qR,8),h.LFG(a,8),h.LFG(Jm,8),h.LFG(JC,8),h.LFG(XC,8),h.LFG(Nv,8),h.LFG(aA,8),h.LFG(lA,8),h.LFG(ew,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),d=(()=>{class i{constructor(){kv.Z.registerVersion("angularfire",Sn.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:GR,useValue:!0},{provide:qR,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[c]}),i})(),m=(()=>{class i{constructor(r){this.firestore=r}addEmployee(r){return this.firestore.collection("empleados").add(r)}getEmployees(){return this.firestore.collection("empleados",r=>r.orderBy("creationDate","asc")).snapshotChanges()}deleteEmployees(r){return this.firestore.collection("empleados").doc(r).delete()}getEmployee(r){return this.firestore.collection("empleados").doc(r).snapshotChanges()}updateEmployee(r,s){return this.firestore.collection("empleados").doc(r).update(s)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(c))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class w2{constructor(n){this.total=n}call(n,r){return r.subscribe(new T2(n,this.total))}}class T2 extends Xr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){++this.count>this.total&&this.destination.next(n)}}function la(i){return n=>n.lift(new D2(i))}class D2{constructor(n){this.notifier=n}call(n,r){const s=new S2(n),o=(0,Ui.ft)(this.notifier,new Ui.IY(s));return o&&!s.seenValue?(s.add(o),r.subscribe(s)):s}}class S2 extends Ui.Ds{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ai(i){return null!=i&&"false"!=`${i}`}function Dc(i,n=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}function ed(i){return i instanceof h.SBq?i.nativeElement:i}try{WR="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){WR=!1}let Pv,er=(()=>{class i{constructor(r){this._platformId=r,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WR)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.Lbi))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(h.Lbi))},token:i,providedIn:"root"}),i})(),nw=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();const HO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function jO(){if(Pv)return Pv;if("object"!=typeof document||!document)return Pv=new Set(HO),Pv;let i=document.createElement("input");return Pv=new Set(HO.filter(n=>(i.setAttribute("type",n),i.type===n))),Pv}let rw,ZR;function yA(i){return function(){if(null==rw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rw=!0}))}finally{rw=rw||!1}return rw}()?i:!!i.capture}function zO(i){if(function(){if(null==ZR){const i="undefined"!=typeof document?document.head:null;ZR=!(!i||!i.createShadowRoot&&!i.attachShadow)}return ZR}()){const n=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function sw(i){return i.composedPath?i.composedPath()[0]:i.target}const af="undefined"!=typeof window?window:{};function GO(i,n=Np.P){return r=>r.lift(new N2(i,n))}class N2{constructor(n,r){this.dueTime=n,this.scheduler=r}call(n,r){return r.subscribe(new O2(n,this.dueTime,this.scheduler))}}class O2 extends Xr.L{constructor(n,r,s){super(n),this.dueTime=r,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(P2,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:n}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}}clearDebounce(){const n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)}}function P2(i){i.debouncedNext()}let YR=(()=>{class i{create(r){return"undefined"==typeof MutationObserver?null:new MutationObserver(r)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=h.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),qO=(()=>{class i{constructor(r){this._mutationObserverFactory=r,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((r,s)=>this._cleanupObserver(s))}observe(r){const s=ed(r);return new Tn.y(o=>{const f=this._observeElement(s).subscribe(o);return()=>{f.unsubscribe(),this._unobserveElement(s)}})}_observeElement(r){if(this._observedElements.has(r))this._observedElements.get(r).count++;else{const s=new Xt.xQ,o=this._mutationObserverFactory.create(u=>s.next(u));o&&o.observe(r,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(r,{observer:o,stream:s,count:1})}return this._observedElements.get(r).stream}_unobserveElement(r){this._observedElements.has(r)&&(this._observedElements.get(r).count--,this._observedElements.get(r).count||this._cleanupObserver(r))}_cleanupObserver(r){if(this._observedElements.has(r)){const{observer:s,stream:o}=this._observedElements.get(r);s&&s.disconnect(),o.complete(),this._observedElements.delete(r)}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(YR))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(YR))},token:i,providedIn:"root"}),i})(),F2=(()=>{class i{constructor(r,s,o){this._contentObserver=r,this._elementRef=s,this._ngZone=o,this.event=new h.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(r){this._disabled=Ai(r),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(r){this._debounce=Dc(r),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const r=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?r.pipe(GO(this.debounce)):r).subscribe(this.event)})}_unsubscribe(){var r;null===(r=this._currentSubscription)||void 0===r||r.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(qO),h.Y36(h.SBq),h.Y36(h.R0b))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),WO=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[YR]}),i})();function XO(i){return 0===i.offsetX&&0===i.offsetY}function eP(i){const n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}"undefined"!=typeof Element&&Element;const tP=new h.OlP("cdk-input-modality-detector-options"),tV={ignoreKeys:[18,17,224,91,16]},Fv=yA({passive:!0,capture:!0});let rP=(()=>{class i{constructor(r,s,o,u){this._platform=r,this._mostRecentTarget=null,this._modality=new Jr(null),this._lastTouchMs=0,this._onKeydown=f=>{var g,v;(null===(v=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===v?void 0:v.some(C=>C===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=sw(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(XO(f)?"keyboard":"mouse"),this._mostRecentTarget=sw(f))},this._onTouchstart=f=>{eP(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sw(f))},this._options=Object.assign(Object.assign({},tV),u),this.modalityDetected=this._modality.pipe(n=>n.lift(new w2(1))),this.modalityChanged=this.modalityDetected.pipe(Pp()),r.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Fv),o.addEventListener("mousedown",this._onMousedown,Fv),o.addEventListener("touchstart",this._onTouchstart,Fv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Fv),document.removeEventListener("mousedown",this._onMousedown,Fv),document.removeEventListener("touchstart",this._onTouchstart,Fv))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(er),h.LFG(h.R0b),h.LFG(pe),h.LFG(tP,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(er),h.LFG(h.R0b),h.LFG(pe),h.LFG(tP,8))},token:i,providedIn:"root"}),i})();const oP=new h.OlP("cdk-focus-monitor-default-options"),bA=yA({passive:!0,capture:!0});let KR=(()=>{class i{constructor(r,s,o,u,f){this._ngZone=r,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xt.xQ,this._rootNodeFocusAndBlurListener=g=>{const v=sw(g),C="focus"===g.type?this._onFocus:this._onBlur;for(let T=v;T;T=T.parentElement)C.call(this,g,T)},this._document=u,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(r,s=!1){const o=ed(r);if(!this._platform.isBrowser||1!==o.nodeType)return(0,it.of)(null);const u=zO(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return s&&(f.checkChildren=!0),f.subject;const g={checkChildren:s,subject:new Xt.xQ,rootNode:u};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(r){const s=ed(r),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(r,s,o){const u=ed(r);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([g,v])=>this._originChanged(g,s,v)):(this._setOrigin(s),"function"==typeof u.focus&&u.focus(o))}ngOnDestroy(){this._elementInfo.forEach((r,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(r,s,o){o?r.classList.add(s):r.classList.remove(s)}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(r){return 1===this._detectionMode||!!(null==r?void 0:r.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(r,s){this._toggleClass(r,"cdk-focused",!!s),this._toggleClass(r,"cdk-touch-focused","touch"===s),this._toggleClass(r,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(r,"cdk-mouse-focused","mouse"===s),this._toggleClass(r,"cdk-program-focused","program"===s)}_setOrigin(r,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=r,this._originFromTouchInteraction="touch"===r&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(r,s){const o=this._elementInfo.get(s),u=sw(r);!o||!o.checkChildren&&s!==u||this._originChanged(s,this._getFocusOrigin(u),o)}_onBlur(r,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&r.relatedTarget instanceof Node&&s.contains(r.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(r,s){this._ngZone.run(()=>r.next(s))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;const s=r.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,bA),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,bA)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(la(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(r){const s=r.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bA),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bA),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,s,o){this._setClasses(r,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(r){const s=[];return this._elementInfo.forEach((o,u)=>{(u===r||o.checkChildren&&u.contains(r))&&s.push([u,o])}),s}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.R0b),h.LFG(er),h.LFG(rP),h.LFG(pe,8),h.LFG(oP,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(h.R0b),h.LFG(er),h.LFG(rP),h.LFG(pe,8),h.LFG(oP,8))},token:i,providedIn:"root"}),i})();const aP="cdk-high-contrast-black-on-white",lP="cdk-high-contrast-white-on-black",QR="cdk-high-contrast-active";let cP=(()=>{class i{constructor(r,s){this._platform=r,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(r):null,u=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(r),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const r=this._document.body.classList;r.remove(QR),r.remove(aP),r.remove(lP),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(r.add(QR),r.add(aP)):2===s&&(r.add(QR),r.add(lP))}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(er),h.LFG(pe))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(er),h.LFG(pe))},token:i,providedIn:"root"}),i})();const uP=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,h.f3M)(pe)}});let ow=(()=>{class i{constructor(r){if(this.value="ltr",this.change=new h.vpe,r){const o=r.documentElement?r.documentElement.dir:null,u=(r.body?r.body.dir:null)||o;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(uP,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(uP,8))},token:i,providedIn:"root"}),i})(),EA=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})();const dP=new h.GfV("12.2.8");class hP{}const td="*";function oV(i,n){return{type:7,name:i,definitions:n,options:{}}}function aV(i,n=null){return{type:4,styles:n,timings:i}}function fP(i,n=null){return{type:2,steps:i,options:n}}function CA(i){return{type:6,styles:i,offset:null}}function lV(i,n,r){return{type:0,name:i,styles:n,options:r}}function cV(i,n,r=null){return{type:1,expr:i,animation:n,options:r}}function pP(i){Promise.resolve(null).then(i)}class Lv{constructor(n=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pP(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class mP{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let r=0,s=0,o=0;const u=this.players.length;0==u?pP(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++r==u&&this._onFinish()}),f.onDestroy(()=>{++s==u&&this._onDestroy()}),f.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((f,g)=>Math.max(f,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const r=n*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,r/s.totalTime):1;s.setPosition(o)})}getPosition(){const n=this.players.reduce((r,s)=>null===r||s.totalTime>r.totalTime?s:r,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}function gP(){return"undefined"!=typeof window&&void 0!==window.document}function XR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function lf(i){switch(i.length){case 0:return new Lv;case 1:return i[0];default:return new mP(i)}}function _P(i,n,r,s,o={},u={}){const f=[],g=[];let v=-1,C=null;if(s.forEach(T=>{const S=T.offset,x=S==v,k=x&&C||{};Object.keys(T).forEach(N=>{let L=N,F=T[N];if("offset"!==N)switch(L=n.normalizePropertyName(L,f),F){case"!":F=o[N];break;case td:F=u[N];break;default:F=n.normalizeStyleValue(N,L,F,f)}k[L]=F}),x||g.push(k),C=k,v=S}),f.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${f.join(T)}`)}return g}function ek(i,n,r,s){switch(n){case"start":i.onStart(()=>s(r&&tk(r,"start",i)));break;case"done":i.onDone(()=>s(r&&tk(r,"done",i)));break;case"destroy":i.onDestroy(()=>s(r&&tk(r,"destroy",i)))}}function tk(i,n,r){const s=r.totalTime,u=nk(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,null==s?i.totalTime:s,!!r.disabled),f=i._data;return null!=f&&(u._data=f),u}function nk(i,n,r,s,o="",u=0,f){return{element:i,triggerName:n,fromState:r,toState:s,phaseName:o,totalTime:u,disabled:!!f}}function bo(i,n,r){let s;return i instanceof Map?(s=i.get(n),s||i.set(n,s=r)):(s=i[n],s||(s=i[n]=r)),s}function yP(i){const n=i.indexOf(":");return[i.substring(1,n),i.substr(n+1)]}let rk=(i,n)=>!1,ik=(i,n)=>!1,vP=(i,n,r)=>[];const bP=XR();(bP||"undefined"!=typeof Element)&&(rk=gP()?(i,n)=>{for(;n&&n!==document.documentElement;){if(n===i)return!0;n=n.parentNode||n.host}return!1}:(i,n)=>i.contains(n),ik=(()=>{if(bP||Element.prototype.matches)return(i,n)=>i.matches(n);{const i=Element.prototype,n=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return n?(r,s)=>n.apply(r,[s]):ik}})(),vP=(i,n,r)=>{let s=[];if(r){const o=i.querySelectorAll(n);for(let u=0;u<o.length;u++)s.push(o[u])}else{const o=i.querySelector(n);o&&s.push(o)}return s});let rg=null,EP=!1;function sk(i){rg||(rg=("undefined"!=typeof document?document.body:null)||{},EP=!!rg.style&&"WebkitAppearance"in rg.style);let n=!0;return rg.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in rg.style,!n&&EP&&(n="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in rg.style)),n}const ok=ik,ak=rk,lk=vP;function CP(i){const n={};return Object.keys(i).forEach(r=>{const s=r.replace(/([a-z])([A-Z])/g,"$1-$2");n[s]=i[r]}),n}let wP=(()=>{class i{validateStyleProperty(r){return sk(r)}matchesElement(r,s){return ok(r,s)}containsElement(r,s){return ak(r,s)}query(r,s,o){return lk(r,s,o)}computeStyle(r,s,o){return o||""}animate(r,s,o,u,f,g=[],v){return new Lv(o,u)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),ck=(()=>{class i{}return i.NOOP=new wP,i})();const uk="ng-enter",wA="ng-leave",TA="ng-trigger",DA=".ng-trigger",DP="ng-animating",dk=".ng-animating";function ig(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:hk(parseFloat(n[1]),n[2])}function hk(i,n){switch(n){case"s":return 1e3*i;default:return i}}function SA(i,n,r){return i.hasOwnProperty("duration")?i:function(i,n,r){let o,u=0,f="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return n.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};o=hk(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(u=hk(parseFloat(v),g[4]));const C=g[5];C&&(f=C)}else o=i;if(!r){let g=!1,v=n.length;o<0&&(n.push("Duration values below 0 are not allowed for this animation step."),g=!0),u<0&&(n.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&n.splice(v,0,`The provided timing value "${i}" is invalid.`)}return{duration:o,delay:u,easing:f}}(i,n,r)}function Vv(i,n={}){return Object.keys(i).forEach(r=>{n[r]=i[r]}),n}function cf(i,n,r={}){if(n)for(let s in i)r[s]=i[s];else Vv(i,r);return r}function IP(i,n,r){return r?n+":"+r+";":""}function AP(i){let n="";for(let r=0;r<i.style.length;r++){const s=i.style.item(r);n+=IP(0,s,i.style.getPropertyValue(s))}for(const r in i.style)i.style.hasOwnProperty(r)&&!r.startsWith("_")&&(n+=IP(0,_V(r),i.style[r]));i.setAttribute("style",n)}function Sc(i,n,r){i.style&&(Object.keys(n).forEach(s=>{const o=pk(s);r&&!r.hasOwnProperty(s)&&(r[s]=i.style[o]),i.style[o]=n[s]}),XR()&&AP(i))}function sg(i,n){i.style&&(Object.keys(n).forEach(r=>{const s=pk(r);i.style[s]=""}),XR()&&AP(i))}function aw(i){return Array.isArray(i)?1==i.length?i[0]:fP(i):i}const fk=new RegExp("{{\\s*(.+?)\\s*}}","g");function MP(i){let n=[];if("string"==typeof i){let r;for(;r=fk.exec(i);)n.push(r[1]);fk.lastIndex=0}return n}function IA(i,n,r){const s=i.toString(),o=s.replace(fk,(u,f)=>{let g=n[f];return n.hasOwnProperty(f)||(r.push(`Please provide a value for the animation param ${f}`),g=""),g.toString()});return o==s?i:o}function AA(i){const n=[];let r=i.next();for(;!r.done;)n.push(r.value),r=i.next();return n}const gV=/-+([a-z0-9])/g;function pk(i){return i.replace(gV,(...n)=>n[1].toUpperCase())}function _V(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xP(i,n){return 0===i||0===n}function RP(i,n,r){const s=Object.keys(r);if(s.length&&n.length){let u=n[0],f=[];if(s.forEach(g=>{u.hasOwnProperty(g)||f.push(g),u[g]=r[g]}),f.length)for(var o=1;o<n.length;o++){let g=n[o];f.forEach(function(v){g[v]=mk(i,v)})}}return n}function Eo(i,n,r){switch(n.type){case 7:return i.visitTrigger(n,r);case 0:return i.visitState(n,r);case 1:return i.visitTransition(n,r);case 2:return i.visitSequence(n,r);case 3:return i.visitGroup(n,r);case 4:return i.visitAnimate(n,r);case 5:return i.visitKeyframes(n,r);case 6:return i.visitStyle(n,r);case 8:return i.visitReference(n,r);case 9:return i.visitAnimateChild(n,r);case 10:return i.visitAnimateRef(n,r);case 11:return i.visitQuery(n,r);case 12:return i.visitStagger(n,r);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function mk(i,n){return window.getComputedStyle(i)[n]}function yV(i,n){const r=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(s=>function(i,n,r){if(":"==i[0]){const v=function(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,s)=>parseFloat(s)>parseFloat(r);case":decrement":return(r,s)=>parseFloat(s)<parseFloat(r);default:return n.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,r);if("function"==typeof v)return void n.push(v);i=v}const s=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return r.push(`The provided transition expression "${i}" is not supported`),n;const o=s[1],u=s[2],f=s[3];n.push(kP(o,f));"<"==u[0]&&!("*"==o&&"*"==f)&&n.push(kP(f,o))}(s,r,n)):r.push(i),r}const xA=new Set(["true","1"]),RA=new Set(["false","0"]);function kP(i,n){const r=xA.has(i)||RA.has(i),s=xA.has(n)||RA.has(n);return(o,u)=>{let f="*"==i||i==o,g="*"==n||n==u;return!f&&r&&"boolean"==typeof o&&(f=o?xA.has(i):RA.has(i)),!g&&s&&"boolean"==typeof u&&(g=u?xA.has(n):RA.has(n)),f&&g}}const EV=new RegExp("s*:selfs*,?","g");function gk(i,n,r){return new CV(i).build(n,r)}class CV{constructor(n){this._driver=n}build(n,r){const s=new DV(r);return this._resetContextStyleTimingState(s),Eo(this,aw(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,r){let s=r.queryCount=0,o=r.depCount=0;const u=[],f=[];return"@"==n.name.charAt(0)&&r.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(g=>{if(this._resetContextStyleTimingState(r),0==g.type){const v=g,C=v.name;C.toString().split(/\s*,\s*/).forEach(T=>{v.name=T,u.push(this.visitState(v,r))}),v.name=C}else if(1==g.type){const v=this.visitTransition(g,r);s+=v.queryCount,o+=v.depCount,f.push(v)}else r.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:u,transitions:f,queryCount:s,depCount:o,options:null}}visitState(n,r){const s=this.visitStyle(n.styles,r),o=n.options&&n.options.params||null;if(s.containsDynamicStyles){const u=new Set,f=o||{};if(s.styles.forEach(g=>{if(kA(g)){const v=g;Object.keys(v).forEach(C=>{MP(v[C]).forEach(T=>{f.hasOwnProperty(T)||u.add(T)})})}}),u.size){const g=AA(u.values());r.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:n.name,style:s,options:o?{params:o}:null}}visitTransition(n,r){r.queryCount=0,r.depCount=0;const s=Eo(this,aw(n.animation),r);return{type:1,matchers:yV(n.expr,r.errors),animation:s,queryCount:r.queryCount,depCount:r.depCount,options:og(n.options)}}visitSequence(n,r){return{type:2,steps:n.steps.map(s=>Eo(this,s,r)),options:og(n.options)}}visitGroup(n,r){const s=r.currentTime;let o=0;const u=n.steps.map(f=>{r.currentTime=s;const g=Eo(this,f,r);return o=Math.max(o,r.currentTime),g});return r.currentTime=o,{type:3,steps:u,options:og(n.options)}}visitAnimate(n,r){const s=function(i,n){let r=null;if(i.hasOwnProperty("duration"))r=i;else if("number"==typeof i)return _k(SA(i,n).duration,0,"");const s=i;if(s.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=_k(0,0,"");return u.dynamic=!0,u.strValue=s,u}return r=r||SA(s,n),_k(r.duration,r.delay,r.easing)}(n.timings,r.errors);r.currentAnimateTimings=s;let o,u=n.styles?n.styles:CA({});if(5==u.type)o=this.visitKeyframes(u,r);else{let f=n.styles,g=!1;if(!f){g=!0;const C={};s.easing&&(C.easing=s.easing),f=CA(C)}r.currentTime+=s.duration+s.delay;const v=this.visitStyle(f,r);v.isEmptyStep=g,o=v}return r.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(n,r){const s=this._makeStyleAst(n,r);return this._validateStyleAst(s,r),s}_makeStyleAst(n,r){const s=[];Array.isArray(n.styles)?n.styles.forEach(f=>{"string"==typeof f?f==td?s.push(f):r.errors.push(`The provided style string value ${f} is not allowed.`):s.push(f)}):s.push(n.styles);let o=!1,u=null;return s.forEach(f=>{if(kA(f)){const g=f,v=g.easing;if(v&&(u=v,delete g.easing),!o)for(let C in g)if(g[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:u,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,r){const s=r.currentAnimateTimings;let o=r.currentTime,u=r.currentTime;s&&u>0&&(u-=s.duration+s.delay),n.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void r.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const v=r.collectedStyles[r.currentQuerySelector],C=v[g];let T=!0;C&&(u!=o&&u>=C.startTime&&o<=C.endTime&&(r.errors.push(`The CSS property "${g}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),T=!1),u=C.startTime),T&&(v[g]={startTime:u,endTime:o}),r.options&&function(i,n,r){const s=n.params||{},o=MP(i);o.length&&o.forEach(u=>{s.hasOwnProperty(u)||r.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(f[g],r.options,r.errors)})})}visitKeyframes(n,r){const s={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push("keyframes() must be placed inside of a call to animate()"),s;let u=0;const f=[];let g=!1,v=!1,C=0;const T=n.steps.map(z=>{const J=this._makeStyleAst(z,r);let K=null!=J.offset?J.offset:function(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(r=>{if(kA(r)&&r.hasOwnProperty("offset")){const s=r;n=parseFloat(s.offset),delete s.offset}});else if(kA(i)&&i.hasOwnProperty("offset")){const r=i;n=parseFloat(r.offset),delete r.offset}return n}(J.styles),ie=0;return null!=K&&(u++,ie=J.offset=K),v=v||ie<0||ie>1,g=g||ie<C,C=ie,f.push(ie),J});v&&r.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&r.errors.push("Please ensure that all keyframe offsets are in order");const S=n.steps.length;let x=0;u>0&&u<S?r.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(x=1/(S-1));const k=S-1,N=r.currentTime,L=r.currentAnimateTimings,F=L.duration;return T.forEach((z,J)=>{const K=x>0?J==k?1:x*J:f[J],ie=K*F;r.currentTime=N+L.delay+ie,L.duration=ie,this._validateStyleAst(z,r),z.offset=K,s.styles.push(z)}),s}visitReference(n,r){return{type:8,animation:Eo(this,aw(n.animation),r),options:og(n.options)}}visitAnimateChild(n,r){return r.depCount++,{type:9,options:og(n.options)}}visitAnimateRef(n,r){return{type:10,animation:this.visitReference(n.animation,r),options:og(n.options)}}visitQuery(n,r){const s=r.currentQuerySelector,o=n.options||{};r.queryCount++,r.currentQuery=n;const[u,f]=function(i){const n=!!i.split(/\s*,\s*/).find(r=>":self"==r);return n&&(i=i.replace(EV,"")),[i=i.replace(/@\*/g,DA).replace(/@\w+/g,r=>DA+"-"+r.substr(1)).replace(/:animating/g,dk),n]}(n.selector);r.currentQuerySelector=s.length?s+" "+u:u,bo(r.collectedStyles,r.currentQuerySelector,{});const g=Eo(this,aw(n.animation),r);return r.currentQuery=null,r.currentQuerySelector=s,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:g,originalSelector:n.selector,options:og(n.options)}}visitStagger(n,r){r.currentQuery||r.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:SA(n.timings,r.errors,!0);return{type:12,animation:Eo(this,aw(n.animation),r),timings:s,options:null}}}class DV{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function kA(i){return!Array.isArray(i)&&"object"==typeof i}function og(i){return i?(i=Vv(i)).params&&(i.params=function(i){return i?Vv(i):null}(i.params)):i={},i}function _k(i,n,r){return{duration:i,delay:n,easing:r}}function yk(i,n,r,s,o,u,f=null,g=!1){return{type:1,element:i,keyframes:n,preStyleProps:r,postStyleProps:s,duration:o,delay:u,totalTime:o+u,easing:f,subTimeline:g}}class NA{constructor(){this._map=new Map}consume(n){let r=this._map.get(n);return r?this._map.delete(n):r=[],r}append(n,r){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...r)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const xV=new RegExp(":enter","g"),kV=new RegExp(":leave","g");function vk(i,n,r,s,o,u={},f={},g,v,C=[]){return(new NV).buildKeyframes(i,n,r,s,o,u,f,g,v,C)}class NV{buildKeyframes(n,r,s,o,u,f,g,v,C,T=[]){C=C||new NA;const S=new bk(n,r,C,o,u,T,[]);S.options=v,S.currentTimeline.setStyles([f],null,S.errors,v),Eo(this,s,S);const x=S.timelines.filter(k=>k.containsAnimation());if(x.length&&Object.keys(g).length){const k=x[x.length-1];k.allowOnlyTimelineStyles()||k.setStyles([g],null,S.errors,v)}return x.length?x.map(k=>k.buildKeyframes()):[yk(r,[],[],[],0,0,"",!1)]}visitTrigger(n,r){}visitState(n,r){}visitTransition(n,r){}visitAnimateChild(n,r){const s=r.subInstructions.consume(r.element);if(s){const o=r.createSubContext(n.options),u=r.currentTimeline.currentTime,f=this._visitSubInstructions(s,o,o.options);u!=f&&r.transformIntoNewTimeline(f)}r.previousNode=n}visitAnimateRef(n,r){const s=r.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),r.transformIntoNewTimeline(s.currentTimeline.currentTime),r.previousNode=n}_visitSubInstructions(n,r,s){let u=r.currentTimeline.currentTime;const f=null!=s.duration?ig(s.duration):null,g=null!=s.delay?ig(s.delay):null;return 0!==f&&n.forEach(v=>{const C=r.appendInstructionToTimeline(v,f,g);u=Math.max(u,C.duration+C.delay)}),u}visitReference(n,r){r.updateOptions(n.options,!0),Eo(this,n.animation,r),r.previousNode=n}visitSequence(n,r){const s=r.subContextCount;let o=r;const u=n.options;if(u&&(u.params||u.delay)&&(o=r.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=OA);const f=ig(u.delay);o.delayNextStep(f)}n.steps.length&&(n.steps.forEach(f=>Eo(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),r.previousNode=n}visitGroup(n,r){const s=[];let o=r.currentTimeline.currentTime;const u=n.options&&n.options.delay?ig(n.options.delay):0;n.steps.forEach(f=>{const g=r.createSubContext(n.options);u&&g.delayNextStep(u),Eo(this,f,g),o=Math.max(o,g.currentTimeline.currentTime),s.push(g.currentTimeline)}),s.forEach(f=>r.currentTimeline.mergeTimelineCollectedStyles(f)),r.transformIntoNewTimeline(o),r.previousNode=n}_visitTiming(n,r){if(n.dynamic){const s=n.strValue;return SA(r.params?IA(s,r.params,r.errors):s,r.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,r){const s=r.currentAnimateTimings=this._visitTiming(n.timings,r),o=r.currentTimeline;s.delay&&(r.incrementTime(s.delay),o.snapshotCurrentStyles());const u=n.style;5==u.type?this.visitKeyframes(u,r):(r.incrementTime(s.duration),this.visitStyle(u,r),o.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=n}visitStyle(n,r){const s=r.currentTimeline,o=r.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const u=o&&o.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(u):s.setStyles(n.styles,u,r.errors,r.options),r.previousNode=n}visitKeyframes(n,r){const s=r.currentAnimateTimings,o=r.currentTimeline.duration,u=s.duration,g=r.createSubContext().currentTimeline;g.easing=s.easing,n.styles.forEach(v=>{g.forwardTime((v.offset||0)*u),g.setStyles(v.styles,v.easing,r.errors,r.options),g.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(g),r.transformIntoNewTimeline(o+u),r.previousNode=n}visitQuery(n,r){const s=r.currentTimeline.currentTime,o=n.options||{},u=o.delay?ig(o.delay):0;u&&(6===r.previousNode.type||0==s&&r.currentTimeline.getCurrentStyleProperties().length)&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=OA);let f=s;const g=r.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,r.errors);r.currentQueryTotal=g.length;let v=null;g.forEach((C,T)=>{r.currentQueryIndex=T;const S=r.createSubContext(n.options,C);u&&S.delayNextStep(u),C===r.element&&(v=S.currentTimeline),Eo(this,n.animation,S),S.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,S.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(f),v&&(r.currentTimeline.mergeTimelineCollectedStyles(v),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=n}visitStagger(n,r){const s=r.parentContext,o=r.currentTimeline,u=n.timings,f=Math.abs(u.duration),g=f*(r.currentQueryTotal-1);let v=f*r.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":v=g-v;break;case"full":v=s.currentStaggerTime}const T=r.currentTimeline;v&&T.delayNextStep(v);const S=T.currentTime;Eo(this,n.animation,r),r.previousNode=n,s.currentStaggerTime=o.currentTime-S+(o.startTime-s.currentTimeline.startTime)}}const OA={};class bk{constructor(n,r,s,o,u,f,g,v){this._driver=n,this.element=r,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=u,this.errors=f,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=OA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new PA(this._driver,r,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,r){if(!n)return;const s=n;let o=this.options;null!=s.duration&&(o.duration=ig(s.duration)),null!=s.delay&&(o.delay=ig(s.delay));const u=s.params;if(u){let f=o.params;f||(f=this.options.params={}),Object.keys(u).forEach(g=>{(!r||!f.hasOwnProperty(g))&&(f[g]=IA(u[g],f,this.errors))})}}_copyOptions(){const n={};if(this.options){const r=this.options.params;if(r){const s=n.params={};Object.keys(r).forEach(o=>{s[o]=r[o]})}}return n}createSubContext(n=null,r,s){const o=r||this.element,u=new bk(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(n),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(n){return this.previousNode=OA,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,r,s){const o={duration:null!=r?r:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},u=new OV(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,r,s,o,u,f){let g=[];if(o&&g.push(this.element),n.length>0){n=(n=n.replace(xV,"."+this._enterClassName)).replace(kV,"."+this._leaveClassName);let C=this._driver.query(this.element,n,1!=s);0!==s&&(C=s<0?C.slice(C.length+s,C.length):C.slice(0,s)),g.push(...C)}return!u&&0==g.length&&f.push(`\`query("${r}")\` returned zero elements. (Use \`query("${r}", { optional: true })\` if you wish to allow this.)`),g}}class PA{constructor(n,r,s,o){this._driver=n,this.element=r,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const r=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||r?(this.forwardTime(this.currentTime+n),r&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,r){return this.applyStylesToKeyframe(),new PA(this._driver,n,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,r){this._localTimelineStyles[n]=r,this._globalTimelineStyles[n]=r,this._styleSummary[n]={time:this.currentTime,value:r}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(r=>{this._backFill[r]=this._globalTimelineStyles[r]||td,this._currentKeyframe[r]=td}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,r,s,o){r&&(this._previousKeyframe.easing=r);const u=o&&o.params||{},f=function(i,n){const r={};let s;return i.forEach(o=>{"*"===o?(s=s||Object.keys(n),s.forEach(u=>{r[u]=td})):cf(o,!1,r)}),r}(n,this._globalTimelineStyles);Object.keys(f).forEach(g=>{const v=IA(f[g],u,s);this._pendingStyles[g]=v,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:td),this._updateStyle(g,v)})}applyStylesToKeyframe(){const n=this._pendingStyles,r=Object.keys(n);0!=r.length&&(this._pendingStyles={},r.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const r=this._localTimelineStyles[n];this._pendingStyles[n]=r,this._updateStyle(n,r)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let r in this._currentKeyframe)n.push(r);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(r=>{const s=this._styleSummary[r],o=n._styleSummary[r];(!s||o.time>s.time)&&this._updateStyle(r,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,r=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,v)=>{const C=cf(g,!0);Object.keys(C).forEach(T=>{const S=C[T];"!"==S?n.add(T):S==td&&r.add(T)}),s||(C.offset=v/this.duration),o.push(C)});const u=n.size?AA(n.values()):[],f=r.size?AA(r.values()):[];if(s){const g=o[0],v=Vv(g);g.offset=0,v.offset=1,o=[g,v]}return yk(this.element,o,u,f,this.duration,this.startTime,this.easing,!1)}}class OV extends PA{constructor(n,r,s,o,u,f,g=!1){super(n,r,f.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:r,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&r){const u=[],f=s+r,g=r/f,v=cf(n[0],!1);v.offset=0,u.push(v);const C=cf(n[0],!1);C.offset=PP(g),u.push(C);const T=n.length-1;for(let S=1;S<=T;S++){let x=cf(n[S],!1);x.offset=PP((r+x.offset*s)/f),u.push(x)}s=f,r=0,o="",n=u}return yk(this.element,n,this.preStyleProps,this.postStyleProps,s,r,o,!0)}}function PP(i,n=3){const r=Math.pow(10,n-1);return Math.round(i*r)/r}class Ek{}class FV extends Ek{normalizePropertyName(n,r){return pk(n)}normalizeStyleValue(n,r,s,o){let u="";const f=s.toString().trim();if(LV[r]&&0!==s&&"0"!==s)if("number"==typeof s)u="px";else{const g=s.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(`Please provide a CSS unit value for ${n}:${s}`)}return f+u}}const LV=(()=>function(i){const n={};return i.forEach(r=>n[r]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function FP(i,n,r,s,o,u,f,g,v,C,T,S,x){return{type:0,element:i,triggerName:n,isRemovalTransition:o,fromState:r,fromStyles:u,toState:s,toStyles:f,timelines:g,queriedElements:v,preStyleProps:C,postStyleProps:T,totalTime:S,errors:x}}const Ck={};class LP{constructor(n,r,s){this._triggerName=n,this.ast=r,this._stateStyles=s}match(n,r,s,o){return function(i,n,r,s,o){return i.some(u=>u(n,r,s,o))}(this.ast.matchers,n,r,s,o)}buildStyles(n,r,s){const o=this._stateStyles["*"],u=this._stateStyles[n],f=o?o.buildStyles(r,s):{};return u?u.buildStyles(r,s):f}build(n,r,s,o,u,f,g,v,C,T){const S=[],x=this.ast.options&&this.ast.options.params||Ck,N=this.buildStyles(s,g&&g.params||Ck,S),L=v&&v.params||Ck,F=this.buildStyles(o,L,S),z=new Set,J=new Map,K=new Map,ie="void"===o,ke={params:Object.assign(Object.assign({},x),L)},Fe=T?[]:vk(n,r,this.ast.animation,u,f,N,F,ke,C,S);let he=0;if(Fe.forEach(Ee=>{he=Math.max(Ee.duration+Ee.delay,he)}),S.length)return FP(r,this._triggerName,s,o,ie,N,F,[],[],J,K,he,S);Fe.forEach(Ee=>{const He=Ee.element,Pe=bo(J,He,{});Ee.preStyleProps.forEach(nt=>Pe[nt]=!0);const Xe=bo(K,He,{});Ee.postStyleProps.forEach(nt=>Xe[nt]=!0),He!==r&&z.add(He)});const _e=AA(z.values());return FP(r,this._triggerName,s,o,ie,N,F,Fe,_e,J,K,he)}}class BV{constructor(n,r,s){this.styles=n,this.defaultParams=r,this.normalizer=s}buildStyles(n,r){const s={},o=Vv(this.defaultParams);return Object.keys(n).forEach(u=>{const f=n[u];null!=f&&(o[u]=f)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const f=u;Object.keys(f).forEach(g=>{let v=f[g];v.length>1&&(v=IA(v,o,r));const C=this.normalizer.normalizePropertyName(g,r);v=this.normalizer.normalizeStyleValue(g,C,v,r),s[C]=v})}}),s}}class HV{constructor(n,r,s){this.name=n,this.ast=r,this._normalizer=s,this.transitionFactories=[],this.states={},r.states.forEach(o=>{this.states[o.name]=new BV(o.style,o.options&&o.options.params||{},s)}),VP(this.states,"true","1"),VP(this.states,"false","0"),r.transitions.forEach(o=>{this.transitionFactories.push(new LP(n,o,this.states))}),this.fallbackTransition=function(i,n,r){return new LP(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,g)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,r,s,o){return this.transitionFactories.find(f=>f.match(n,r,s,o))||null}matchStyles(n,r,s){return this.fallbackTransition.buildStyles(n,r,s)}}function VP(i,n,r){i.hasOwnProperty(n)?i.hasOwnProperty(r)||(i[r]=i[n]):i.hasOwnProperty(r)&&(i[n]=i[r])}const zV=new NA;class GV{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,r){const s=[],o=gk(this._driver,r,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=o}_buildPlayer(n,r,s){const o=n.element,u=_P(0,this._normalizer,0,n.keyframes,r,s);return this._driver.animate(o,u,n.duration,n.delay,n.easing,[],!0)}create(n,r,s={}){const o=[],u=this._animations[n];let f;const g=new Map;if(u?(f=vk(this._driver,r,u,uk,wA,{},{},s,zV,o),f.forEach(T=>{const S=bo(g,T.element,{});T.postStyleProps.forEach(x=>S[x]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),f=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);g.forEach((T,S)=>{Object.keys(T).forEach(x=>{T[x]=this._driver.computeStyle(S,x,td)})});const C=lf(f.map(T=>{const S=g.get(T.element);return this._buildPlayer(T,{},S)}));return this._playersById[n]=C,C.onDestroy(()=>this.destroy(n)),this.players.push(C),C}destroy(n){const r=this._getPlayer(n);r.destroy(),delete this._playersById[n];const s=this.players.indexOf(r);s>=0&&this.players.splice(s,1)}_getPlayer(n){const r=this._playersById[n];if(!r)throw new Error(`Unable to find the timeline player referenced by ${n}`);return r}listen(n,r,s,o){const u=nk(r,"","","");return ek(this._getPlayer(n),s,u,o),()=>{}}command(n,r,s,o){if("register"==s)return void this.register(n,o[0]);if("create"==s)return void this.create(n,r,o[0]||{});const u=this._getPlayer(n);switch(s){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const UP="ng-animate-queued",BP="ng-animate-disabled",$P=".ng-animate-disabled",YV=[],HP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},KV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ca="__ng_removed";class wk{constructor(n,r=""){this.namespaceId=r;const s=n&&n.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(s?n.value:n),s){const u=Vv(n);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const r=n.params;if(r){const s=this.options.params;Object.keys(r).forEach(o=>{null==s[o]&&(s[o]=r[o])})}}}const lw="void",Tk=new wk(lw);class QV{constructor(n,r,s){this.id=n,this.hostElement=r,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ua(r,this._hostClassName)}listen(n,r,s,o){if(!this._triggers.hasOwnProperty(r))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${r}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${r}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${r}" is not supported!`);const u=bo(this._elementListeners,n,[]),f={name:r,phase:s,callback:o};u.push(f);const g=bo(this._engine.statesByElement,n,{});return g.hasOwnProperty(r)||(ua(n,TA),ua(n,TA+"-"+r),g[r]=Tk),()=>{this._engine.afterFlush(()=>{const v=u.indexOf(f);v>=0&&u.splice(v,1),this._triggers[r]||delete g[r]})}}register(n,r){return!this._triggers[n]&&(this._triggers[n]=r,!0)}_getTrigger(n){const r=this._triggers[n];if(!r)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return r}trigger(n,r,s,o=!0){const u=this._getTrigger(r),f=new Dk(this.id,r,n);let g=this._engine.statesByElement.get(n);g||(ua(n,TA),ua(n,TA+"-"+r),this._engine.statesByElement.set(n,g={}));let v=g[r];const C=new wk(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&v&&C.absorbOptions(v.options),g[r]=C,v||(v=Tk),C.value!==lw&&v.value===C.value){if(!function(i,n){const r=Object.keys(i),s=Object.keys(n);if(r.length!=s.length)return!1;for(let o=0;o<r.length;o++){const u=r[o];if(!n.hasOwnProperty(u)||i[u]!==n[u])return!1}return!0}(v.params,C.params)){const L=[],F=u.matchStyles(v.value,v.params,L),z=u.matchStyles(C.value,C.params,L);L.length?this._engine.reportError(L):this._engine.afterFlush(()=>{sg(n,F),Sc(n,z)})}return}const x=bo(this._engine.playersByElement,n,[]);x.forEach(L=>{L.namespaceId==this.id&&L.triggerName==r&&L.queued&&L.destroy()});let k=u.matchTransition(v.value,C.value,n,C.params),N=!1;if(!k){if(!o)return;k=u.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:r,transition:k,fromState:v,toState:C,player:f,isFallbackTransition:N}),N||(ua(n,UP),f.onStart(()=>{Uv(n,UP)})),f.onDone(()=>{let L=this.players.indexOf(f);L>=0&&this.players.splice(L,1);const F=this._engine.playersByElement.get(n);if(F){let z=F.indexOf(f);z>=0&&F.splice(z,1)}}),this.players.push(f),x.push(f),f}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((r,s)=>{delete r[n]}),this._elementListeners.forEach((r,s)=>{this._elementListeners.set(s,r.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const r=this._engine.playersByElement.get(n);r&&(r.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,r){const s=this._engine.driver.query(n,DA,!0);s.forEach(o=>{if(o[ca])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(f=>f.triggerLeaveAnimation(o,r,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,r,s,o){const u=this._engine.statesByElement.get(n);if(u){const f=[];if(Object.keys(u).forEach(g=>{if(this._triggers[g]){const v=this.trigger(n,g,lw,o);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,n,!0,r),s&&lf(f).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const r=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(r&&s){const o=new Set;r.forEach(u=>{const f=u.name;if(o.has(f))return;o.add(f);const v=this._triggers[f].fallbackTransition,C=s[f]||Tk,T=new wk(lw),S=new Dk(this.id,f,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:f,transition:v,fromState:C,toState:T,player:S,isFallbackTransition:!0})})}}removeNode(n,r){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,r),this.triggerLeaveAnimation(n,r,!0))return;let o=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(n):[];if(u&&u.length)o=!0;else{let f=n;for(;f=f.parentNode;)if(s.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)s.markElementAsRemoved(this.id,n,!1,r);else{const u=n[ca];(!u||u===HP)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,r))}}insertNode(n,r){ua(n,this._hostClassName)}drainQueuedTransitions(n){const r=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const u=s.element,f=this._elementListeners.get(u);f&&f.forEach(g=>{if(g.name==s.triggerName){const v=nk(u,s.triggerName,s.fromState.value,s.toState.value);v._data=n,ek(s.player,g.phase,v,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):r.push(s)}),this._queue=[],r.sort((s,o)=>{const u=s.transition.ast.depCount,f=o.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(n){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let r=!1;return this._elementListeners.has(n)&&(r=!0),r=!!this._queue.find(s=>s.element===n)||r,r}}class JV{constructor(n,r,s){this.bodyNode=n,this.driver=r,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(n,r){this.onRemovalComplete(n,r)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(r=>{r.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,r){const s=new QV(n,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(s,r):(this.newHostElements.set(r,s),this.collectEnterElement(r)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,r){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let u=s;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,r)){this._namespaceList.splice(u+1,0,n),o=!0;break}o||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(r,n),n}register(n,r){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,r)),s}registerTrigger(n,r,s){let o=this._namespaceLookup[n];o&&o.register(r,s)&&this.totalAnimations++}destroy(n,r){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(r))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const r=new Set,s=this.statesByElement.get(n);if(s){const o=Object.keys(s);for(let u=0;u<o.length;u++){const f=s[o[u]].namespaceId;if(f){const g=this._fetchNamespace(f);g&&r.add(g)}}}return r}trigger(n,r,s,o){if(FA(r)){const u=this._fetchNamespace(n);if(u)return u.trigger(r,s,o),!0}return!1}insertNode(n,r,s,o){if(!FA(r))return;const u=r[ca];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(r);f>=0&&this.collectedLeaveElements.splice(f,1)}if(n){const f=this._fetchNamespace(n);f&&f.insertNode(r,s)}o&&this.collectEnterElement(r)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,r){r?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ua(n,BP)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Uv(n,BP))}removeNode(n,r,s,o){if(FA(r)){const u=n?this._fetchNamespace(n):null;if(u?u.removeNode(r,o):this.markElementAsRemoved(n,r,!1,o),s){const f=this.namespacesByHostElement.get(r);f&&f.id!==n&&f.removeNode(r,o)}}else this._onRemovalComplete(r,o)}markElementAsRemoved(n,r,s,o){this.collectedLeaveElements.push(r),r[ca]={namespaceId:n,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(n,r,s,o,u){return FA(r)?this._fetchNamespace(n).listen(r,s,o,u):()=>{}}_buildInstruction(n,r,s,o,u){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,o,n.fromState.options,n.toState.options,r,u)}destroyInnerAnimations(n){let r=this.driver.query(n,DA,!0);r.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(n,dk,!0),r.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const r=this.playersByElement.get(n);r&&r.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const r=this.playersByQueriedElement.get(n);r&&r.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return lf(this.players).onDone(()=>n());n()})}processLeaveNode(n){const r=n[ca];if(r&&r.setForRemoval){if(n[ca]=HP,r.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(r.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,r.setForRemoval)}this.driver.matchesElement(n,$P)&&this.markElementAsDisabled(n,!1),this.driver.query(n,$P,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)ua(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{r=this._flushAnimations(s,n)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],r.length?lf(r).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,r){const s=new NA,o=[],u=new Map,f=[],g=new Map,v=new Map,C=new Map,T=new Set;this.disabledNodes.forEach(ae=>{T.add(ae);const Ve=this.driver.query(ae,".ng-animate-queued",!0);for(let Ge=0;Ge<Ve.length;Ge++)T.add(Ve[Ge])});const S=this.bodyNode,x=Array.from(this.statesByElement.keys()),k=GP(x,this.collectedEnterElements),N=new Map;let L=0;k.forEach((ae,Ve)=>{const Ge=uk+L++;N.set(Ve,Ge),ae.forEach(rt=>ua(rt,Ge))});const F=[],z=new Set,J=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){const Ve=this.collectedLeaveElements[ae],Ge=Ve[ca];Ge&&Ge.setForRemoval&&(F.push(Ve),z.add(Ve),Ge.hasAnimation?this.driver.query(Ve,".ng-star-inserted",!0).forEach(rt=>z.add(rt)):J.add(Ve))}const K=new Map,ie=GP(x,Array.from(z));ie.forEach((ae,Ve)=>{const Ge=wA+L++;K.set(Ve,Ge),ae.forEach(rt=>ua(rt,Ge))}),n.push(()=>{k.forEach((ae,Ve)=>{const Ge=N.get(Ve);ae.forEach(rt=>Uv(rt,Ge))}),ie.forEach((ae,Ve)=>{const Ge=K.get(Ve);ae.forEach(rt=>Uv(rt,Ge))}),F.forEach(ae=>{this.processLeaveNode(ae)})});const ke=[],Fe=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(r).forEach(Ge=>{const rt=Ge.player,Lt=Ge.element;if(ke.push(rt),this.collectedEnterElements.length){const hi=Lt[ca];if(hi&&hi.setForMove)return void rt.destroy()}const di=!S||!this.driver.containsElement(S,Lt),Ar=K.get(Lt),Do=N.get(Lt),kn=this._buildInstruction(Ge,s,Do,Ar,di);if(kn.errors&&kn.errors.length)Fe.push(kn);else{if(di)return rt.onStart(()=>sg(Lt,kn.fromStyles)),rt.onDestroy(()=>Sc(Lt,kn.toStyles)),void o.push(rt);if(Ge.isFallbackTransition)return rt.onStart(()=>sg(Lt,kn.fromStyles)),rt.onDestroy(()=>Sc(Lt,kn.toStyles)),void o.push(rt);kn.timelines.forEach(hi=>hi.stretchStartingKeyframe=!0),s.append(Lt,kn.timelines),f.push({instruction:kn,player:rt,element:Lt}),kn.queriedElements.forEach(hi=>bo(g,hi,[]).push(rt)),kn.preStyleProps.forEach((hi,pf)=>{const dg=Object.keys(hi);if(dg.length){let xc=v.get(pf);xc||v.set(pf,xc=new Set),dg.forEach(qv=>xc.add(qv))}}),kn.postStyleProps.forEach((hi,pf)=>{const dg=Object.keys(hi);let xc=C.get(pf);xc||C.set(pf,xc=new Set),dg.forEach(qv=>xc.add(qv))})}});if(Fe.length){const ae=[];Fe.forEach(Ve=>{ae.push(`@${Ve.triggerName} has failed due to:\n`),Ve.errors.forEach(Ge=>ae.push(`- ${Ge}\n`))}),ke.forEach(Ve=>Ve.destroy()),this.reportError(ae)}const he=new Map,_e=new Map;f.forEach(ae=>{const Ve=ae.element;s.has(Ve)&&(_e.set(Ve,Ve),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,he))}),o.forEach(ae=>{const Ve=ae.element;this._getPreviousPlayers(Ve,!1,ae.namespaceId,ae.triggerName,null).forEach(rt=>{bo(he,Ve,[]).push(rt),rt.destroy()})});const Ee=F.filter(ae=>WP(ae,v,C)),He=new Map;zP(He,this.driver,J,C,td).forEach(ae=>{WP(ae,v,C)&&Ee.push(ae)});const Xe=new Map;k.forEach((ae,Ve)=>{zP(Xe,this.driver,new Set(ae),v,"!")}),Ee.forEach(ae=>{const Ve=He.get(ae),Ge=Xe.get(ae);He.set(ae,Object.assign(Object.assign({},Ve),Ge))});const nt=[],ct=[],dn={};f.forEach(ae=>{const{element:Ve,player:Ge,instruction:rt}=ae;if(s.has(Ve)){if(T.has(Ve))return Ge.onDestroy(()=>Sc(Ve,rt.toStyles)),Ge.disabled=!0,Ge.overrideTotalTime(rt.totalTime),void o.push(Ge);let Lt=dn;if(_e.size>1){let Ar=Ve;const Do=[];for(;Ar=Ar.parentNode;){const kn=_e.get(Ar);if(kn){Lt=kn;break}Do.push(Ar)}Do.forEach(kn=>_e.set(kn,Lt))}const di=this._buildAnimation(Ge.namespaceId,rt,he,u,Xe,He);if(Ge.setRealPlayer(di),Lt===dn)nt.push(Ge);else{const Ar=this.playersByElement.get(Lt);Ar&&Ar.length&&(Ge.parentPlayer=lf(Ar)),o.push(Ge)}}else sg(Ve,rt.fromStyles),Ge.onDestroy(()=>Sc(Ve,rt.toStyles)),ct.push(Ge),T.has(Ve)&&o.push(Ge)}),ct.forEach(ae=>{const Ve=u.get(ae.element);if(Ve&&Ve.length){const Ge=lf(Ve);ae.setRealPlayer(Ge)}}),o.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<F.length;ae++){const Ve=F[ae],Ge=Ve[ca];if(Uv(Ve,wA),Ge&&Ge.hasAnimation)continue;let rt=[];if(g.size){let di=g.get(Ve);di&&di.length&&rt.push(...di);let Ar=this.driver.query(Ve,dk,!0);for(let Do=0;Do<Ar.length;Do++){let kn=g.get(Ar[Do]);kn&&kn.length&&rt.push(...kn)}}const Lt=rt.filter(di=>!di.destroyed);Lt.length?nU(this,Ve,Lt):this.processLeaveNode(Ve)}return F.length=0,nt.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();const Ve=this.players.indexOf(ae);this.players.splice(Ve,1)}),ae.play()}),nt}elementContainsData(n,r){let s=!1;const o=r[ca];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(r)&&(s=!0),this.playersByQueriedElement.has(r)&&(s=!0),this.statesByElement.has(r)&&(s=!0),this._fetchNamespace(n).elementContainsData(r)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,r,s,o,u){let f=[];if(r){const g=this.playersByQueriedElement.get(n);g&&(f=g)}else{const g=this.playersByElement.get(n);if(g){const v=!u||u==lw;g.forEach(C=>{C.queued||!v&&C.triggerName!=o||f.push(C)})}}return(s||o)&&(f=f.filter(g=>!(s&&s!=g.namespaceId||o&&o!=g.triggerName))),f}_beforeAnimationBuild(n,r,s){const u=r.element,f=r.isRemovalTransition?void 0:n,g=r.isRemovalTransition?void 0:r.triggerName;for(const v of r.timelines){const C=v.element,T=C!==u,S=bo(s,C,[]);this._getPreviousPlayers(C,T,f,g,r.toState).forEach(k=>{const N=k.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),k.destroy(),S.push(k)})}sg(u,r.fromStyles)}_buildAnimation(n,r,s,o,u,f){const g=r.triggerName,v=r.element,C=[],T=new Set,S=new Set,x=r.timelines.map(N=>{const L=N.element;T.add(L);const F=L[ca];if(F&&F.removedBeforeQueried)return new Lv(N.duration,N.delay);const z=L!==v,J=function(i){const n=[];return qP(i,n),n}((s.get(L)||YV).map(he=>he.getRealPlayer())).filter(he=>!!he.element&&he.element===L),K=u.get(L),ie=f.get(L),ke=_P(0,this._normalizer,0,N.keyframes,K,ie),Fe=this._buildPlayer(N,ke,J);if(N.subTimeline&&o&&S.add(L),z){const he=new Dk(n,g,L);he.setRealPlayer(Fe),C.push(he)}return Fe});C.forEach(N=>{bo(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function(i,n,r){let s;if(i instanceof Map){if(s=i.get(n),s){if(s.length){const o=s.indexOf(r);s.splice(o,1)}0==s.length&&i.delete(n)}}else if(s=i[n],s){if(s.length){const o=s.indexOf(r);s.splice(o,1)}0==s.length&&delete i[n]}return s}(this.playersByQueriedElement,N.element,N))}),T.forEach(N=>ua(N,DP));const k=lf(x);return k.onDestroy(()=>{T.forEach(N=>Uv(N,DP)),Sc(v,r.toStyles)}),S.forEach(N=>{bo(o,N,[]).push(k)}),k}_buildPlayer(n,r,s){return r.length>0?this.driver.animate(n.element,r,n.duration,n.delay,n.easing,s):new Lv(n.duration,n.delay)}}class Dk{constructor(n,r,s){this.namespaceId=n,this.triggerName=r,this.element=s,this._player=new Lv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(r=>{this._queuedCallbacks[r].forEach(s=>ek(n,r,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const r=this._player;r.triggerCallback&&n.onStart(()=>r.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,r){bo(this._queuedCallbacks,n,[]).push(r)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const r=this._player;r.triggerCallback&&r.triggerCallback(n)}}function FA(i){return i&&1===i.nodeType}function jP(i,n){const r=i.style.display;return i.style.display=null!=n?n:"none",r}function zP(i,n,r,s,o){const u=[];r.forEach(v=>u.push(jP(v)));const f=[];s.forEach((v,C)=>{const T={};v.forEach(S=>{const x=T[S]=n.computeStyle(C,S,o);(!x||0==x.length)&&(C[ca]=KV,f.push(C))}),i.set(C,T)});let g=0;return r.forEach(v=>jP(v,u[g++])),f}function GP(i,n){const r=new Map;if(i.forEach(g=>r.set(g,[])),0==n.length)return r;const o=new Set(n),u=new Map;function f(g){if(!g)return 1;let v=u.get(g);if(v)return v;const C=g.parentNode;return v=r.has(C)?C:o.has(C)?1:f(C),u.set(g,v),v}return n.forEach(g=>{const v=f(g);1!==v&&r.get(v).push(g)}),r}const LA="$$classes";function ua(i,n){if(i.classList)i.classList.add(n);else{let r=i[LA];r||(r=i[LA]={}),r[n]=!0}}function Uv(i,n){if(i.classList)i.classList.remove(n);else{let r=i[LA];r&&delete r[n]}}function nU(i,n,r){lf(r).onDone(()=>i.processLeaveNode(n))}function qP(i,n){for(let r=0;r<i.length;r++){const s=i[r];s instanceof mP?qP(s.players,n):n.push(s)}}function WP(i,n,r){const s=r.get(i);if(!s)return!1;let o=n.get(i);return o?s.forEach(u=>o.add(u)):n.set(i,s),r.delete(i),!0}class VA{constructor(n,r,s){this.bodyNode=n,this._driver=r,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new JV(n,r,s),this._timelineEngine=new GV(n,r,s),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(n,r,s,o,u){const f=n+"-"+o;let g=this._triggerCache[f];if(!g){const v=[],C=gk(this._driver,u,v);if(v.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);g=function(i,n,r){return new HV(i,n,r)}(o,C,this._normalizer),this._triggerCache[f]=g}this._transitionEngine.registerTrigger(r,o,g)}register(n,r){this._transitionEngine.register(n,r)}destroy(n,r){this._transitionEngine.destroy(n,r)}onInsert(n,r,s,o){this._transitionEngine.insertNode(n,r,s,o)}onRemove(n,r,s,o){this._transitionEngine.removeNode(n,r,o||!1,s)}disableAnimations(n,r){this._transitionEngine.markElementAsDisabled(n,r)}process(n,r,s,o){if("@"==s.charAt(0)){const[u,f]=yP(s);this._timelineEngine.command(u,r,f,o)}else this._transitionEngine.trigger(n,r,s,o)}listen(n,r,s,o,u){if("@"==s.charAt(0)){const[f,g]=yP(s);return this._timelineEngine.listen(f,r,g,u)}return this._transitionEngine.listen(n,r,s,o,u)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ZP(i,n){let r=null,s=null;return Array.isArray(n)&&n.length?(r=Sk(n[0]),n.length>1&&(s=Sk(n[n.length-1]))):n&&(r=Sk(n)),r||s?new sU(i,r,s):null}let sU=(()=>{class i{constructor(r,s,o){this._element=r,this._startStyles=s,this._endStyles=o,this._state=0;let u=i.initialStylesByElement.get(r);u||i.initialStylesByElement.set(r,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Sc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sc(this._element,this._initialStyles),this._endStyles&&(Sc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(sg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sg(this._element,this._endStyles),this._endStyles=null),Sc(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Sk(i){let n=null;const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=r[s];oU(o)&&(n=n||{},n[o]=i[o])}return n}function oU(i){return"display"===i||"position"===i}const YP="animation",KP="animationend";class cU{constructor(n,r,s,o,u,f,g){this._element=n,this._name=r,this._duration=s,this._delay=o,this._easing=u,this._fillMode=f,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(i,n){const r=Ak(i,"").trim();let s=0;r.length&&(function(i,n){let r=0;for(let s=0;s<i.length;s++)","===i.charAt(s)&&r++;return r}(r)+1,n=`${r}, ${n}`),UA(i,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),XP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){QP(this._element,this._name,"paused")}resume(){QP(this._element,this._name,"running")}setPosition(n){const r=JP(this._element,this._name);this._position=n*this._duration,UA(this._element,"Delay",`-${this._position}ms`,r)}getPosition(){return this._position}_handleCallback(n){const r=n._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(r-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),XP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,n){const s=Ak(i,"").split(","),o=Ik(s,n);o>=0&&(s.splice(o,1),UA(i,"",s.join(",")))}(this._element,this._name))}}function QP(i,n,r){UA(i,"PlayState",r,JP(i,n))}function JP(i,n){const r=Ak(i,"");return r.indexOf(",")>0?Ik(r.split(","),n):Ik([r],n)}function Ik(i,n){for(let r=0;r<i.length;r++)if(i[r].indexOf(n)>=0)return r;return-1}function XP(i,n,r){r?i.removeEventListener(KP,n):i.addEventListener(KP,n)}function UA(i,n,r,s){const o=YP+n;if(null!=s){const u=i.style[o];if(u.length){const f=u.split(",");f[s]=r,r=f.join(",")}}i.style[o]=r}function Ak(i,n){return i.style[YP+n]||""}class eF{constructor(n,r,s,o,u,f,g,v){this.element=n,this.keyframes=r,this.animationName=s,this._duration=o,this._delay=u,this._finalStyles=g,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=o+u,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new cU(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const r=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(n[s]=r?this._finalStyles[s]:mk(this.element,s))})}this.currentSnapshot=n}}class mU extends Lv{constructor(n,r){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=CP(r)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const r=this._startingStyles[n];r?this.element.style.setProperty(n,r):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class nF{constructor(){this._count=0}validateStyleProperty(n){return sk(n)}matchesElement(n,r){return ok(n,r)}containsElement(n,r){return ak(n,r)}query(n,r,s){return lk(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}buildKeyframeElement(n,r,s){s=s.map(g=>CP(g));let o=`@keyframes ${r} {\n`,u="";s.forEach(g=>{u=" ";const v=parseFloat(g.offset);o+=`${u}${100*v}% {\n`,u+=" ",Object.keys(g).forEach(C=>{const T=g[C];switch(C){case"offset":return;case"easing":return void(T&&(o+=`${u}animation-timing-function: ${T};\n`));default:return void(o+=`${u}${C}: ${T};\n`)}}),o+=`${u}}\n`}),o+="}\n";const f=document.createElement("style");return f.textContent=o,f}animate(n,r,s,o,u,f=[],g){const v=f.filter(F=>F instanceof eF),C={};xP(s,o)&&v.forEach(F=>{let z=F.currentSnapshot;Object.keys(z).forEach(J=>C[J]=z[J])});const T=function(i){let n={};return i&&(Array.isArray(i)?i:[i]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(n[o]=s[o])})}),n}(r=RP(n,r,C));if(0==s)return new mU(n,T);const S="gen_css_kf_"+this._count++,x=this.buildKeyframeElement(n,S,r);(function(i){var n;const r=null===(n=i.getRootNode)||void 0===n?void 0:n.call(i);return"undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot?r:document.head})(n).appendChild(x);const N=ZP(n,r),L=new eF(n,r,S,s,o,u,T,N);return L.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(x)),L}}class iF{constructor(n,r,s,o){this.element=n,this.keyframes=r,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,r,s){return n.animate(r,s)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(r=>{"offset"!=r&&(n[r]=this._finished?this._finalKeyframe[r]:mk(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){const r="start"==n?this._onStartFns:this._onDoneFns;r.forEach(s=>s()),r.length=0}}class bU{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sF().toString()),this._cssKeyframesDriver=new nF}validateStyleProperty(n){return sk(n)}matchesElement(n,r){return ok(n,r)}containsElement(n,r){return ak(n,r)}query(n,r,s){return lk(n,r,s)}computeStyle(n,r,s){return window.getComputedStyle(n)[r]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,r,s,o,u,f=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,r,s,o,u,f);const T={duration:s,delay:o,fill:0==o?"both":"forwards"};u&&(T.easing=u);const S={},x=f.filter(N=>N instanceof iF);xP(s,o)&&x.forEach(N=>{let L=N.currentSnapshot;Object.keys(L).forEach(F=>S[F]=L[F])});const k=ZP(n,r=RP(n,r=r.map(N=>cf(N,!1)),S));return new iF(n,r,T,k)}}function sF(){return gP()&&Element.prototype.animate||{}}let CU=(()=>{class i extends hP{constructor(r,s){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(s.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(r){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(r)?fP(r):r;return oF(this._renderer,null,s,"register",[o]),new wU(s,this._renderer)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.FYo),h.LFG(pe))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class wU extends class{}{constructor(n,r){super(),this._id=n,this._renderer=r}create(n,r){return new TU(this._id,n,r||{},this._renderer)}}class TU{constructor(n,r,s,o){this.id=n,this.element=r,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,r){return this._renderer.listen(this.element,`@@${this.id}:${n}`,r)}_command(n,...r){return oF(this._renderer,this.element,this.id,n,r)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,r;return null!==(r=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==r?r:0}}function oF(i,n,r,s,o){return i.setProperty(n,`@@${r}:${s}`,o)}const aF="@.disabled";let DU=(()=>{class i{constructor(r,s,o){this.delegate=r,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(u,f)=>{f&&f.parentNode(u)&&f.removeChild(u.parentNode,u)}}createRenderer(r,s){const u=this.delegate.createRenderer(r,s);if(!(r&&s&&s.data&&s.data.animation)){let T=this._rendererCache.get(u);return T||(T=new lF("",u,this.engine),this._rendererCache.set(u,T)),T}const f=s.id,g=s.id+"-"+this._currentId;this._currentId++,this.engine.register(g,r);const v=T=>{Array.isArray(T)?T.forEach(v):this.engine.registerTrigger(f,g,r,T.name,T)};return s.data.animation.forEach(v),new SU(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(r,s,o){r>=0&&r<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,g]=u;f(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.FYo),h.LFG(VA),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();class lF{constructor(n,r,s){this.namespaceId=n,this.delegate=r,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>r.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,r){return this.delegate.createElement(n,r)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,r){this.delegate.appendChild(n,r),this.engine.onInsert(this.namespaceId,r,n,!1)}insertBefore(n,r,s,o=!0){this.delegate.insertBefore(n,r,s),this.engine.onInsert(this.namespaceId,r,n,o)}removeChild(n,r,s){this.engine.onRemove(this.namespaceId,r,this.delegate,s)}selectRootElement(n,r){return this.delegate.selectRootElement(n,r)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,r,s,o){this.delegate.setAttribute(n,r,s,o)}removeAttribute(n,r,s){this.delegate.removeAttribute(n,r,s)}addClass(n,r){this.delegate.addClass(n,r)}removeClass(n,r){this.delegate.removeClass(n,r)}setStyle(n,r,s,o){this.delegate.setStyle(n,r,s,o)}removeStyle(n,r,s){this.delegate.removeStyle(n,r,s)}setProperty(n,r,s){"@"==r.charAt(0)&&r==aF?this.disableAnimations(n,!!s):this.delegate.setProperty(n,r,s)}setValue(n,r){this.delegate.setValue(n,r)}listen(n,r,s){return this.delegate.listen(n,r,s)}disableAnimations(n,r){this.engine.disableAnimations(n,r)}}class SU extends lF{constructor(n,r,s,o){super(r,s,o),this.factory=n,this.namespaceId=r}setProperty(n,r,s){"@"==r.charAt(0)?"."==r.charAt(1)&&r==aF?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,r.substr(1),s):this.delegate.setProperty(n,r,s)}listen(n,r,s){if("@"==r.charAt(0)){const o=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let u=r.substr(1),f="";return"@"!=u.charAt(0)&&([u,f]=function(i){const n=i.indexOf(".");return[i.substring(0,n),i.substr(n+1)]}(u)),this.engine.listen(this.namespaceId,o,u,f,g=>{this.factory.scheduleListenerCallback(g._data||-1,s,g)})}return this.delegate.listen(n,r,s)}}let MU=(()=>{class i extends VA{constructor(r,s,o){super(r.body,s,o)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(pe),h.LFG(ck),h.LFG(Ek))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const Ic=new h.OlP("AnimationModuleType"),cF=[{provide:hP,useClass:CU},{provide:Ek,useFactory:function(){return new FV}},{provide:VA,useClass:MU},{provide:h.FYo,useFactory:function(i,n,r){return new DU(i,n,r)},deps:[Ys,VA,h.R0b]}],uF=[{provide:ck,useFactory:function(){return"function"==typeof sF()?new bU:new nF}},{provide:Ic,useValue:"BrowserAnimations"},...cF],dF=[{provide:ck,useClass:wP},{provide:Ic,useValue:"NoopAnimations"},...cF];let NU=(()=>{class i{static withConfig(r){return{ngModule:i,providers:r.disableAnimations?dF:uF}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:uF,imports:[Vf]}),i})();const hF=new h.GfV("12.2.8"),BU=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ag,Ir=(()=>{class i{constructor(r,s,o){this._hasDoneGlobalChecks=!1,this._document=o,r._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return!(!(0,h.X6Q)()||void 0!==af.__karma__&&af.__karma__||void 0!==af.jasmine&&af.jasmine||void 0!==af.jest&&af.jest||void 0!==af.Mocha&&af.Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[r])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const r=this._document.createElement("div");r.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(r);const s=getComputedStyle(r);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(r)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&hF.full!==dP.full&&console.warn("The Angular Material version ("+hF.full+") does not match the Angular CDK version ("+dP.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(cP),h.LFG(BU,8),h.LFG(pe))},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[EA],EA]}),i})();function fF(i){return class extends i{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=Ai(n)}}}function cw(i,n){return class extends i{constructor(...r){super(...r),this.defaultColor=n,this.color=n}get color(){return this._color}set color(r){const s=r||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function $U(i){return class extends i{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=Ai(n)}}}function HU(i){return class extends i{constructor(...n){super(...n),this.stateChanges=new Xt.xQ,this.errorState=!1}updateErrorState(){const n=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==n&&(this.errorState=u,this.stateChanges.next())}}}try{ag="undefined"!=typeof Intl}catch(i){ag=!1}let mF=(()=>{class i{isErrorState(r,s){return!!(r&&r.invalid&&(r.touched||s&&s.submitted))}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=h.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();class eB{constructor(n,r,s){this._renderer=n,this.element=r,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const gF={enterDuration:225,exitDuration:150},Mk=yA({passive:!0}),_F=["mousedown","touchstart"],yF=["mouseup","mouseleave","touchend","touchcancel"];class nB{constructor(n,r,s,o){this._target=n,this._ngZone=r,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=ed(s))}fadeInRipple(n,r,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},gF),s.animation);s.centered&&(n=o.left+o.width/2,r=o.top+o.height/2);const f=s.radius||function(i,n,r){const s=Math.max(Math.abs(i-r.left),Math.abs(i-r.right)),o=Math.max(Math.abs(n-r.top),Math.abs(n-r.bottom));return Math.sqrt(s*s+o*o)}(n,r,o),g=n-o.left,v=r-o.top,C=u.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=g-f+"px",T.style.top=v-f+"px",T.style.height=2*f+"px",T.style.width=2*f+"px",null!=s.color&&(T.style.backgroundColor=s.color),T.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(T),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const S=new eB(this,T,s);return S.state=0,this._activeRipples.add(S),s.persistent||(this._mostRecentTransientRipple=S),this._runTimeoutOutsideZone(()=>{const x=S===this._mostRecentTransientRipple;S.state=1,!s.persistent&&(!x||!this._isPointerDown)&&S.fadeOut()},C),S}fadeOutRipple(n){const r=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!r)return;const s=n.element,o=Object.assign(Object.assign({},gF),n.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const r=ed(n);!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,this._registerEvents(_F))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(yF),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const r=XO(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!r&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!eP(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const r=n.changedTouches;for(let s=0;s<r.length;s++)this.fadeInRipple(r[s].clientX,r[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,r=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,r))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(r=>{this._triggerElement.addEventListener(r,this,Mk)})})}_removeTriggerEvents(){this._triggerElement&&(_F.forEach(n=>{this._triggerElement.removeEventListener(n,this,Mk)}),this._pointerUpEventsRegistered&&yF.forEach(n=>{this._triggerElement.removeEventListener(n,this,Mk)}))}}const sB=new h.OlP("mat-ripple-global-options");let HA=(()=>{class i{constructor(r,s,o,u,f){this._elementRef=r,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new nB(this,s,r,o)}get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,s=0,o){return"number"==typeof r?this._rippleRenderer.fadeInRipple(r,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),r))}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(er),h.Y36(sB,8),h.Y36(Ic,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){2&r&&h.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),vF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ir,nw],Ir]}),i})();const fB=["*",[["mat-toolbar-row"]]],pB=["*","mat-toolbar-row"],mB=cw(class{constructor(i){this._elementRef=i}});let wF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),gB=(()=>{class i extends mB{constructor(r,s,o){super(r),this._platform=s,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.SBq),h.Y36(er),h.Y36(pe))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(r,s,o){if(1&r&&h.Suo(o,wF,5),2&r){let u;h.iGM(u=h.CRH())&&(s._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,s){2&r&&h.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:pB,decls:2,vars:0,template:function(r,s){1&r&&(h.F$t(fB),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),_B=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ir],Ir]}),i})();var yB=j(205),vB=j(8819);class TF{}class nd{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(r=>{const s=r.indexOf(":");if(s>0){const o=r.slice(0,s),u=o.toLowerCase(),f=r.slice(s+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(r=>{let s=n[r];const o=r.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(r,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof nd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){const r=new nd;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof nd?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){const r=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,r);const o=("a"===n.op?this.headers.get(r):void 0)||[];o.push(...s),this.headers.set(r,o);break;case"d":const u=n.value;if(u){let f=this.headers.get(r);if(!f)return;f=f.filter(g=>-1===u.indexOf(g)),0===f.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,f)}else this.headers.delete(r),this.normalizedNames.delete(r)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}}class bB{encodeKey(n){return SF(n)}encodeValue(n){return SF(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const CB=/%(\d[a-f0-9])/gi,wB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function SF(i){return encodeURIComponent(i).replace(CB,(n,r)=>{var s;return null!==(s=wB[r])&&void 0!==s?s:n})}function IF(i){return`${i}`}class uf{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new bB,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,n){const r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[f,g]=-1==u?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,u)),n.decodeValue(o.slice(u+1))],v=r.get(f)||[];v.push(g),r.set(f,v)}),r}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{const s=n.fromObject[r];this.map.set(r,Array.isArray(s)?s:[s])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){const r=[];return Object.keys(n).forEach(s=>{const o=n[s];Array.isArray(o)?o.forEach(u=>{r.push({param:s,value:u,op:"a"})}):r.push({param:s,value:o,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const r=this.encoder.encodeKey(n);return this.map.get(n).map(s=>r+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const r=new uf({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const r=("a"===n.op?this.map.get(n.param):void 0)||[];r.push(IF(n.value)),this.map.set(n.param,r);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const o=s.indexOf(IF(n.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class TB{constructor(){this.map=new Map}set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function AF(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function MF(i){return"undefined"!=typeof Blob&&i instanceof Blob}function xF(i){return"undefined"!=typeof FormData&&i instanceof FormData}class dw{constructor(n,r,s,o){let u;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,u=o):u=s,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new nd),this.context||(this.context=new TB),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=r;else{const g=r.indexOf("?");this.urlWithParams=r+(-1===g?"?":g<r.length-1?"&":"")+f}}else this.params=new uf,this.urlWithParams=r}serializeBody(){return null===this.body?null:AF(this.body)||MF(this.body)||xF(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof uf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xF(this.body)?null:MF(this.body)?this.body.type||null:AF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var r;const s=n.method||this.method,o=n.url||this.url,u=n.responseType||this.responseType,f=void 0!==n.body?n.body:this.body,g=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,v=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let C=n.headers||this.headers,T=n.params||this.params;const S=null!==(r=n.context)&&void 0!==r?r:this.context;return void 0!==n.setHeaders&&(C=Object.keys(n.setHeaders).reduce((x,k)=>x.set(k,n.setHeaders[k]),C)),n.setParams&&(T=Object.keys(n.setParams).reduce((x,k)=>x.set(k,n.setParams[k]),T)),new dw(s,o,f,{params:T,headers:C,context:S,reportProgress:v,responseType:u,withCredentials:g})}}var Vr=(()=>((Vr=Vr||{})[Vr.Sent=0]="Sent",Vr[Vr.UploadProgress=1]="UploadProgress",Vr[Vr.ResponseHeader=2]="ResponseHeader",Vr[Vr.DownloadProgress=3]="DownloadProgress",Vr[Vr.Response=4]="Response",Vr[Vr.User=5]="User",Vr))();class jA extends class{constructor(n,r=200,s="OK"){this.headers=n.headers||new nd,this.status=void 0!==n.status?n.status:r,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(n={}){super(n),this.type=Vr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new jA({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function kk(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let zA=(()=>{class i{constructor(r){this.handler=r}request(r,s,o={}){let u;if(r instanceof dw)u=r;else{let v,C;v=o.headers instanceof nd?o.headers:new nd(o.headers),o.params&&(C=o.params instanceof uf?o.params:new uf({fromObject:o.params})),u=new dw(r,s,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=(0,it.of)(u).pipe(Da(v=>this.handler.handle(v)));if(r instanceof dw||"events"===o.observe)return f;const g=f.pipe(Bi(v=>v instanceof jA));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Dt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,Dt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,Dt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));case"json":default:return g.pipe((0,Dt.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,s={}){return this.request("DELETE",r,s)}get(r,s={}){return this.request("GET",r,s)}head(r,s={}){return this.request("HEAD",r,s)}jsonp(r,s){return this.request("JSONP",r,{params:(new uf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,s={}){return this.request("OPTIONS",r,s)}patch(r,s,o={}){return this.request("PATCH",r,kk(o,s))}post(r,s,o={}){return this.request("POST",r,kk(o,s))}put(r,s,o={}){return this.request("PUT",r,kk(o,s))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(TF))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})();const NB=["*"];function FF(i){return Error(`Unable to find icon with the name "${i}"`)}function LF(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function VF(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class lg{constructor(n,r,s){this.url=n,this.svgText=r,this.options=s}}let GA=(()=>{class i{constructor(r,s,o,u){this._httpClient=r,this._sanitizer=s,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(r,s,o){return this.addSvgIconInNamespace("",r,s,o)}addSvgIconLiteral(r,s,o){return this.addSvgIconLiteralInNamespace("",r,s,o)}addSvgIconInNamespace(r,s,o,u){return this._addSvgIconConfig(r,s,new lg(o,null,u))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,s,o,u){const f=this._sanitizer.sanitize(h.q3G.HTML,o);if(!f)throw VF(o);return this._addSvgIconConfig(r,s,new lg("",f,u))}addSvgIconSet(r,s){return this.addSvgIconSetInNamespace("",r,s)}addSvgIconSetLiteral(r,s){return this.addSvgIconSetLiteralInNamespace("",r,s)}addSvgIconSetInNamespace(r,s,o){return this._addSvgIconSetConfig(r,new lg(s,null,o))}addSvgIconSetLiteralInNamespace(r,s,o){const u=this._sanitizer.sanitize(h.q3G.HTML,s);if(!u)throw VF(s);return this._addSvgIconSetConfig(r,new lg("",u,o))}registerFontClassAlias(r,s=r){return this._fontCssClassesByAlias.set(r,s),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){const s=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,r);if(!s)throw LF(r);const o=this._cachedIconsByUrl.get(s);return o?(0,it.of)(qA(o)):this._loadSvgIconFromConfig(new lg(r,null)).pipe((0,ir.b)(u=>this._cachedIconsByUrl.set(s,u)),(0,Dt.U)(u=>qA(u)))}getNamedSvgIcon(r,s=""){const o=UF(s,r);let u=this._svgIconConfigs.get(o);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(s,r),u)return this._svgIconConfigs.set(o,u),this._getSvgFromConfig(u);const f=this._iconSetConfigs.get(s);return f?this._getSvgFromIconSetConfigs(r,f):(0,yB._)(FF(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?(0,it.of)(qA(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe((0,Dt.U)(s=>qA(s)))}_getSvgFromIconSetConfigs(r,s){const o=this._extractIconWithNameFromAnySet(r,s);return o?(0,it.of)(o):eT(s.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(Ta(g=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,f.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(C)),(0,it.of)(null)})))).pipe((0,Dt.U)(()=>{const f=this._extractIconWithNameFromAnySet(r,s);if(!f)throw FF(r);return f}))}_extractIconWithNameFromAnySet(r,s){for(let o=s.length-1;o>=0;o--){const u=s[o];if(u.svgText&&u.svgText.indexOf(r)>-1){const f=this._svgElementFromConfig(u),g=this._extractSvgIconFromSet(f,r,u.options);if(g)return g}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe((0,ir.b)(s=>r.svgText=s),(0,Dt.U)(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?(0,it.of)(null):this._fetchIcon(r).pipe((0,ir.b)(s=>r.svgText=s))}_extractSvgIconFromSet(r,s,o){const u=r.querySelector(`[id="${s}"]`);if(!u)return null;const f=u.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const g=this._svgElementFromString("<svg></svg>");return g.appendChild(f),this._setSvgAttributes(g,o)}_svgElementFromString(r){const s=this._document.createElement("DIV");s.innerHTML=r;const o=s.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(r){const s=this._svgElementFromString("<svg></svg>"),o=r.attributes;for(let u=0;u<o.length;u++){const{name:f,value:g}=o[u];"id"!==f&&s.setAttribute(f,g)}for(let u=0;u<r.childNodes.length;u++)r.childNodes[u].nodeType===this._document.ELEMENT_NODE&&s.appendChild(r.childNodes[u].cloneNode(!0));return s}_setSvgAttributes(r,s){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),s&&s.viewBox&&r.setAttribute("viewBox",s.viewBox),r}_fetchIcon(r){var s;const{url:o,options:u}=r,f=null!==(s=null==u?void 0:u.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const g=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,o);if(!g)throw LF(o);const v=this._inProgressUrlFetches.get(g);if(v)return v;const C=this._httpClient.get(g,{responseType:"text",withCredentials:f}).pipe(Wf(()=>this._inProgressUrlFetches.delete(g)),(0,vB.B)());return this._inProgressUrlFetches.set(g,C),C}_addSvgIconConfig(r,s,o){return this._svgIconConfigs.set(UF(r,s),o),this}_addSvgIconSetConfig(r,s){const o=this._iconSetConfigs.get(r);return o?o.push(s):this._iconSetConfigs.set(r,[s]),this}_svgElementFromConfig(r){if(!r.svgElement){const s=this._svgElementFromString(r.svgText);this._setSvgAttributes(s,r.options),r.svgElement=s}return r.svgElement}_getIconConfigFromResolvers(r,s){for(let o=0;o<this._resolvers.length;o++){const u=this._resolvers[o](s,r);if(u)return FB(u)?new lg(u.url,null,u.options):new lg(u,null)}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(zA,8),h.LFG(Li),h.LFG(pe,8),h.LFG(h.qLn))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(zA,8),h.LFG(Li),h.LFG(pe,8),h.LFG(h.qLn))},token:i,providedIn:"root"}),i})();function qA(i){return i.cloneNode(!0)}function UF(i,n){return i+":"+n}function FB(i){return!(!i.url||!i.options)}const LB=cw(class{constructor(i){this._elementRef=i}}),VB=new h.OlP("mat-icon-location",{providedIn:"root",factory:function(){const i=(0,h.f3M)(pe),n=i?i.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),BF=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$B=BF.map(i=>`[${i}]`).join(", "),HB=/^url\(['"]?#(.*?)['"]?\)$/;let $F=(()=>{class i extends LB{constructor(r,s,o,u,f){super(r),this._iconRegistry=s,this._location=u,this._errorHandler=f,this._inline=!1,this._currentIconFetch=qf.w.EMPTY,o||r.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(r){this._inline=Ai(r)}get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}get fontSet(){return this._fontSet}set fontSet(r){const s=this._cleanupFontValue(r);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(r){const s=this._cleanupFontValue(r);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(r){if(!r)return["",""];const s=r.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const r=this._elementsWithExternalReferences;if(r&&r.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();const s=r.querySelectorAll("style");for(let u=0;u<s.length;u++)s[u].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){const r=this._elementRef.nativeElement;let s=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const o=r.childNodes[s];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&r.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const r=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&r.classList.remove(this._previousFontSetClass),s&&r.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return"string"==typeof r?r.trim().split(" ")[0]:r}_prependPathToReferences(r){const s=this._elementsWithExternalReferences;s&&s.forEach((o,u)=>{o.forEach(f=>{u.setAttribute(f.name,`url('${r}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(r){const s=r.querySelectorAll($B),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<s.length;u++)BF.forEach(f=>{const g=s[u],v=g.getAttribute(f),C=v?v.match(HB):null;if(C){let T=o.get(g);T||(T=[],o.set(g,T)),T.push({name:f,value:C[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){const[s,o]=this._splitIconName(r);s&&(this._svgNamespace=s),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,s).pipe(Al(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${o}! ${u.message}`))})}}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.SBq),h.Y36(GA),h.$8M("aria-hidden"),h.Y36(VB),h.Y36(h.qLn))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(r,s){2&r&&(h.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),h.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:NB,decls:1,vars:0,template:function(r,s){1&r&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),jB=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ir],Ir]}),i})();const HF=["mat-button",""],jF=["*"],zF=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",GB=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],qB=cw(fF($U(class{constructor(i){this._elementRef=i}})));let Fk=(()=>{class i extends qB{constructor(r,s,o){super(r),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of GB)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);r.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(r,s){r?this._focusMonitor.focusVia(this._getHostElement(),r,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...r){return r.some(s=>this._getHostElement().hasAttribute(s))}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.SBq),h.Y36(KR),h.Y36(Ic,8))},i.\u0275cmp=h.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(r,s){if(1&r&&h.Gf(HA,5),2&r){let o;h.iGM(o=h.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(r,s){2&r&&(h.uIk("disabled",s.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:HF,ngContentSelectors:jF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(r,s){1&r&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1),h._UZ(3,"span",2)),2&r&&(h.xp6(2),h.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),h.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[HA],styles:[zF],encapsulation:2,changeDetection:0}),i})(),WB=(()=>{class i extends Fk{constructor(r,s,o){super(s,r,o)}_haltDisabledEvents(r){this.disabled&&(r.preventDefault(),r.stopImmediatePropagation())}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(KR),h.Y36(h.SBq),h.Y36(Ic,8))},i.\u0275cmp=h.Xpm({type:i,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(r,s){1&r&&h.NdJ("click",function(u){return s._haltDisabledEvents(u)}),2&r&&(h.uIk("tabindex",s.disabled?-1:s.tabIndex||0)("disabled",s.disabled||null)("aria-disabled",s.disabled.toString()),h.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[h.qOj],attrs:HF,ngContentSelectors:jF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(r,s){1&r&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1),h._UZ(3,"span",2)),2&r&&(h.xp6(2),h.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),h.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[HA],styles:[zF],encapsulation:2,changeDetection:0}),i})(),ZB=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[vF,Ir],Ir]}),i})(),Lk=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-header"]],decls:20,vars:0,consts:[["color","primary"],[1,"row","between-xs","middle-xs","header-row"],["mat-raised-button","","color","primary","routerLink","/home"],["mat-raised-button","","color","primary","routerLink","/employees"]],template:function(r,s){1&r&&(h.TgZ(0,"mat-toolbar",0),h.TgZ(1,"mat-toolbar-row"),h.TgZ(2,"div",1),h.TgZ(3,"nav"),h.TgZ(4,"span"),h.TgZ(5,"mat-icon"),h._uU(6,"public"),h.qZA(),h._uU(7," Ingenieria WEB "),h.qZA(),h.TgZ(8,"a",2),h.TgZ(9,"mat-icon"),h._uU(10,"home"),h.qZA(),h._uU(11," Home"),h.qZA(),h.TgZ(12,"a",3),h.TgZ(13,"mat-icon"),h._uU(14,"view_list"),h.qZA(),h._uU(15," Lista de Empleados"),h.qZA(),h.qZA(),h.TgZ(16,"a",2),h.TgZ(17,"mat-icon"),h._uU(18,"login"),h.qZA(),h._uU(19," Iniciar sesi\xf3n"),h.qZA(),h.qZA(),h.qZA(),h.qZA())},directives:[gB,wF,$F,WB,eh],styles:["nav[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:auto}.header-row[_ngcontent-%COMP%]{width:100%}"]}),i})();const YB=["*",[["mat-card-footer"]]],KB=["*","mat-card-footer"];let t3=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),n3=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),r3=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),i3=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(r,s){2&r&&h.ekj("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),s3=(()=>{class i{constructor(r){this._animationMode=r}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Ic,8))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(r,s){2&r&&h.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:KB,decls:2,vars:0,template:function(r,s){1&r&&(h.F$t(YB),h.Hsn(0),h.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),o3=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ir],Ir]}),i})();var a3=j(9105);function hw(i,n,r,s){return(0,a3.m)(r)&&(s=r,r=void 0),s?hw(i,n,r).pipe((0,Dt.U)(o=>(0,Dl.k)(o)?s(...o):s(o))):new Tn.y(o=>{GF(i,n,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,r)})}function GF(i,n,r,s,o){let u;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const f=i;i.addEventListener(n,r,o),u=()=>f.removeEventListener(n,r,o)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const f=i;i.on(n,r),u=()=>f.off(n,r)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const f=i;i.addListener(n,r),u=()=>f.removeListener(n,r)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let f=0,g=i.length;f<g;f++)GF(i[f],n,r,s,o)}s.add(u)}const d3=["underline"],h3=["connectionContainer"],f3=["inputContainer"],p3=["label"];function m3(i,n){1&i&&(h.ynx(0),h.TgZ(1,"div",14),h._UZ(2,"div",15),h._UZ(3,"div",16),h._UZ(4,"div",17),h.qZA(),h.TgZ(5,"div",18),h._UZ(6,"div",15),h._UZ(7,"div",16),h._UZ(8,"div",17),h.qZA(),h.BQk())}function g3(i,n){1&i&&(h.TgZ(0,"div",19),h.Hsn(1,1),h.qZA())}function _3(i,n){if(1&i&&(h.ynx(0),h.Hsn(1,2),h.TgZ(2,"span"),h._uU(3),h.qZA(),h.BQk()),2&i){const r=h.oxw(2);h.xp6(3),h.Oqu(r._control.placeholder)}}function y3(i,n){1&i&&h.Hsn(0,3,["*ngSwitchCase","true"])}function v3(i,n){1&i&&(h.TgZ(0,"span",23),h._uU(1," *"),h.qZA())}function b3(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"label",20,21),h.NdJ("cdkObserveContent",function(){return h.CHM(r),h.oxw().updateOutlineGap()}),h.YNc(2,_3,4,1,"ng-container",12),h.YNc(3,y3,1,0,"ng-content",12),h.YNc(4,v3,2,0,"span",22),h.qZA()}if(2&i){const r=h.oxw();h.ekj("mat-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-form-field-empty",r._control.empty&&!r._shouldAlwaysFloat())("mat-accent","accent"==r.color)("mat-warn","warn"==r.color),h.Q6J("cdkObserveContentDisabled","outline"!=r.appearance)("id",r._labelId)("ngSwitch",r._hasLabel()),h.uIk("for",r._control.id)("aria-owns",r._control.id),h.xp6(2),h.Q6J("ngSwitchCase",!1),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngIf",!r.hideRequiredMarker&&r._control.required&&!r._control.disabled)}}function E3(i,n){1&i&&(h.TgZ(0,"div",24),h.Hsn(1,4),h.qZA())}function C3(i,n){if(1&i&&(h.TgZ(0,"div",25,26),h._UZ(2,"span",27),h.qZA()),2&i){const r=h.oxw();h.xp6(2),h.ekj("mat-accent","accent"==r.color)("mat-warn","warn"==r.color)}}function w3(i,n){if(1&i&&(h.TgZ(0,"div"),h.Hsn(1,5),h.qZA()),2&i){const r=h.oxw();h.Q6J("@transitionMessages",r._subscriptAnimationState)}}function T3(i,n){if(1&i&&(h.TgZ(0,"div",31),h._uU(1),h.qZA()),2&i){const r=h.oxw(2);h.Q6J("id",r._hintLabelId),h.xp6(1),h.Oqu(r.hintLabel)}}function D3(i,n){if(1&i&&(h.TgZ(0,"div",28),h.YNc(1,T3,2,2,"div",29),h.Hsn(2,6),h._UZ(3,"div",30),h.Hsn(4,7),h.qZA()),2&i){const r=h.oxw();h.Q6J("@transitionMessages",r._subscriptAnimationState),h.xp6(1),h.Q6J("ngIf",r.hintLabel)}}const S3=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],I3=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],qF=new h.OlP("MatError"),M3={transitionMessages:oV("transitionMessages",[lV("enter",CA({opacity:1,transform:"translateY(0%)"})),cV("void => enter",[CA({opacity:0,transform:"translateY(-5px)"}),aV("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Vk=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i}),i})();const WF=new h.OlP("MatHint");let Uk=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-label"]]}),i})(),R3=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=h.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const ZF=new h.OlP("MatPrefix"),YF=new h.OlP("MatSuffix");let KF=0;const N3=cw(class{constructor(i){this._elementRef=i}},"primary"),O3=new h.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JF=new h.OlP("MatFormField");let P3=(()=>{class i extends N3{constructor(r,s,o,u,f,g,v,C){super(r),this._changeDetectorRef=s,this._dir=u,this._defaults=f,this._platform=g,this._ngZone=v,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Xt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+KF++,this._labelId="mat-form-field-label-"+KF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==C,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(r){const s=this._appearance;this._appearance=r||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==r&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(r){this._hideRequiredMarker=Ai(r)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(r){this._hintLabel=r,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(r){r!==this._floatLabel&&(this._floatLabel=r||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(r){this._explicitFormFieldControl=r}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const r=this._control;r.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${r.controlType}`),r.stateChanges.pipe(Ds(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),r.ngControl&&r.ngControl.valueChanges&&r.ngControl.valueChanges.pipe(la(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(la(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,iA.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ds(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ds(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(la(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(r){const s=this._control?this._control.ngControl:null;return s&&s[r]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,hw(this._label.nativeElement,"transitionend").pipe(Al(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let r=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&r.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,o=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;s?r.push(s.id):this._hintLabel&&r.push(this._hintLabelId),o&&r.push(o.id)}else this._errorChildren&&r.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(r)}}_validateControlChild(){}updateOutlineGap(){const r=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&r&&r.children.length&&r.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const u=this._connectionContainerRef.nativeElement,f=u.querySelectorAll(".mat-form-field-outline-start"),g=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const v=u.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(v),T=r.children,S=this._getStartEnd(T[0].getBoundingClientRect());let x=0;for(let k=0;k<T.length;k++)x+=T[k].offsetWidth;s=Math.abs(S-C)-5,o=x>0?.75*x+10:0}for(let v=0;v<f.length;v++)f[v].style.width=`${s}px`;for(let v=0;v<g.length;v++)g[v].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(r){return this._dir&&"rtl"===this._dir.value?r.right:r.left}_isAttachedToDOM(){const r=this._elementRef.nativeElement;if(r.getRootNode){const s=r.getRootNode();return s&&s!==r}return document.documentElement.contains(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(ow,8),h.Y36(O3,8),h.Y36(er),h.Y36(h.R0b),h.Y36(Ic,8))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(r,s,o){if(1&r&&(h.Suo(o,Vk,5),h.Suo(o,Vk,7),h.Suo(o,Uk,5),h.Suo(o,Uk,7),h.Suo(o,R3,5),h.Suo(o,qF,5),h.Suo(o,WF,5),h.Suo(o,ZF,5),h.Suo(o,YF,5)),2&r){let u;h.iGM(u=h.CRH())&&(s._controlNonStatic=u.first),h.iGM(u=h.CRH())&&(s._controlStatic=u.first),h.iGM(u=h.CRH())&&(s._labelChildNonStatic=u.first),h.iGM(u=h.CRH())&&(s._labelChildStatic=u.first),h.iGM(u=h.CRH())&&(s._placeholderChild=u.first),h.iGM(u=h.CRH())&&(s._errorChildren=u),h.iGM(u=h.CRH())&&(s._hintChildren=u),h.iGM(u=h.CRH())&&(s._prefixChildren=u),h.iGM(u=h.CRH())&&(s._suffixChildren=u)}},viewQuery:function(r,s){if(1&r&&(h.Gf(d3,5),h.Gf(h3,7),h.Gf(f3,5),h.Gf(p3,5)),2&r){let o;h.iGM(o=h.CRH())&&(s.underlineRef=o.first),h.iGM(o=h.CRH())&&(s._connectionContainerRef=o.first),h.iGM(o=h.CRH())&&(s._inputContainerRef=o.first),h.iGM(o=h.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(r,s){2&r&&h.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[h._Bn([{provide:JF,useExisting:i}]),h.qOj],ngContentSelectors:I3,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(r,s){1&r&&(h.F$t(S3),h.TgZ(0,"div",0),h.TgZ(1,"div",1,2),h.NdJ("click",function(u){return s._control.onContainerClick&&s._control.onContainerClick(u)}),h.YNc(3,m3,9,0,"ng-container",3),h.YNc(4,g3,2,0,"div",4),h.TgZ(5,"div",5,6),h.Hsn(7),h.TgZ(8,"span",7),h.YNc(9,b3,5,16,"label",8),h.qZA(),h.qZA(),h.YNc(10,E3,2,0,"div",9),h.qZA(),h.YNc(11,C3,3,4,"div",10),h.TgZ(12,"div",11),h.YNc(13,w3,2,1,"div",12),h.YNc(14,D3,5,2,"div",13),h.qZA(),h.qZA()),2&r&&(h.xp6(3),h.Q6J("ngIf","outline"==s.appearance),h.xp6(1),h.Q6J("ngIf",s._prefixChildren.length),h.xp6(5),h.Q6J("ngIf",s._hasFloatingLabel()),h.xp6(1),h.Q6J("ngIf",s._suffixChildren.length),h.xp6(1),h.Q6J("ngIf","outline"!=s.appearance),h.xp6(1),h.Q6J("ngSwitch",s._getDisplayedMessages()),h.xp6(1),h.Q6J("ngSwitchCase","error"),h.xp6(1),h.Q6J("ngSwitchCase","hint"))},directives:[xo,Oi,$n,F2],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[M3.transitionMessages]},changeDetection:0}),i})(),XF=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[gl,Ir,WO],Ir]}),i})();class L3{constructor(n){this.durationSelector=n}call(n,r){return r.subscribe(new V3(n,this.durationSelector))}}class V3 extends Ui.Ds{constructor(n,r){super(n),this.durationSelector=r,this.hasValue=!1}_next(n){if(this.value=n,this.hasValue=!0,!this.throttled){let r;try{const{durationSelector:o}=this;r=o(n)}catch(o){return this.destination.error(o)}const s=(0,Ui.ft)(r,new Ui.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:n,hasValue:r,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),r&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var eL=j(6561);function B3(i){const{index:n,period:r,subscriber:s}=i;if(s.next(n),!s.closed){if(-1===r)return s.complete();i.index=n+1,this.schedule(i,r)}}const tL=yA({passive:!0});let nL=(()=>{class i{constructor(r,s){this._platform=r,this._ngZone=s,this._monitoredElements=new Map}monitor(r){if(!this._platform.isBrowser)return is.E;const s=ed(r),o=this._monitoredElements.get(s);if(o)return o.subject;const u=new Xt.xQ,f="cdk-text-field-autofilled",g=v=>{"cdk-text-field-autofill-start"!==v.animationName||s.classList.contains(f)?"cdk-text-field-autofill-end"===v.animationName&&s.classList.contains(f)&&(s.classList.remove(f),this._ngZone.run(()=>u.next({target:v.target,isAutofilled:!1}))):(s.classList.add(f),this._ngZone.run(()=>u.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",g,tL),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:u,unlisten:()=>{s.removeEventListener("animationstart",g,tL)}}),u}stopMonitoring(r){const s=ed(r),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((r,s)=>this.stopMonitoring(s))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(er),h.LFG(h.R0b))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(er),h.LFG(h.R0b))},token:i,providedIn:"root"}),i})(),rL=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[nw]]}),i})();const H3=new h.OlP("MAT_INPUT_VALUE_ACCESSOR"),j3=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let z3=0;const G3=HU(class{constructor(i,n,r,s){this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=r,this.ngControl=s}});let q3=(()=>{class i extends G3{constructor(r,s,o,u,f,g,v,C,T,S){super(g,u,f,o),this._elementRef=r,this._platform=s,this._autofillMonitor=C,this._formField=S,this._uid="mat-input-"+z3++,this.focused=!1,this.stateChanges=new Xt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>jO().has(N));const x=this._elementRef.nativeElement,k=x.nodeName.toLowerCase();this._inputValueAccessor=v||x,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&T.runOutsideAngular(()=>{r.nativeElement.addEventListener("keyup",N=>{const L=N.target;!L.value&&0===L.selectionStart&&0===L.selectionEnd&&(L.setSelectionRange(1,1),L.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===k,this._isTextarea="textarea"===k,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(r){this._disabled=Ai(r),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(r){this._id=r||this._uid}get required(){return this._required}set required(r){this._required=Ai(r)}get type(){return this._type}set type(r){this._type=r||"text",this._validateType(),!this._isTextarea&&jO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(r){r!==this.value&&(this._inputValueAccessor.value=r,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(r){this._readonly=Ai(r)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(r=>{this.autofilled=r.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(r){this._elementRef.nativeElement.focus(r)}_focusChanged(r){r!==this.focused&&(this.focused=r,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,s;const o=(null===(s=null===(r=this._formField)||void 0===r?void 0:r._hideControlPlaceholder)||void 0===s?void 0:s.call(r))?null:this.placeholder;if(o!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=o,o?u.setAttribute("placeholder",o):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const r=this._elementRef.nativeElement.value;this._previousNativeValue!==r&&(this._previousNativeValue=r,this.stateChanges.next())}_validateType(){j3.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let r=this._elementRef.nativeElement.validity;return r&&r.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const r=this._elementRef.nativeElement,s=r.options[0];return this.focused||r.multiple||!this.empty||!!(r.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(r){r.length?this._elementRef.nativeElement.setAttribute("aria-describedby",r.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.SBq),h.Y36(er),h.Y36(za,10),h.Y36(Ap,8),h.Y36(ah,8),h.Y36(mF),h.Y36(H3,10),h.Y36(nL),h.Y36(h.R0b),h.Y36(JF,8))},i.\u0275dir=h.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(r,s){1&r&&h.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&r&&(h.Ikx("disabled",s.disabled)("required",s.required),h.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),h.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[h._Bn([{provide:Vk,useExisting:i}]),h.qOj,h.TTD]}),i})(),W3=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[mF],imports:[[rL,XF,Ir],rL,XF]}),i})();function Z3(i,n){if(1&i&&(h.O4$(),h._UZ(0,"circle",3)),2&i){const r=h.oxw();h.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),h.uIk("r",r._getCircleRadius())}}function Y3(i,n){if(1&i&&(h.O4$(),h._UZ(0,"circle",3)),2&i){const r=h.oxw();h.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),h.uIk("r",r._getCircleRadius())}}function K3(i,n){if(1&i&&(h.O4$(),h._UZ(0,"circle",3)),2&i){const r=h.oxw();h.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+r._spinnerAnimationLabel)("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),h.uIk("r",r._getCircleRadius())}}function Q3(i,n){if(1&i&&(h.O4$(),h._UZ(0,"circle",3)),2&i){const r=h.oxw();h.Udp("stroke-dashoffset",r._getStrokeDashOffset(),"px")("stroke-dasharray",r._getStrokeCircumference(),"px")("stroke-width",r._getCircleStrokeWidth(),"%"),h.uIk("r",r._getCircleRadius())}}const iL=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",X3=cw(class{constructor(i){this._elementRef=i}},"primary"),sL=new h.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class rd extends X3{constructor(n,r,s,o,u){super(n),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const f=rd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(s.head)||f.set(s.head,new Set([100])),this._fallbackAnimation=r.EDGE||r.TRIDENT,this._noopAnimations="NoopAnimations"===o&&!!u&&!u._forceAnimations,u&&(u.diameter&&(this.diameter=u.diameter),u.strokeWidth&&(this.strokeWidth=u.strokeWidth))}get diameter(){return this._diameter}set diameter(n){this._diameter=Dc(n),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(n){this._strokeWidth=Dc(n)}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,Dc(n)))}ngOnInit(){const n=this._elementRef.nativeElement;this._styleRoot=zO(n)||this._document.head,this._attachStyleNode(),n.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const n=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const n=this._styleRoot,r=this._diameter,s=rd._diameters;let o=s.get(n);if(!o||!o.has(r)){const u=this._document.createElement("style");u.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),u.textContent=this._getAnimationText(),n.appendChild(u),o||(o=new Set,s.set(n,o)),o.add(r)}}_getAnimationText(){const n=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*n).replace(/END_VALUE/g,""+.2*n).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}rd.\u0275fac=function(n){return new(n||rd)(h.Y36(h.SBq),h.Y36(er),h.Y36(pe,8),h.Y36(Ic,8),h.Y36(sL))},rd.\u0275cmp=h.Xpm({type:rd,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(n,r){2&n&&(h.uIk("aria-valuemin","determinate"===r.mode?0:null)("aria-valuemax","determinate"===r.mode?100:null)("aria-valuenow","determinate"===r.mode?r.value:null)("mode",r.mode),h.Udp("width",r.diameter,"px")("height",r.diameter,"px"),h.ekj("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[h.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(n,r){1&n&&(h.O4$(),h.TgZ(0,"svg",0),h.YNc(1,Z3,1,9,"circle",1),h.YNc(2,Y3,1,7,"circle",2),h.qZA()),2&n&&(h.Udp("width",r.diameter,"px")("height",r.diameter,"px"),h.Q6J("ngSwitch","indeterminate"===r.mode),h.uIk("viewBox",r._getViewBox()),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngSwitchCase",!1))},directives:[Oi,$n],styles:[iL],encapsulation:2,changeDetection:0}),rd._diameters=new WeakMap;let n$=(()=>{class i extends rd{constructor(r,s,o,u,f){super(r,s,o,u,f),this.mode="indeterminate"}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.SBq),h.Y36(er),h.Y36(pe,8),h.Y36(Ic,8),h.Y36(sL))},i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(r,s){2&r&&(h.Udp("width",s.diameter,"px")("height",s.diameter,"px"),h.ekj("_mat-animation-noopable",s._noopAnimations))},inputs:{color:"color"},features:[h.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(r,s){1&r&&(h.O4$(),h.TgZ(0,"svg",0),h.YNc(1,K3,1,9,"circle",1),h.YNc(2,Q3,1,7,"circle",2),h.qZA()),2&r&&(h.Udp("width",s.diameter,"px")("height",s.diameter,"px"),h.Q6J("ngSwitch","indeterminate"===s.mode),h.uIk("viewBox",s._getViewBox()),h.xp6(1),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngSwitchCase",!1))},directives:[Oi,$n],styles:[iL],encapsulation:2,changeDetection:0}),i})(),r$=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Ir,gl],Ir]}),i})();function i$(i,n){1&i&&(h.TgZ(0,"span",12),h._uU(1," TODOS LOS CAMPOS SON REQUERIDOS"),h.qZA())}function s$(i,n){1&i&&h._UZ(0,"mat-spinner")}let oL=(()=>{class i{constructor(r,s,o,u){this.fb=r,this._employeeService=s,this.router=o,this.aRoute=u,this.submitted=!1,this.loading=!1,this.title="",this.description="",this.button="",this.createEmployee=this.fb.group({firstName:["",rh.required],lastName:["",rh.required],userName:["",rh.required],email:["",[rh.required,rh.email]]}),this.id=this.aRoute.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.isEdit()}addUpdateEmployee(){this.submitted=!0,!this.createEmployee.invalid&&(null===this.id?this.addEmployee():this.updateEmployee(this.id))}addEmployee(){const r={firstName:this.createEmployee.value.firstName,lastName:this.createEmployee.value.lastName,userName:this.createEmployee.value.userName,email:this.createEmployee.value.email,creationDate:new Date,modificationDate:new Date};this.loading=!0,console.log(r),this._employeeService.addEmployee(r).then(()=>{console.log("Empleado registrado!"),this.loading=!1,this.router.navigate(["/employees"])}).catch(s=>{console.error(),this.loading=!1})}updateEmployee(r){this.loading=!0;const s={firstName:this.createEmployee.value.firstName,lastName:this.createEmployee.value.lastName,userName:this.createEmployee.value.userName,email:this.createEmployee.value.email,modificationDate:new Date};this._employeeService.updateEmployee(r,s).then(()=>{this.loading=!1,this.router.navigate(["/employees"])}).catch(o=>{console.error(),this.loading=!1})}isEdit(){null!==this.id?(this.title="Editar Empleado",this.description="Edite los campos del empleado",this.button="Editar",this.loading=!0,this._employeeService.getEmployee(this.id).subscribe(r=>{this.loading=!1,console.log(r.payload.data().firstName),this.createEmployee.setValue({firstName:r.payload.data().firstName,lastName:r.payload.data().lastName,userName:r.payload.data().userName,email:r.payload.data().email})})):(this.title="Nuevo Empleado",this.description="Ingrese un nuevo empleado",this.button="Agregar")}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(OT),h.Y36(m),h.Y36(Ci),h.Y36(Pa))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-create-employee"]],decls:34,vars:6,consts:[[1,"container"],[1,"align"],["class","align","color","warn",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["matInput","","formControlName","firstName","placeholder","Ej. Juan"],["matInput","","formControlName","lastName","placeholder","Ej. Perez"],["matInput","","formControlName","userName","placeholder","Ej. juan123"],["matInput","","formControlName","email","placeholder","Ej. juan@gmail.com"],["mat-raised-button","","color","primary","routerLink","/employees"],["type","submit","mat-raised-button","","color","accent"],[4,"ngIf"],["color","warn",1,"align"]],template:function(r,s){1&r&&(h._UZ(0,"app-header"),h.TgZ(1,"div",0),h.TgZ(2,"mat-card"),h.TgZ(3,"div",1),h.TgZ(4,"mat-card-title"),h._uU(5),h.qZA(),h.qZA(),h.TgZ(6,"mat-card-subtitle"),h._uU(7),h.qZA(),h.TgZ(8,"mat-card-content"),h.YNc(9,i$,2,0,"span",2),h.TgZ(10,"form",3),h.NdJ("ngSubmit",function(){return s.addUpdateEmployee()}),h.TgZ(11,"mat-form-field",4),h.TgZ(12,"mat-label"),h._uU(13,"Nombre"),h.qZA(),h._UZ(14,"textarea",5),h.qZA(),h.TgZ(15,"mat-form-field",4),h.TgZ(16,"mat-label"),h._uU(17,"Apellido"),h.qZA(),h._UZ(18,"textarea",6),h.qZA(),h.TgZ(19,"mat-form-field",4),h.TgZ(20,"mat-label"),h._uU(21,"User Name"),h.qZA(),h._UZ(22,"textarea",7),h.qZA(),h.TgZ(23,"mat-form-field",4),h.TgZ(24,"mat-label"),h._uU(25,"Correo electr\xf3nico"),h.qZA(),h._UZ(26,"textarea",8),h.qZA(),h.TgZ(27,"div",1),h.TgZ(28,"mat-card-actions"),h.TgZ(29,"button",9),h._uU(30,"Volver"),h.qZA(),h.TgZ(31,"button",10),h._uU(32),h.qZA(),h.qZA(),h.YNc(33,s$,1,0,"mat-spinner",11),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&r&&(h.xp6(5),h.Oqu(s.title),h.xp6(2),h.Oqu(s.description),h.xp6(2),h.Q6J("ngIf",s.submitted&&s.createEmployee.invalid),h.xp6(1),h.Q6J("formGroup",s.createEmployee),h.xp6(22),h.Oqu(s.button),h.xp6(1),h.Q6J("ngIf",s.loading))},directives:[Lk,s3,n3,r3,t3,xo,ET,uT,ah,P3,Uk,q3,nh,b_,a0,i3,Fk,Xd,n$],styles:[".align[_ngcontent-%COMP%]{padding:3.8%;display:flex;flex-direction:column;align-items:center}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}"]}),i})();function aL(i){return null!==i&&"object"==typeof i&&"constructor"in i&&i.constructor===Object}function $k(i={},n={}){Object.keys(n).forEach(r=>{void 0===i[r]?i[r]=n[r]:aL(n[r])&&aL(i[r])&&Object.keys(n[r]).length>0&&$k(i[r],n[r])})}const lL={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Co(){const i="undefined"!=typeof document?document:{};return $k(i,lL),i}const o$={document:lL,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:i=>"undefined"==typeof setTimeout?(i(),null):setTimeout(i,0),cancelAnimationFrame(i){"undefined"!=typeof setTimeout&&clearTimeout(i)}};function ui(){const i="undefined"!=typeof window?window:{};return $k(i,o$),i}class df extends Array{constructor(n){super(...n||[]),function(i){const n=i.__proto__;Object.defineProperty(i,"__proto__",{get:()=>n,set(r){n.__proto__=r}})}(this)}}function fw(i=[]){const n=[];return i.forEach(r=>{Array.isArray(r)?n.push(...fw(r)):n.push(r)}),n}function cL(i,n){return Array.prototype.filter.call(i,n)}function Bt(i,n){const r=ui(),s=Co();let o=[];if(!n&&i instanceof df)return i;if(!i)return new df(o);if("string"==typeof i){const u=i.trim();if(u.indexOf("<")>=0&&u.indexOf(">")>=0){let f="div";0===u.indexOf("<li")&&(f="ul"),0===u.indexOf("<tr")&&(f="tbody"),(0===u.indexOf("<td")||0===u.indexOf("<th"))&&(f="tr"),0===u.indexOf("<tbody")&&(f="table"),0===u.indexOf("<option")&&(f="select");const g=s.createElement(f);g.innerHTML=u;for(let v=0;v<g.childNodes.length;v+=1)o.push(g.childNodes[v])}else o=function(i,n){if("string"!=typeof i)return[i];const r=[],s=n.querySelectorAll(i);for(let o=0;o<s.length;o+=1)r.push(s[o]);return r}(i.trim(),n||s)}else if(i.nodeType||i===r||i===s)o.push(i);else if(Array.isArray(i)){if(i instanceof df)return i;o=i}return new df(function(i){const n=[];for(let r=0;r<i.length;r+=1)-1===n.indexOf(i[r])&&n.push(i[r]);return n}(o))}Bt.fn=df.prototype;const W$="resize scroll".split(" ");function dr(i){return function(...r){if(void 0===r[0]){for(let s=0;s<this.length;s+=1)W$.indexOf(i)<0&&(i in this[s]?this[s][i]():Bt(this[s]).trigger(i));return this}return this.on(i,...r)}}dr("click"),dr("blur"),dr("focus"),dr("focusin"),dr("focusout"),dr("keyup"),dr("keydown"),dr("keypress"),dr("submit"),dr("change"),dr("mousedown"),dr("mousemove"),dr("mouseup"),dr("mouseenter"),dr("mouseleave"),dr("mouseout"),dr("mouseover"),dr("touchstart"),dr("touchend"),dr("touchmove"),dr("resize"),dr("scroll");const uL={addClass:function(...i){const n=fw(i.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.add(...n)}),this},removeClass:function(...i){const n=fw(i.map(r=>r.split(" ")));return this.forEach(r=>{r.classList.remove(...n)}),this},hasClass:function(...i){const n=fw(i.map(r=>r.split(" ")));return cL(this,r=>n.filter(s=>r.classList.contains(s)).length>0).length>0},toggleClass:function(...i){const n=fw(i.map(r=>r.split(" ")));this.forEach(r=>{n.forEach(s=>{r.classList.toggle(s)})})},attr:function(i,n){if(1===arguments.length&&"string"==typeof i)return this[0]?this[0].getAttribute(i):void 0;for(let r=0;r<this.length;r+=1)if(2===arguments.length)this[r].setAttribute(i,n);else for(const s in i)this[r][s]=i[s],this[r].setAttribute(s,i[s]);return this},removeAttr:function(i){for(let n=0;n<this.length;n+=1)this[n].removeAttribute(i);return this},transform:function(i){for(let n=0;n<this.length;n+=1)this[n].style.transform=i;return this},transition:function(i){for(let n=0;n<this.length;n+=1)this[n].style.transitionDuration="string"!=typeof i?`${i}ms`:i;return this},on:function(...i){let[n,r,s,o]=i;function u(C){const T=C.target;if(!T)return;const S=C.target.dom7EventData||[];if(S.indexOf(C)<0&&S.unshift(C),Bt(T).is(r))s.apply(T,S);else{const x=Bt(T).parents();for(let k=0;k<x.length;k+=1)Bt(x[k]).is(r)&&s.apply(x[k],S)}}function f(C){const T=C&&C.target&&C.target.dom7EventData||[];T.indexOf(C)<0&&T.unshift(C),s.apply(this,T)}"function"==typeof i[1]&&([n,s,o]=i,r=void 0),o||(o=!1);const g=n.split(" ");let v;for(let C=0;C<this.length;C+=1){const T=this[C];if(r)for(v=0;v<g.length;v+=1){const S=g[v];T.dom7LiveListeners||(T.dom7LiveListeners={}),T.dom7LiveListeners[S]||(T.dom7LiveListeners[S]=[]),T.dom7LiveListeners[S].push({listener:s,proxyListener:u}),T.addEventListener(S,u,o)}else for(v=0;v<g.length;v+=1){const S=g[v];T.dom7Listeners||(T.dom7Listeners={}),T.dom7Listeners[S]||(T.dom7Listeners[S]=[]),T.dom7Listeners[S].push({listener:s,proxyListener:f}),T.addEventListener(S,f,o)}}return this},off:function(...i){let[n,r,s,o]=i;"function"==typeof i[1]&&([n,s,o]=i,r=void 0),o||(o=!1);const u=n.split(" ");for(let f=0;f<u.length;f+=1){const g=u[f];for(let v=0;v<this.length;v+=1){const C=this[v];let T;if(!r&&C.dom7Listeners?T=C.dom7Listeners[g]:r&&C.dom7LiveListeners&&(T=C.dom7LiveListeners[g]),T&&T.length)for(let S=T.length-1;S>=0;S-=1){const x=T[S];s&&x.listener===s||s&&x.listener&&x.listener.dom7proxy&&x.listener.dom7proxy===s?(C.removeEventListener(g,x.proxyListener,o),T.splice(S,1)):s||(C.removeEventListener(g,x.proxyListener,o),T.splice(S,1))}}}return this},trigger:function(...i){const n=ui(),r=i[0].split(" "),s=i[1];for(let o=0;o<r.length;o+=1){const u=r[o];for(let f=0;f<this.length;f+=1){const g=this[f];if(n.CustomEvent){const v=new n.CustomEvent(u,{detail:s,bubbles:!0,cancelable:!0});g.dom7EventData=i.filter((C,T)=>T>0),g.dispatchEvent(v),g.dom7EventData=[],delete g.dom7EventData}}}return this},transitionEnd:function(i){const n=this;return i&&n.on("transitionend",function r(s){s.target===this&&(i.call(this,s),n.off("transitionend",r))}),this},outerWidth:function(i){if(this.length>0){if(i){const n=this.styles();return this[0].offsetWidth+parseFloat(n.getPropertyValue("margin-right"))+parseFloat(n.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(i){if(this.length>0){if(i){const n=this.styles();return this[0].offsetHeight+parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const i=ui();return this[0]?i.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const i=ui(),n=Co(),r=this[0],s=r.getBoundingClientRect(),o=n.body;return{top:s.top+(r===i?i.scrollY:r.scrollTop)-(r.clientTop||o.clientTop||0),left:s.left+(r===i?i.scrollX:r.scrollLeft)-(r.clientLeft||o.clientLeft||0)}}return null},css:function(i,n){const r=ui();let s;if(1===arguments.length){if("string"!=typeof i){for(s=0;s<this.length;s+=1)for(const o in i)this[s].style[o]=i[o];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(i)}if(2===arguments.length&&"string"==typeof i){for(s=0;s<this.length;s+=1)this[s].style[i]=n;return this}return this},each:function(i){return i?(this.forEach((n,r)=>{i.apply(n,[n,r])}),this):this},html:function(i){if(void 0===i)return this[0]?this[0].innerHTML:null;for(let n=0;n<this.length;n+=1)this[n].innerHTML=i;return this},text:function(i){if(void 0===i)return this[0]?this[0].textContent.trim():null;for(let n=0;n<this.length;n+=1)this[n].textContent=i;return this},is:function(i){const n=ui(),r=Co(),s=this[0];let o,u;if(!s||void 0===i)return!1;if("string"==typeof i){if(s.matches)return s.matches(i);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(i);if(s.msMatchesSelector)return s.msMatchesSelector(i);for(o=Bt(i),u=0;u<o.length;u+=1)if(o[u]===s)return!0;return!1}if(i===r)return s===r;if(i===n)return s===n;if(i.nodeType||i instanceof df){for(o=i.nodeType?[i]:i,u=0;u<o.length;u+=1)if(o[u]===s)return!0;return!1}return!1},index:function(){let n,i=this[0];if(i){for(n=0;null!==(i=i.previousSibling);)1===i.nodeType&&(n+=1);return n}},eq:function(i){if(void 0===i)return this;const n=this.length;if(i>n-1)return Bt([]);if(i<0){const r=n+i;return Bt(r<0?[]:[this[r]])}return Bt([this[i]])},append:function(...i){let n;const r=Co();for(let s=0;s<i.length;s+=1){n=i[s];for(let o=0;o<this.length;o+=1)if("string"==typeof n){const u=r.createElement("div");for(u.innerHTML=n;u.firstChild;)this[o].appendChild(u.firstChild)}else if(n instanceof df)for(let u=0;u<n.length;u+=1)this[o].appendChild(n[u]);else this[o].appendChild(n)}return this},prepend:function(i){const n=Co();let r,s;for(r=0;r<this.length;r+=1)if("string"==typeof i){const o=n.createElement("div");for(o.innerHTML=i,s=o.childNodes.length-1;s>=0;s-=1)this[r].insertBefore(o.childNodes[s],this[r].childNodes[0])}else if(i instanceof df)for(s=0;s<i.length;s+=1)this[r].insertBefore(i[s],this[r].childNodes[0]);else this[r].insertBefore(i,this[r].childNodes[0]);return this},next:function(i){return this.length>0?i?this[0].nextElementSibling&&Bt(this[0].nextElementSibling).is(i)?Bt([this[0].nextElementSibling]):Bt([]):Bt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Bt([])},nextAll:function(i){const n=[];let r=this[0];if(!r)return Bt([]);for(;r.nextElementSibling;){const s=r.nextElementSibling;i?Bt(s).is(i)&&n.push(s):n.push(s),r=s}return Bt(n)},prev:function(i){if(this.length>0){const n=this[0];return i?n.previousElementSibling&&Bt(n.previousElementSibling).is(i)?Bt([n.previousElementSibling]):Bt([]):Bt(n.previousElementSibling?[n.previousElementSibling]:[])}return Bt([])},prevAll:function(i){const n=[];let r=this[0];if(!r)return Bt([]);for(;r.previousElementSibling;){const s=r.previousElementSibling;i?Bt(s).is(i)&&n.push(s):n.push(s),r=s}return Bt(n)},parent:function(i){const n=[];for(let r=0;r<this.length;r+=1)null!==this[r].parentNode&&(i?Bt(this[r].parentNode).is(i)&&n.push(this[r].parentNode):n.push(this[r].parentNode));return Bt(n)},parents:function(i){const n=[];for(let r=0;r<this.length;r+=1){let s=this[r].parentNode;for(;s;)i?Bt(s).is(i)&&n.push(s):n.push(s),s=s.parentNode}return Bt(n)},closest:function(i){let n=this;return void 0===i?Bt([]):(n.is(i)||(n=n.parents(i).eq(0)),n)},find:function(i){const n=[];for(let r=0;r<this.length;r+=1){const s=this[r].querySelectorAll(i);for(let o=0;o<s.length;o+=1)n.push(s[o])}return Bt(n)},children:function(i){const n=[];for(let r=0;r<this.length;r+=1){const s=this[r].children;for(let o=0;o<s.length;o+=1)(!i||Bt(s[o]).is(i))&&n.push(s[o])}return Bt(n)},filter:function(i){return Bt(cL(this,i))},remove:function(){for(let i=0;i<this.length;i+=1)this[i].parentNode&&this[i].parentNode.removeChild(this[i]);return this}};Object.keys(uL).forEach(i=>{Object.defineProperty(Bt.fn,i,{value:uL[i],writable:!0})});const Ur=Bt;function Hk(i,n=0){return setTimeout(i,n)}function pw(){return Date.now()}function ZA(i){return"object"==typeof i&&null!==i&&i.constructor&&"Object"===Object.prototype.toString.call(i).slice(8,-1)}function Q$(i){return"undefined"!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)}function wo(...i){const n=Object(i[0]),r=["__proto__","constructor","prototype"];for(let s=1;s<i.length;s+=1){const o=i[s];if(null!=o&&!Q$(o)){const u=Object.keys(Object(o)).filter(f=>r.indexOf(f)<0);for(let f=0,g=u.length;f<g;f+=1){const v=u[f],C=Object.getOwnPropertyDescriptor(o,v);void 0!==C&&C.enumerable&&(ZA(n[v])&&ZA(o[v])?o[v].__swiper__?n[v]=o[v]:wo(n[v],o[v]):!ZA(n[v])&&ZA(o[v])?(n[v]={},o[v].__swiper__?n[v]=o[v]:wo(n[v],o[v])):n[v]=o[v])}}}return n}function YA(i,n,r){i.style.setProperty(n,r)}function dL({swiper:i,targetPosition:n,side:r}){const s=ui(),o=-i.translate;let f,u=null;const g=i.params.speed;i.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(i.cssModeFrameID);const v=n>o?"next":"prev",C=(S,x)=>"next"===v&&S>=x||"prev"===v&&S<=x,T=()=>{f=(new Date).getTime(),null===u&&(u=f);const S=Math.max(Math.min((f-u)/g,1),0),x=.5-Math.cos(S*Math.PI)/2;let k=o+x*(n-o);if(C(k,n)&&(k=n),i.wrapperEl.scrollTo({[r]:k}),C(k,n))return i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.scrollSnapType="",setTimeout(()=>{i.wrapperEl.style.overflow="",i.wrapperEl.scrollTo({[r]:k})}),void s.cancelAnimationFrame(i.cssModeFrameID);i.cssModeFrameID=s.requestAnimationFrame(T)};T()}let jk,zk,Gk;function hL(){return jk||(jk=function(){const i=ui(),n=Co();return{smoothScroll:n.documentElement&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in i||i.DocumentTouch&&n instanceof i.DocumentTouch),passiveListener:function(){let s=!1;try{const o=Object.defineProperty({},"passive",{get(){s=!0}});i.addEventListener("testPassiveListener",null,o)}catch(o){}return s}(),gestures:"ongesturestart"in i}}()),jk}function fL({swiper:i,runCallbacks:n,direction:r,step:s}){const{activeIndex:o,previousIndex:u}=i;let f=r;if(f||(f=o>u?"next":o<u?"prev":"reset"),i.emit(`transition${s}`),n&&o!==u){if("reset"===f)return void i.emit(`slideResetTransition${s}`);i.emit(`slideChangeTransition${s}`),i.emit("next"===f?`slideNextTransition${s}`:`slidePrevTransition${s}`)}}function H6(i){const n=this,r=Co(),s=ui(),o=n.touchEventsData,{params:u,touches:f,enabled:g}=n;if(!g||n.animating&&u.preventInteractionOnTransition)return;!n.animating&&u.cssMode&&u.loop&&n.loopFix();let v=i;v.originalEvent&&(v=v.originalEvent);let C=Ur(v.target);if("wrapper"===u.touchEventsTarget&&!C.closest(n.wrapperEl).length||(o.isTouchEvent="touchstart"===v.type,!o.isTouchEvent&&"which"in v&&3===v.which)||!o.isTouchEvent&&"button"in v&&v.button>0||o.isTouched&&o.isMoved)return;u.noSwipingClass&&""!==u.noSwipingClass&&v.target&&v.target.shadowRoot&&i.path&&i.path[0]&&(C=Ur(i.path[0]));const S=u.noSwipingSelector?u.noSwipingSelector:`.${u.noSwipingClass}`;if(u.noSwiping&&(v.target&&v.target.shadowRoot?function(i,n=this){return function r(s){return s&&s!==Co()&&s!==ui()?(s.assignedSlot&&(s=s.assignedSlot),s.closest(i)||r(s.getRootNode().host)):null}(n)}(S,v.target):C.closest(S)[0]))return void(n.allowClick=!0);if(u.swipeHandler&&!C.closest(u.swipeHandler)[0])return;f.currentX="touchstart"===v.type?v.targetTouches[0].pageX:v.pageX,f.currentY="touchstart"===v.type?v.targetTouches[0].pageY:v.pageY;const k=f.currentX,N=f.currentY,L=u.edgeSwipeDetection||u.iOSEdgeSwipeDetection,F=u.edgeSwipeThreshold||u.iOSEdgeSwipeThreshold;if(L&&(k<=F||k>=s.innerWidth-F)){if("prevent"!==L)return;i.preventDefault()}if(Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),f.startX=k,f.startY=N,o.touchStartTime=pw(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,u.threshold>0&&(o.allowThresholdMove=!1),"touchstart"!==v.type){let z=!0;C.is(o.focusableElements)&&(z=!1),r.activeElement&&Ur(r.activeElement).is(o.focusableElements)&&r.activeElement!==C[0]&&r.activeElement.blur();const J=z&&n.allowTouchMove&&u.touchStartPreventDefault;(u.touchStartForcePreventDefault||J)&&!C[0].isContentEditable&&v.preventDefault()}n.emit("touchStart",v)}function j6(i){const n=Co(),r=this,s=r.touchEventsData,{params:o,touches:u,rtlTranslate:f,enabled:g}=r;if(!g)return;let v=i;if(v.originalEvent&&(v=v.originalEvent),!s.isTouched)return void(s.startMoving&&s.isScrolling&&r.emit("touchMoveOpposite",v));if(s.isTouchEvent&&"touchmove"!==v.type)return;const C="touchmove"===v.type&&v.targetTouches&&(v.targetTouches[0]||v.changedTouches[0]),T="touchmove"===v.type?C.pageX:v.pageX,S="touchmove"===v.type?C.pageY:v.pageY;if(v.preventedByNestedSwiper)return u.startX=T,void(u.startY=S);if(!r.allowTouchMove)return r.allowClick=!1,void(s.isTouched&&(Object.assign(u,{startX:T,startY:S,currentX:T,currentY:S}),s.touchStartTime=pw()));if(s.isTouchEvent&&o.touchReleaseOnEdges&&!o.loop)if(r.isVertical()){if(S<u.startY&&r.translate<=r.maxTranslate()||S>u.startY&&r.translate>=r.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(T<u.startX&&r.translate<=r.maxTranslate()||T>u.startX&&r.translate>=r.minTranslate())return;if(s.isTouchEvent&&n.activeElement&&v.target===n.activeElement&&Ur(v.target).is(s.focusableElements))return s.isMoved=!0,void(r.allowClick=!1);if(s.allowTouchCallbacks&&r.emit("touchMove",v),v.targetTouches&&v.targetTouches.length>1)return;u.currentX=T,u.currentY=S;const x=u.currentX-u.startX,k=u.currentY-u.startY;if(r.params.threshold&&Math.sqrt(x**2+k**2)<r.params.threshold)return;if(void 0===s.isScrolling){let z;r.isHorizontal()&&u.currentY===u.startY||r.isVertical()&&u.currentX===u.startX?s.isScrolling=!1:x*x+k*k>=25&&(z=180*Math.atan2(Math.abs(k),Math.abs(x))/Math.PI,s.isScrolling=r.isHorizontal()?z>o.touchAngle:90-z>o.touchAngle)}if(s.isScrolling&&r.emit("touchMoveOpposite",v),void 0===s.startMoving&&(u.currentX!==u.startX||u.currentY!==u.startY)&&(s.startMoving=!0),s.isScrolling)return void(s.isTouched=!1);if(!s.startMoving)return;r.allowClick=!1,!o.cssMode&&v.cancelable&&v.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&v.stopPropagation(),s.isMoved||(o.loop&&!o.cssMode&&r.loopFix(),s.startTranslate=r.getTranslate(),r.setTransition(0),r.animating&&r.$wrapperEl.trigger("webkitTransitionEnd transitionend"),s.allowMomentumBounce=!1,o.grabCursor&&(!0===r.allowSlideNext||!0===r.allowSlidePrev)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",v)),r.emit("sliderMove",v),s.isMoved=!0;let N=r.isHorizontal()?x:k;u.diff=N,N*=o.touchRatio,f&&(N=-N),r.swipeDirection=N>0?"prev":"next",s.currentTranslate=N+s.startTranslate;let L=!0,F=o.resistanceRatio;if(o.touchReleaseOnEdges&&(F=0),N>0&&s.currentTranslate>r.minTranslate()?(L=!1,o.resistance&&(s.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+s.startTranslate+N)**F)):N<0&&s.currentTranslate<r.maxTranslate()&&(L=!1,o.resistance&&(s.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-s.startTranslate-N)**F)),L&&(v.preventedByNestedSwiper=!0),!r.allowSlideNext&&"next"===r.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&"prev"===r.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(s.currentTranslate=s.startTranslate),o.threshold>0){if(!(Math.abs(N)>o.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,u.startX=u.currentX,u.startY=u.currentY,s.currentTranslate=s.startTranslate,void(u.diff=r.isHorizontal()?u.currentX-u.startX:u.currentY-u.startY)}!o.followFinger||o.cssMode||((o.freeMode&&o.freeMode.enabled&&r.freeMode||o.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),r.params.freeMode&&o.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(s.currentTranslate),r.setTranslate(s.currentTranslate))}function z6(i){const n=this,r=n.touchEventsData,{params:s,touches:o,rtlTranslate:u,slidesGrid:f,enabled:g}=n;if(!g)return;let v=i;if(v.originalEvent&&(v=v.originalEvent),r.allowTouchCallbacks&&n.emit("touchEnd",v),r.allowTouchCallbacks=!1,!r.isTouched)return r.isMoved&&s.grabCursor&&n.setGrabCursor(!1),r.isMoved=!1,void(r.startMoving=!1);s.grabCursor&&r.isMoved&&r.isTouched&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!1);const C=pw(),T=C-r.touchStartTime;if(n.allowClick&&(n.updateClickedSlide(v),n.emit("tap click",v),T<300&&C-r.lastClickTime<300&&n.emit("doubleTap doubleClick",v)),r.lastClickTime=pw(),Hk(()=>{n.destroyed||(n.allowClick=!0)}),!r.isTouched||!r.isMoved||!n.swipeDirection||0===o.diff||r.currentTranslate===r.startTranslate)return r.isTouched=!1,r.isMoved=!1,void(r.startMoving=!1);let S;if(r.isTouched=!1,r.isMoved=!1,r.startMoving=!1,S=s.followFinger?u?n.translate:-n.translate:-r.currentTranslate,s.cssMode)return;if(n.params.freeMode&&s.freeMode.enabled)return void n.freeMode.onTouchEnd({currentPos:S});let x=0,k=n.slidesSizesGrid[0];for(let F=0;F<f.length;F+=F<s.slidesPerGroupSkip?1:s.slidesPerGroup){const z=F<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==f[F+z]?S>=f[F]&&S<f[F+z]&&(x=F,k=f[F+z]-f[F]):S>=f[F]&&(x=F,k=f[f.length-1]-f[f.length-2])}const N=(S-f[x])/k,L=x<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(T>s.longSwipesMs){if(!s.longSwipes)return void n.slideTo(n.activeIndex);"next"===n.swipeDirection&&n.slideTo(N>=s.longSwipesRatio?x+L:x),"prev"===n.swipeDirection&&n.slideTo(N>1-s.longSwipesRatio?x+L:x)}else{if(!s.shortSwipes)return void n.slideTo(n.activeIndex);!n.navigation||v.target!==n.navigation.nextEl&&v.target!==n.navigation.prevEl?("next"===n.swipeDirection&&n.slideTo(x+L),"prev"===n.swipeDirection&&n.slideTo(x)):n.slideTo(v.target===n.navigation.nextEl?x+L:x)}}function pL(){const i=this,{params:n,el:r}=i;if(r&&0===r.offsetWidth)return;n.breakpoints&&i.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:o,snapGrid:u}=i;i.allowSlideNext=!0,i.allowSlidePrev=!0,i.updateSize(),i.updateSlides(),i.updateSlidesClasses(),i.slideTo(("auto"===n.slidesPerView||n.slidesPerView>1)&&i.isEnd&&!i.isBeginning&&!i.params.centeredSlides?i.slides.length-1:i.activeIndex,0,!1,!0),i.autoplay&&i.autoplay.running&&i.autoplay.paused&&i.autoplay.run(),i.allowSlidePrev=o,i.allowSlideNext=s,i.params.watchOverflow&&u!==i.snapGrid&&i.checkOverflow()}function G6(i){const n=this;!n.enabled||n.allowClick||(n.params.preventClicks&&i.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(i.stopPropagation(),i.stopImmediatePropagation()))}function q6(){const i=this,{wrapperEl:n,rtlTranslate:r,enabled:s}=i;if(!s)return;let o;i.previousTranslate=i.translate,i.translate=i.isHorizontal()?-n.scrollLeft:-n.scrollTop,-0===i.translate&&(i.translate=0),i.updateActiveIndex(),i.updateSlidesClasses();const u=i.maxTranslate()-i.minTranslate();o=0===u?0:(i.translate-i.minTranslate())/u,o!==i.progress&&i.updateProgress(r?-i.translate:i.translate),i.emit("setTranslate",i.translate,!1)}let mL=!1;function W6(){}const gL=(i,n)=>{const r=Co(),{params:s,touchEvents:o,el:u,wrapperEl:f,device:g,support:v}=i,C=!!s.nested,T="on"===n?"addEventListener":"removeEventListener",S=n;if(v.touch){const x=!("touchstart"!==o.start||!v.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};u[T](o.start,i.onTouchStart,x),u[T](o.move,i.onTouchMove,v.passiveListener?{passive:!1,capture:C}:C),u[T](o.end,i.onTouchEnd,x),o.cancel&&u[T](o.cancel,i.onTouchEnd,x)}else u[T](o.start,i.onTouchStart,!1),r[T](o.move,i.onTouchMove,C),r[T](o.end,i.onTouchEnd,!1);(s.preventClicks||s.preventClicksPropagation)&&u[T]("click",i.onClick,!0),s.cssMode&&f[T]("scroll",i.onScroll),i[S](s.updateOnWindowResize?g.ios||g.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",pL,!0)},_L=(i,n)=>i.grid&&n.grid&&n.grid.rows>1,yL={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function cH(i,n){return function(s={}){const o=Object.keys(s)[0],u=s[o];"object"==typeof u&&null!==u?(["navigation","pagination","scrollbar"].indexOf(o)>=0&&!0===i[o]&&(i[o]={auto:!0}),o in i&&"enabled"in u?(!0===i[o]&&(i[o]={enabled:!0}),"object"==typeof i[o]&&!("enabled"in i[o])&&(i[o].enabled=!0),i[o]||(i[o]={enabled:!1}),wo(n,s)):wo(n,s)):wo(n,s)}}const qk={eventsEmitter:{on(i,n,r){const s=this;if("function"!=typeof n)return s;const o=r?"unshift":"push";return i.split(" ").forEach(u=>{s.eventsListeners[u]||(s.eventsListeners[u]=[]),s.eventsListeners[u][o](n)}),s},once(i,n,r){const s=this;if("function"!=typeof n)return s;function o(...u){s.off(i,o),o.__emitterProxy&&delete o.__emitterProxy,n.apply(s,u)}return o.__emitterProxy=n,s.on(i,o,r)},onAny(i,n){const r=this;if("function"!=typeof i)return r;const s=n?"unshift":"push";return r.eventsAnyListeners.indexOf(i)<0&&r.eventsAnyListeners[s](i),r},offAny(i){const n=this;if(!n.eventsAnyListeners)return n;const r=n.eventsAnyListeners.indexOf(i);return r>=0&&n.eventsAnyListeners.splice(r,1),n},off(i,n){const r=this;return r.eventsListeners&&i.split(" ").forEach(s=>{void 0===n?r.eventsListeners[s]=[]:r.eventsListeners[s]&&r.eventsListeners[s].forEach((o,u)=>{(o===n||o.__emitterProxy&&o.__emitterProxy===n)&&r.eventsListeners[s].splice(u,1)})}),r},emit(...i){const n=this;if(!n.eventsListeners)return n;let r,s,o;return"string"==typeof i[0]||Array.isArray(i[0])?(r=i[0],s=i.slice(1,i.length),o=n):(r=i[0].events,s=i[0].data,o=i[0].context||n),s.unshift(o),(Array.isArray(r)?r:r.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(g=>{g.apply(o,[f,...s])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(g=>{g.apply(o,s)})}),n}},update:{updateSize:function(){const i=this;let n,r;const s=i.$el;n=null!=i.params.width?i.params.width:s[0].clientWidth,r=null!=i.params.height?i.params.height:s[0].clientHeight,!(0===n&&i.isHorizontal()||0===r&&i.isVertical())&&(n=n-parseInt(s.css("padding-left")||0,10)-parseInt(s.css("padding-right")||0,10),r=r-parseInt(s.css("padding-top")||0,10)-parseInt(s.css("padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(r)&&(r=0),Object.assign(i,{width:n,height:r,size:i.isHorizontal()?n:r}))},updateSlides:function(){const i=this;function n(He){return i.isHorizontal()?He:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[He]}function r(He,Pe){return parseFloat(He.getPropertyValue(n(Pe))||0)}const s=i.params,{$wrapperEl:o,size:u,rtlTranslate:f,wrongRTL:g}=i,v=i.virtual&&s.virtual.enabled,C=v?i.virtual.slides.length:i.slides.length,T=o.children(`.${i.params.slideClass}`),S=v?i.virtual.slides.length:T.length;let x=[];const k=[],N=[];let L=s.slidesOffsetBefore;"function"==typeof L&&(L=s.slidesOffsetBefore.call(i));let F=s.slidesOffsetAfter;"function"==typeof F&&(F=s.slidesOffsetAfter.call(i));const z=i.snapGrid.length,J=i.slidesGrid.length;let K=s.spaceBetween,ie=-L,ke=0,Fe=0;if(void 0===u)return;"string"==typeof K&&K.indexOf("%")>=0&&(K=parseFloat(K.replace("%",""))/100*u),i.virtualSize=-K,T.css(f?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),s.centeredSlides&&s.cssMode&&(YA(i.wrapperEl,"--swiper-centered-offset-before",""),YA(i.wrapperEl,"--swiper-centered-offset-after",""));const he=s.grid&&s.grid.rows>1&&i.grid;let _e;he&&i.grid.initSlides(S);const Ee="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(He=>void 0!==s.breakpoints[He].slidesPerView).length>0;for(let He=0;He<S;He+=1){_e=0;const Pe=T.eq(He);if(he&&i.grid.updateSlide(He,Pe,S,n),"none"!==Pe.css("display")){if("auto"===s.slidesPerView){Ee&&(T[He].style[n("width")]="");const Xe=getComputedStyle(Pe[0]),nt=Pe[0].style.transform,ct=Pe[0].style.webkitTransform;if(nt&&(Pe[0].style.transform="none"),ct&&(Pe[0].style.webkitTransform="none"),s.roundLengths)_e=i.isHorizontal()?Pe.outerWidth(!0):Pe.outerHeight(!0);else{const dn=r(Xe,"width"),ae=r(Xe,"padding-left"),Ve=r(Xe,"padding-right"),Ge=r(Xe,"margin-left"),rt=r(Xe,"margin-right"),Lt=Xe.getPropertyValue("box-sizing");if(Lt&&"border-box"===Lt)_e=dn+Ge+rt;else{const{clientWidth:di,offsetWidth:Ar}=Pe[0];_e=dn+ae+Ve+Ge+rt+(Ar-di)}}nt&&(Pe[0].style.transform=nt),ct&&(Pe[0].style.webkitTransform=ct),s.roundLengths&&(_e=Math.floor(_e))}else _e=(u-(s.slidesPerView-1)*K)/s.slidesPerView,s.roundLengths&&(_e=Math.floor(_e)),T[He]&&(T[He].style[n("width")]=`${_e}px`);T[He]&&(T[He].swiperSlideSize=_e),N.push(_e),s.centeredSlides?(ie=ie+_e/2+ke/2+K,0===ke&&0!==He&&(ie=ie-u/2-K),0===He&&(ie=ie-u/2-K),Math.abs(ie)<.001&&(ie=0),s.roundLengths&&(ie=Math.floor(ie)),Fe%s.slidesPerGroup==0&&x.push(ie),k.push(ie)):(s.roundLengths&&(ie=Math.floor(ie)),(Fe-Math.min(i.params.slidesPerGroupSkip,Fe))%i.params.slidesPerGroup==0&&x.push(ie),k.push(ie),ie=ie+_e+K),i.virtualSize+=_e+K,ke=_e,Fe+=1}}if(i.virtualSize=Math.max(i.virtualSize,u)+F,f&&g&&("slide"===s.effect||"coverflow"===s.effect)&&o.css({width:`${i.virtualSize+s.spaceBetween}px`}),s.setWrapperSize&&o.css({[n("width")]:`${i.virtualSize+s.spaceBetween}px`}),he&&i.grid.updateWrapperSize(_e,x,n),!s.centeredSlides){const He=[];for(let Pe=0;Pe<x.length;Pe+=1){let Xe=x[Pe];s.roundLengths&&(Xe=Math.floor(Xe)),x[Pe]<=i.virtualSize-u&&He.push(Xe)}x=He,Math.floor(i.virtualSize-u)-Math.floor(x[x.length-1])>1&&x.push(i.virtualSize-u)}if(0===x.length&&(x=[0]),0!==s.spaceBetween){const He=i.isHorizontal()&&f?"marginLeft":n("marginRight");T.filter((Pe,Xe)=>!s.cssMode||Xe!==T.length-1).css({[He]:`${K}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let He=0;N.forEach(Xe=>{He+=Xe+(s.spaceBetween?s.spaceBetween:0)}),He-=s.spaceBetween;const Pe=He-u;x=x.map(Xe=>Xe<0?-L:Xe>Pe?Pe+F:Xe)}if(s.centerInsufficientSlides){let He=0;if(N.forEach(Pe=>{He+=Pe+(s.spaceBetween?s.spaceBetween:0)}),He-=s.spaceBetween,He<u){const Pe=(u-He)/2;x.forEach((Xe,nt)=>{x[nt]=Xe-Pe}),k.forEach((Xe,nt)=>{k[nt]=Xe+Pe})}}if(Object.assign(i,{slides:T,snapGrid:x,slidesGrid:k,slidesSizesGrid:N}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){YA(i.wrapperEl,"--swiper-centered-offset-before",-x[0]+"px"),YA(i.wrapperEl,"--swiper-centered-offset-after",i.size/2-N[N.length-1]/2+"px");const He=-i.snapGrid[0],Pe=-i.slidesGrid[0];i.snapGrid=i.snapGrid.map(Xe=>Xe+He),i.slidesGrid=i.slidesGrid.map(Xe=>Xe+Pe)}S!==C&&i.emit("slidesLengthChange"),x.length!==z&&(i.params.watchOverflow&&i.checkOverflow(),i.emit("snapGridLengthChange")),k.length!==J&&i.emit("slidesGridLengthChange"),s.watchSlidesProgress&&i.updateSlidesOffset()},updateAutoHeight:function(i){const n=this,r=[],s=n.virtual&&n.params.virtual.enabled;let u,o=0;"number"==typeof i?n.setTransition(i):!0===i&&n.setTransition(n.params.speed);const f=g=>s?n.slides.filter(v=>parseInt(v.getAttribute("data-swiper-slide-index"),10)===g)[0]:n.slides.eq(g)[0];if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each(g=>{r.push(g)});else for(u=0;u<Math.ceil(n.params.slidesPerView);u+=1){const g=n.activeIndex+u;if(g>n.slides.length&&!s)break;r.push(f(g))}else r.push(f(n.activeIndex));for(u=0;u<r.length;u+=1)if(void 0!==r[u]){const g=r[u].offsetHeight;o=g>o?g:o}o&&n.$wrapperEl.css("height",`${o}px`)},updateSlidesOffset:function(){const i=this,n=i.slides;for(let r=0;r<n.length;r+=1)n[r].swiperSlideOffset=i.isHorizontal()?n[r].offsetLeft:n[r].offsetTop},updateSlidesProgress:function(i=this&&this.translate||0){const n=this,r=n.params,{slides:s,rtlTranslate:o}=n;if(0===s.length)return;void 0===s[0].swiperSlideOffset&&n.updateSlidesOffset();let u=-i;o&&(u=i),s.removeClass(r.slideVisibleClass),n.visibleSlidesIndexes=[],n.visibleSlides=[];for(let f=0;f<s.length;f+=1){const g=s[f];let v=g.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(v-=s[0].swiperSlideOffset);const C=(u+(r.centeredSlides?n.minTranslate():0)-v)/(g.swiperSlideSize+r.spaceBetween),T=-(u-v),S=T+n.slidesSizesGrid[f];(T>=0&&T<n.size-1||S>1&&S<=n.size||T<=0&&S>=n.size)&&(n.visibleSlides.push(g),n.visibleSlidesIndexes.push(f),s.eq(f).addClass(r.slideVisibleClass)),g.progress=o?-C:C}n.visibleSlides=Ur(n.visibleSlides)},updateProgress:function(i){const n=this;if(void 0===i){const C=n.rtlTranslate?-1:1;i=n&&n.translate&&n.translate*C||0}const r=n.params,s=n.maxTranslate()-n.minTranslate();let{progress:o,isBeginning:u,isEnd:f}=n;const g=u,v=f;0===s?(o=0,u=!0,f=!0):(o=(i-n.minTranslate())/s,u=o<=0,f=o>=1),Object.assign(n,{progress:o,isBeginning:u,isEnd:f}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&n.updateSlidesProgress(i),u&&!g&&n.emit("reachBeginning toEdge"),f&&!v&&n.emit("reachEnd toEdge"),(g&&!u||v&&!f)&&n.emit("fromEdge"),n.emit("progress",o)},updateSlidesClasses:function(){const i=this,{slides:n,params:r,$wrapperEl:s,activeIndex:o,realIndex:u}=i,f=i.virtual&&r.virtual.enabled;let g;n.removeClass(`${r.slideActiveClass} ${r.slideNextClass} ${r.slidePrevClass} ${r.slideDuplicateActiveClass} ${r.slideDuplicateNextClass} ${r.slideDuplicatePrevClass}`),g=f?i.$wrapperEl.find(`.${r.slideClass}[data-swiper-slide-index="${o}"]`):n.eq(o),g.addClass(r.slideActiveClass),r.loop&&(g.hasClass(r.slideDuplicateClass)?s.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${u}"]`).addClass(r.slideDuplicateActiveClass):s.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${u}"]`).addClass(r.slideDuplicateActiveClass));let v=g.nextAll(`.${r.slideClass}`).eq(0).addClass(r.slideNextClass);r.loop&&0===v.length&&(v=n.eq(0),v.addClass(r.slideNextClass));let C=g.prevAll(`.${r.slideClass}`).eq(0).addClass(r.slidePrevClass);r.loop&&0===C.length&&(C=n.eq(-1),C.addClass(r.slidePrevClass)),r.loop&&(v.hasClass(r.slideDuplicateClass)?s.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass):s.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicateNextClass),C.hasClass(r.slideDuplicateClass)?s.children(`.${r.slideClass}:not(.${r.slideDuplicateClass})[data-swiper-slide-index="${C.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass):s.children(`.${r.slideClass}.${r.slideDuplicateClass}[data-swiper-slide-index="${C.attr("data-swiper-slide-index")}"]`).addClass(r.slideDuplicatePrevClass)),i.emitSlidesClasses()},updateActiveIndex:function(i){const n=this,r=n.rtlTranslate?n.translate:-n.translate,{slidesGrid:s,snapGrid:o,params:u,activeIndex:f,realIndex:g,snapIndex:v}=n;let T,C=i;if(void 0===C){for(let x=0;x<s.length;x+=1)void 0!==s[x+1]?r>=s[x]&&r<s[x+1]-(s[x+1]-s[x])/2?C=x:r>=s[x]&&r<s[x+1]&&(C=x+1):r>=s[x]&&(C=x);u.normalizeSlideIndex&&(C<0||void 0===C)&&(C=0)}if(o.indexOf(r)>=0)T=o.indexOf(r);else{const x=Math.min(u.slidesPerGroupSkip,C);T=x+Math.floor((C-x)/u.slidesPerGroup)}if(T>=o.length&&(T=o.length-1),C===f)return void(T!==v&&(n.snapIndex=T,n.emit("snapIndexChange")));const S=parseInt(n.slides.eq(C).attr("data-swiper-slide-index")||C,10);Object.assign(n,{snapIndex:T,realIndex:S,previousIndex:f,activeIndex:C}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),g!==S&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")},updateClickedSlide:function(i){const n=this,r=n.params,s=Ur(i.target).closest(`.${r.slideClass}`)[0];let u,o=!1;if(s)for(let f=0;f<n.slides.length;f+=1)if(n.slides[f]===s){o=!0,u=f;break}if(!s||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=s,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(Ur(s).attr("data-swiper-slide-index"),10):u,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function(i=(this.isHorizontal()?"x":"y")){const{params:r,rtlTranslate:s,translate:o,$wrapperEl:u}=this;if(r.virtualTranslate)return s?-o:o;if(r.cssMode)return o;let f=function(i,n="x"){const r=ui();let s,o,u;const f=function(i){const n=ui();let r;return n.getComputedStyle&&(r=n.getComputedStyle(i,null)),!r&&i.currentStyle&&(r=i.currentStyle),r||(r=i.style),r}(i);return r.WebKitCSSMatrix?(o=f.transform||f.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map(g=>g.replace(",",".")).join(", ")),u=new r.WebKitCSSMatrix("none"===o?"":o)):(u=f.MozTransform||f.OTransform||f.MsTransform||f.msTransform||f.transform||f.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=u.toString().split(",")),"x"===n&&(o=r.WebKitCSSMatrix?u.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===n&&(o=r.WebKitCSSMatrix?u.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),o||0}(u[0],i);return s&&(f=-f),f||0},setTranslate:function(i,n){const r=this,{rtlTranslate:s,params:o,$wrapperEl:u,wrapperEl:f,progress:g}=r;let S,v=0,C=0;r.isHorizontal()?v=s?-i:i:C=i,o.roundLengths&&(v=Math.floor(v),C=Math.floor(C)),o.cssMode?f[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-v:-C:o.virtualTranslate||u.transform(`translate3d(${v}px, ${C}px, 0px)`),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?v:C;const x=r.maxTranslate()-r.minTranslate();S=0===x?0:(i-r.minTranslate())/x,S!==g&&r.updateProgress(i),r.emit("setTranslate",r.translate,n)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(i=0,n=this.params.speed,r=!0,s=!0,o){const u=this,{params:f,wrapperEl:g}=u;if(u.animating&&f.preventInteractionOnTransition)return!1;const v=u.minTranslate(),C=u.maxTranslate();let T;if(T=s&&i>v?v:s&&i<C?C:i,u.updateProgress(T),f.cssMode){const S=u.isHorizontal();if(0===n)g[S?"scrollLeft":"scrollTop"]=-T;else{if(!u.support.smoothScroll)return dL({swiper:u,targetPosition:-T,side:S?"left":"top"}),!0;g.scrollTo({[S?"left":"top"]:-T,behavior:"smooth"})}return!0}return 0===n?(u.setTransition(0),u.setTranslate(T),r&&(u.emit("beforeTransitionStart",n,o),u.emit("transitionEnd"))):(u.setTransition(n),u.setTranslate(T),r&&(u.emit("beforeTransitionStart",n,o),u.emit("transitionStart")),u.animating||(u.animating=!0,u.onTranslateToWrapperTransitionEnd||(u.onTranslateToWrapperTransitionEnd=function(x){!u||u.destroyed||x.target===this&&(u.$wrapperEl[0].removeEventListener("transitionend",u.onTranslateToWrapperTransitionEnd),u.$wrapperEl[0].removeEventListener("webkitTransitionEnd",u.onTranslateToWrapperTransitionEnd),u.onTranslateToWrapperTransitionEnd=null,delete u.onTranslateToWrapperTransitionEnd,r&&u.emit("transitionEnd"))}),u.$wrapperEl[0].addEventListener("transitionend",u.onTranslateToWrapperTransitionEnd),u.$wrapperEl[0].addEventListener("webkitTransitionEnd",u.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(i,n){const r=this;r.params.cssMode||r.$wrapperEl.transition(i),r.emit("setTransition",i,n)},transitionStart:function(i=!0,n){const r=this,{params:s}=r;s.cssMode||(s.autoHeight&&r.updateAutoHeight(),fL({swiper:r,runCallbacks:i,direction:n,step:"Start"}))},transitionEnd:function(i=!0,n){const r=this,{params:s}=r;r.animating=!1,!s.cssMode&&(r.setTransition(0),fL({swiper:r,runCallbacks:i,direction:n,step:"End"}))}},slide:{slideTo:function(i=0,n=this.params.speed,r=!0,s,o){if("number"!=typeof i&&"string"!=typeof i)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof i}] given.`);if("string"==typeof i){const K=parseInt(i,10);if(!isFinite(K))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${i}] given.`);i=K}const u=this;let f=i;f<0&&(f=0);const{params:g,snapGrid:v,slidesGrid:C,previousIndex:T,activeIndex:S,rtlTranslate:x,wrapperEl:k,enabled:N}=u;if(u.animating&&g.preventInteractionOnTransition||!N&&!s&&!o)return!1;const L=Math.min(u.params.slidesPerGroupSkip,f);let F=L+Math.floor((f-L)/u.params.slidesPerGroup);F>=v.length&&(F=v.length-1),(S||g.initialSlide||0)===(T||0)&&r&&u.emit("beforeSlideChangeStart");const z=-v[F];if(u.updateProgress(z),g.normalizeSlideIndex)for(let K=0;K<C.length;K+=1){const ie=-Math.floor(100*z),ke=Math.floor(100*C[K]),Fe=Math.floor(100*C[K+1]);void 0!==C[K+1]?ie>=ke&&ie<Fe-(Fe-ke)/2?f=K:ie>=ke&&ie<Fe&&(f=K+1):ie>=ke&&(f=K)}if(u.initialized&&f!==S&&(!u.allowSlideNext&&z<u.translate&&z<u.minTranslate()||!u.allowSlidePrev&&z>u.translate&&z>u.maxTranslate()&&(S||0)!==f))return!1;let J;if(J=f>S?"next":f<S?"prev":"reset",x&&-z===u.translate||!x&&z===u.translate)return u.updateActiveIndex(f),g.autoHeight&&u.updateAutoHeight(),u.updateSlidesClasses(),"slide"!==g.effect&&u.setTranslate(z),"reset"!==J&&(u.transitionStart(r,J),u.transitionEnd(r,J)),!1;if(g.cssMode){const K=u.isHorizontal(),ie=x?z:-z;if(0===n){const ke=u.virtual&&u.params.virtual.enabled;ke&&(u.wrapperEl.style.scrollSnapType="none"),k[K?"scrollLeft":"scrollTop"]=ie,ke&&requestAnimationFrame(()=>{u.wrapperEl.style.scrollSnapType=""})}else{if(!u.support.smoothScroll)return dL({swiper:u,targetPosition:ie,side:K?"left":"top"}),!0;k.scrollTo({[K?"left":"top"]:ie,behavior:"smooth"})}return!0}return 0===n?(u.setTransition(0),u.setTranslate(z),u.updateActiveIndex(f),u.updateSlidesClasses(),u.emit("beforeTransitionStart",n,s),u.transitionStart(r,J),u.transitionEnd(r,J)):(u.setTransition(n),u.setTranslate(z),u.updateActiveIndex(f),u.updateSlidesClasses(),u.emit("beforeTransitionStart",n,s),u.transitionStart(r,J),u.animating||(u.animating=!0,u.onSlideToWrapperTransitionEnd||(u.onSlideToWrapperTransitionEnd=function(ie){!u||u.destroyed||ie.target===this&&(u.$wrapperEl[0].removeEventListener("transitionend",u.onSlideToWrapperTransitionEnd),u.$wrapperEl[0].removeEventListener("webkitTransitionEnd",u.onSlideToWrapperTransitionEnd),u.onSlideToWrapperTransitionEnd=null,delete u.onSlideToWrapperTransitionEnd,u.transitionEnd(r,J))}),u.$wrapperEl[0].addEventListener("transitionend",u.onSlideToWrapperTransitionEnd),u.$wrapperEl[0].addEventListener("webkitTransitionEnd",u.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(i=0,n=this.params.speed,r=!0,s){const o=this;let u=i;return o.params.loop&&(u+=o.loopedSlides),o.slideTo(u,n,r,s)},slideNext:function(i=this.params.speed,n=!0,r){const s=this,{animating:o,enabled:u,params:f}=s;if(!u)return s;let g=f.slidesPerGroup;"auto"===f.slidesPerView&&1===f.slidesPerGroup&&f.slidesPerGroupAuto&&(g=Math.max(s.slidesPerViewDynamic("current",!0),1));const v=s.activeIndex<f.slidesPerGroupSkip?1:g;if(f.loop){if(o&&f.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}return s.slideTo(s.activeIndex+v,i,n,r)},slidePrev:function(i=this.params.speed,n=!0,r){const s=this,{params:o,animating:u,snapGrid:f,slidesGrid:g,rtlTranslate:v,enabled:C}=s;if(!C)return s;if(o.loop){if(u&&o.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function S(F){return F<0?-Math.floor(Math.abs(F)):Math.floor(F)}const x=S(v?s.translate:-s.translate),k=f.map(F=>S(F));let N=f[k.indexOf(x)-1];if(void 0===N&&o.cssMode){let F;f.forEach((z,J)=>{x>=z&&(F=J)}),void 0!==F&&(N=f[F>0?F-1:F])}let L=0;return void 0!==N&&(L=g.indexOf(N),L<0&&(L=s.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(L=L-s.slidesPerViewDynamic("previous",!0)+1,L=Math.max(L,0))),s.slideTo(L,i,n,r)},slideReset:function(i=this.params.speed,n=!0,r){return this.slideTo(this.activeIndex,i,n,r)},slideToClosest:function(i=this.params.speed,n=!0,r,s=.5){const o=this;let u=o.activeIndex;const f=Math.min(o.params.slidesPerGroupSkip,u),g=f+Math.floor((u-f)/o.params.slidesPerGroup),v=o.rtlTranslate?o.translate:-o.translate;if(v>=o.snapGrid[g]){const C=o.snapGrid[g];v-C>(o.snapGrid[g+1]-C)*s&&(u+=o.params.slidesPerGroup)}else{const C=o.snapGrid[g-1];v-C<=(o.snapGrid[g]-C)*s&&(u-=o.params.slidesPerGroup)}return u=Math.max(u,0),u=Math.min(u,o.slidesGrid.length-1),o.slideTo(u,i,n,r)},slideToClickedSlide:function(){const i=this,{params:n,$wrapperEl:r}=i,s="auto"===n.slidesPerView?i.slidesPerViewDynamic():n.slidesPerView;let u,o=i.clickedIndex;if(n.loop){if(i.animating)return;u=parseInt(Ur(i.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?o<i.loopedSlides-s/2||o>i.slides.length-i.loopedSlides+s/2?(i.loopFix(),o=r.children(`.${n.slideClass}[data-swiper-slide-index="${u}"]:not(.${n.slideDuplicateClass})`).eq(0).index(),Hk(()=>{i.slideTo(o)})):i.slideTo(o):o>i.slides.length-s?(i.loopFix(),o=r.children(`.${n.slideClass}[data-swiper-slide-index="${u}"]:not(.${n.slideDuplicateClass})`).eq(0).index(),Hk(()=>{i.slideTo(o)})):i.slideTo(o)}else i.slideTo(o)}},loop:{loopCreate:function(){const i=this,n=Co(),{params:r,$wrapperEl:s}=i;s.children(`.${r.slideClass}.${r.slideDuplicateClass}`).remove();let o=s.children(`.${r.slideClass}`);if(r.loopFillGroupWithBlank){const g=r.slidesPerGroup-o.length%r.slidesPerGroup;if(g!==r.slidesPerGroup){for(let v=0;v<g;v+=1){const C=Ur(n.createElement("div")).addClass(`${r.slideClass} ${r.slideBlankClass}`);s.append(C)}o=s.children(`.${r.slideClass}`)}}"auto"===r.slidesPerView&&!r.loopedSlides&&(r.loopedSlides=o.length),i.loopedSlides=Math.ceil(parseFloat(r.loopedSlides||r.slidesPerView,10)),i.loopedSlides+=r.loopAdditionalSlides,i.loopedSlides>o.length&&(i.loopedSlides=o.length);const u=[],f=[];o.each((g,v)=>{const C=Ur(g);v<i.loopedSlides&&f.push(g),v<o.length&&v>=o.length-i.loopedSlides&&u.push(g),C.attr("data-swiper-slide-index",v)});for(let g=0;g<f.length;g+=1)s.append(Ur(f[g].cloneNode(!0)).addClass(r.slideDuplicateClass));for(let g=u.length-1;g>=0;g-=1)s.prepend(Ur(u[g].cloneNode(!0)).addClass(r.slideDuplicateClass))},loopFix:function(){const i=this;i.emit("beforeLoopFix");const{activeIndex:n,slides:r,loopedSlides:s,allowSlidePrev:o,allowSlideNext:u,snapGrid:f,rtlTranslate:g}=i;let v;i.allowSlidePrev=!0,i.allowSlideNext=!0;const T=-f[n]-i.getTranslate();n<s?(v=r.length-3*s+n,v+=s,i.slideTo(v,0,!1,!0)&&0!==T&&i.setTranslate((g?-i.translate:i.translate)-T)):n>=r.length-s&&(v=-r.length+n+s,v+=s,i.slideTo(v,0,!1,!0)&&0!==T&&i.setTranslate((g?-i.translate:i.translate)-T)),i.allowSlidePrev=o,i.allowSlideNext=u,i.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:n,params:r,slides:s}=this;n.children(`.${r.slideClass}.${r.slideDuplicateClass},.${r.slideClass}.${r.slideBlankClass}`).remove(),s.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(i){const n=this;if(n.support.touch||!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;const r="container"===n.params.touchEventsTarget?n.el:n.wrapperEl;r.style.cursor="move",r.style.cursor=i?"-webkit-grabbing":"-webkit-grab",r.style.cursor=i?"-moz-grabbin":"-moz-grab",r.style.cursor=i?"grabbing":"grab"},unsetGrabCursor:function(){const i=this;i.support.touch||i.params.watchOverflow&&i.isLocked||i.params.cssMode||(i["container"===i.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){const i=this,n=Co(),{params:r,support:s}=i;i.onTouchStart=H6.bind(i),i.onTouchMove=j6.bind(i),i.onTouchEnd=z6.bind(i),r.cssMode&&(i.onScroll=q6.bind(i)),i.onClick=G6.bind(i),s.touch&&!mL&&(n.addEventListener("touchstart",W6),mL=!0),gL(i,"on")},detachEvents:function(){gL(this,"off")}},breakpoints:{setBreakpoint:function(){const i=this,{activeIndex:n,initialized:r,loopedSlides:s=0,params:o,$el:u}=i,f=o.breakpoints;if(!f||f&&0===Object.keys(f).length)return;const g=i.getBreakpoint(f,i.params.breakpointsBase,i.el);if(!g||i.currentBreakpoint===g)return;const C=(g in f?f[g]:void 0)||i.originalParams,T=_L(i,o),S=_L(i,C),x=o.enabled;T&&!S?(u.removeClass(`${o.containerModifierClass}grid ${o.containerModifierClass}grid-column`),i.emitContainerClasses()):!T&&S&&(u.addClass(`${o.containerModifierClass}grid`),(C.grid.fill&&"column"===C.grid.fill||!C.grid.fill&&"column"===o.grid.fill)&&u.addClass(`${o.containerModifierClass}grid-column`),i.emitContainerClasses());const k=C.direction&&C.direction!==o.direction,N=o.loop&&(C.slidesPerView!==o.slidesPerView||k);k&&r&&i.changeDirection(),wo(i.params,C);const L=i.params.enabled;Object.assign(i,{allowTouchMove:i.params.allowTouchMove,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev}),x&&!L?i.disable():!x&&L&&i.enable(),i.currentBreakpoint=g,i.emit("_beforeBreakpoint",C),N&&r&&(i.loopDestroy(),i.loopCreate(),i.updateSlides(),i.slideTo(n-s+i.loopedSlides,0,!1)),i.emit("breakpoint",C)},getBreakpoint:function(i,n="window",r){if(!i||"container"===n&&!r)return;let s=!1;const o=ui(),u="window"===n?o.innerHeight:r.clientHeight,f=Object.keys(i).map(g=>{if("string"==typeof g&&0===g.indexOf("@")){const v=parseFloat(g.substr(1));return{value:u*v,point:g}}return{value:g,point:g}});f.sort((g,v)=>parseInt(g.value,10)-parseInt(v.value,10));for(let g=0;g<f.length;g+=1){const{point:v,value:C}=f[g];"window"===n?o.matchMedia(`(min-width: ${C}px)`).matches&&(s=v):C<=r.clientWidth&&(s=v)}return s||"max"}},checkOverflow:{checkOverflow:function(){const i=this,{isLocked:n,params:r}=i,{slidesOffsetBefore:s}=r;if(s){const o=i.slides.length-1;i.isLocked=i.size>i.slidesGrid[o]+i.slidesSizesGrid[o]+2*s}else i.isLocked=1===i.snapGrid.length;!0===r.allowSlideNext&&(i.allowSlideNext=!i.isLocked),!0===r.allowSlidePrev&&(i.allowSlidePrev=!i.isLocked),n&&n!==i.isLocked&&(i.isEnd=!1),n!==i.isLocked&&i.emit(i.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const i=this,{classNames:n,params:r,rtl:s,$el:o,device:u,support:f}=i,g=function(i,n){const r=[];return i.forEach(s=>{"object"==typeof s?Object.keys(s).forEach(o=>{s[o]&&r.push(n+o)}):"string"==typeof s&&r.push(n+s)}),r}(["initialized",r.direction,{"pointer-events":!f.touch},{"free-mode":i.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:s},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&"column"===r.grid.fill},{android:u.android},{ios:u.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides}],r.containerModifierClass);n.push(...g),o.addClass([...n].join(" ")),i.emitContainerClasses()},removeClasses:function(){const{$el:n,classNames:r}=this;n.removeClass(r.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(i,n,r,s,o,u){const f=ui();let g;function v(){u&&u()}Ur(i).parent("picture")[0]||i.complete&&o||!n?v():(g=new f.Image,g.onload=v,g.onerror=v,s&&(g.sizes=s),r&&(g.srcset=r),n&&(g.src=n))},preloadImages:function(){const i=this;function n(){null==i||!i||i.destroyed||(void 0!==i.imagesLoaded&&(i.imagesLoaded+=1),i.imagesLoaded===i.imagesToLoad.length&&(i.params.updateOnImagesReady&&i.update(),i.emit("imagesReady")))}i.imagesToLoad=i.$el.find("img");for(let r=0;r<i.imagesToLoad.length;r+=1){const s=i.imagesToLoad[r];i.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,n)}}}},Wk={};class da{constructor(...n){let r,s;if(1===n.length&&n[0].constructor&&"Object"===Object.prototype.toString.call(n[0]).slice(8,-1)?s=n[0]:[r,s]=n,s||(s={}),s=wo({},s),r&&!s.el&&(s.el=r),s.el&&Ur(s.el).length>1){const g=[];return Ur(s.el).each(v=>{const C=wo({},s,{el:v});g.push(new da(C))}),g}const o=this;o.__swiper__=!0,o.support=hL(),o.device=function(i={}){return zk||(zk=function({userAgent:i}={}){const n=hL(),r=ui(),s=r.navigator.platform,o=i||r.navigator.userAgent,u={ios:!1,android:!1},f=r.screen.width,g=r.screen.height,v=o.match(/(Android);?[\s\/]+([\d.]+)?/);let C=o.match(/(iPad).*OS\s([\d_]+)/);const T=o.match(/(iPod)(.*OS\s([\d_]+))?/),S=!C&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x="Win32"===s;let k="MacIntel"===s;return!C&&k&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${f}x${g}`)>=0&&(C=o.match(/(Version)\/([\d.]+)/),C||(C=[0,1,"13_0_0"]),k=!1),v&&!x&&(u.os="android",u.android=!0),(C||S||T)&&(u.os="ios",u.ios=!0),u}(i)),zk}({userAgent:s.userAgent}),o.browser=(Gk||(Gk=function(){const i=ui();return{isSafari:function(){const r=i.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(i.navigator.userAgent)}}()),Gk),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],s.modules&&Array.isArray(s.modules)&&o.modules.push(...s.modules);const u={};o.modules.forEach(g=>{g({swiper:o,extendParams:cH(s,u),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const f=wo({},yL,u);return o.params=wo({},f,Wk,s),o.originalParams=wo({},o.params),o.passedParams=wo({},s),o.params&&o.params.on&&Object.keys(o.params.on).forEach(g=>{o.on(g,o.params.on[g])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=Ur,Object.assign(o,{enabled:o.params.enabled,el:r,classNames:[],slides:Ur(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:function(){const v=["touchstart","touchmove","touchend","touchcancel"],C=["pointerdown","pointermove","pointerup"];return o.touchEventsTouch={start:v[0],move:v[1],end:v[2],cancel:v[3]},o.touchEventsDesktop={start:C[0],move:C[1],end:C[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:pw(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}enable(){const n=this;n.enabled||(n.enabled=!0,n.params.grabCursor&&n.setGrabCursor(),n.emit("enable"))}disable(){const n=this;!n.enabled||(n.enabled=!1,n.params.grabCursor&&n.unsetGrabCursor(),n.emit("disable"))}setProgress(n,r){const s=this;n=Math.min(Math.max(n,0),1);const o=s.minTranslate(),f=(s.maxTranslate()-o)*n+o;s.translateTo(f,void 0===r?0:r),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const r=n.el.className.split(" ").filter(s=>0===s.indexOf("swiper")||0===s.indexOf(n.params.containerModifierClass));n.emit("_containerClasses",r.join(" "))}getSlideClasses(n){const r=this;return n.className.split(" ").filter(s=>0===s.indexOf("swiper-slide")||0===s.indexOf(r.params.slideClass)).join(" ")}emitSlidesClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const r=[];n.slides.each(s=>{const o=n.getSlideClasses(s);r.push({slideEl:s,classNames:o}),n.emit("_slideClass",s,o)}),n.emit("_slideClasses",r)}slidesPerViewDynamic(n="current",r=!1){const{params:o,slides:u,slidesGrid:f,slidesSizesGrid:g,size:v,activeIndex:C}=this;let T=1;if(o.centeredSlides){let x,S=u[C].swiperSlideSize;for(let k=C+1;k<u.length;k+=1)u[k]&&!x&&(S+=u[k].swiperSlideSize,T+=1,S>v&&(x=!0));for(let k=C-1;k>=0;k-=1)u[k]&&!x&&(S+=u[k].swiperSlideSize,T+=1,S>v&&(x=!0))}else if("current"===n)for(let S=C+1;S<u.length;S+=1)(r?f[S]+g[S]-f[C]<v:f[S]-f[C]<v)&&(T+=1);else for(let S=C-1;S>=0;S-=1)f[C]-f[S]<v&&(T+=1);return T}update(){const n=this;if(!n||n.destroyed)return;const{snapGrid:r,params:s}=n;function o(){const g=Math.min(Math.max(n.rtlTranslate?-1*n.translate:n.translate,n.maxTranslate()),n.minTranslate());n.setTranslate(g),n.updateActiveIndex(),n.updateSlidesClasses()}let u;s.breakpoints&&n.setBreakpoint(),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.params.freeMode&&n.params.freeMode.enabled?(o(),n.params.autoHeight&&n.updateAutoHeight()):(u=n.slideTo(("auto"===n.params.slidesPerView||n.params.slidesPerView>1)&&n.isEnd&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),u||o()),s.watchOverflow&&r!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(n,r=!0){const s=this,o=s.params.direction;return n||(n="horizontal"===o?"vertical":"horizontal"),n===o||"horizontal"!==n&&"vertical"!==n||(s.$el.removeClass(`${s.params.containerModifierClass}${o}`).addClass(`${s.params.containerModifierClass}${n}`),s.emitContainerClasses(),s.params.direction=n,s.slides.each(u=>{"vertical"===n?u.style.width="":u.style.height=""}),s.emit("changeDirection"),r&&s.update()),s}mount(n){const r=this;if(r.mounted)return!0;const s=Ur(n||r.params.el);if(!(n=s[0]))return!1;n.swiper=r;const o=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let f=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){const g=Ur(n.shadowRoot.querySelector(o()));return g.children=v=>s.children(v),g}return s.children(o())})();if(0===f.length&&r.params.createElements){const v=Co().createElement("div");f=Ur(v),v.className=r.params.wrapperClass,s.append(v),s.children(`.${r.params.slideClass}`).each(C=>{f.append(C)})}return Object.assign(r,{$el:s,el:n,$wrapperEl:f,wrapperEl:f[0],mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===r.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===f.css("display")}),!0}init(n){const r=this;return r.initialized||!1===r.mount(n)||(r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.params.loop&&r.loopCreate(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.preloadImages&&r.preloadImages(),r.slideTo(r.params.loop?r.params.initialSlide+r.loopedSlides:r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.attachEvents(),r.initialized=!0,r.emit("init"),r.emit("afterInit")),r}destroy(n=!0,r=!0){const s=this,{params:o,$el:u,$wrapperEl:f,slides:g}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),o.loop&&s.loopDestroy(),r&&(s.removeClasses(),u.removeAttr("style"),f.removeAttr("style"),g&&g.length&&g.removeClass([o.slideVisibleClass,o.slideActiveClass,o.slideNextClass,o.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(v=>{s.off(v)}),!1!==n&&(s.$el[0].swiper=null,function(i){const n=i;Object.keys(n).forEach(r=>{try{n[r]=null}catch(s){}try{delete n[r]}catch(s){}})}(s)),s.destroyed=!0),null}static extendDefaults(n){wo(Wk,n)}static get extendedDefaults(){return Wk}static get defaults(){return yL}static installModule(n){da.prototype.__modules__||(da.prototype.__modules__=[]);const r=da.prototype.__modules__;"function"==typeof n&&r.indexOf(n)<0&&r.push(n)}static use(n){return Array.isArray(n)?(n.forEach(r=>da.installModule(r)),da):(da.installModule(n),da)}}Object.keys(qk).forEach(i=>{Object.keys(qk[i]).forEach(n=>{da.prototype[n]=qk[i][n]})}),da.use([function({swiper:i,on:n,emit:r}){const s=ui();let o=null;const u=()=>{!i||i.destroyed||!i.initialized||(r("beforeResize"),r("resize"))},v=()=>{!i||i.destroyed||!i.initialized||r("orientationchange")};n("init",()=>{i.params.resizeObserver&&void 0!==s.ResizeObserver?!i||i.destroyed||!i.initialized||(o=new ResizeObserver(C=>{const{width:T,height:S}=i;let x=T,k=S;C.forEach(({contentBoxSize:N,contentRect:L,target:F})=>{F&&F!==i.el||(x=L?L.width:(N[0]||N).inlineSize,k=L?L.height:(N[0]||N).blockSize)}),(x!==T||k!==S)&&u()}),o.observe(i.el)):(s.addEventListener("resize",u),s.addEventListener("orientationchange",v))}),n("destroy",()=>{o&&o.unobserve&&i.el&&(o.unobserve(i.el),o=null),s.removeEventListener("resize",u),s.removeEventListener("orientationchange",v)})},function({swiper:i,extendParams:n,on:r,emit:s}){const o=[],u=ui(),f=(C,T={})=>{const x=new(u.MutationObserver||u.WebkitMutationObserver)(k=>{if(1===k.length)return void s("observerUpdate",k[0]);const N=function(){s("observerUpdate",k[0])};u.requestAnimationFrame?u.requestAnimationFrame(N):u.setTimeout(N,0)});x.observe(C,{attributes:void 0===T.attributes||T.attributes,childList:void 0===T.childList||T.childList,characterData:void 0===T.characterData||T.characterData}),o.push(x)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",()=>{if(i.params.observer){if(i.params.observeParents){const C=i.$el.parents();for(let T=0;T<C.length;T+=1)f(C[T])}f(i.$el[0],{childList:i.params.observeSlideChildren}),f(i.$wrapperEl[0],{attributes:!1})}}),r("destroy",()=>{o.forEach(C=>{C.disconnect()}),o.splice(0,o.length)})}]);const uH=da;function dH(i,n){if(1&i&&(h.TgZ(0,"div",3),h._UZ(1,"img",4),h.qZA()),2&i){const r=n.$implicit;h.xp6(1),h.Q6J("src",r,h.LSH)}}let hH=(()=>{class i{constructor(){this.images=["assets/images/banner-1.jpg","assets/images/banner-2.jpg","assets/images/banner-3.jpg"]}ngOnInit(){}ngAfterViewInit(){this.mySwiper=new uH(".swiper-container")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-banner"]],decls:3,vars:1,consts:[[1,"swiper-container"],[1,"swiper-wrapper"],["class","swiper-slide",4,"ngFor","ngForOf"],[1,"swiper-slide"],["alt","imagen de banner",3,"src"]],template:function(r,s){1&r&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.YNc(2,dH,2,1,"div",2),h.qZA(),h.qZA()),2&r&&(h.xp6(2),h.Q6J("ngForOf",s.images))},directives:[on],styles:[""]}),i})(),fH=(()=>{class i{constructor(r){this.title="ingweb-fm",this.items=r.collection("items").valueChanges()}ngOnInit(){}ngAfterViewInit(){}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(c))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-home"]],decls:2,vars:0,template:function(r,s){1&r&&(h._UZ(0,"app-header"),h._UZ(1,"app-banner"))},directives:[Lk,hH],styles:[""]}),i})();function KA(i){return i&&"function"==typeof i.connect}class vL{applyChanges(n,r,s,o,u){n.forEachOperation((f,g,v)=>{let C,T;if(null==f.previousIndex){const S=s(f,g,v);C=r.createEmbeddedView(S.templateRef,S.context,S.index),T=1}else null==v?(r.remove(g),T=3):(C=r.get(g),r.move(C,v),T=2);u&&u({context:null==C?void 0:C.context,operation:T,record:f})})}detach(){}}const cg=new h.OlP("_ViewRepeater");var gH=j(6465),yH=j(6102);new class extends yH.v{flush(n){this.active=!0,this.scheduled=void 0;const{actions:r}=this;let s,o=-1,u=r.length;n=n||r.shift();do{if(s=n.execute(n.state,n.delay))break}while(++o<u&&(n=r.shift()));if(this.active=!1,s){for(;++o<u&&(n=r.shift());)n.unsubscribe();throw s}}}(class extends gH.o{constructor(n,r){super(n,r),this.scheduler=n,this.work=r}requestAsyncId(n,r,s=0){return null!==s&&s>0?super.requestAsyncId(n,r,s):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(()=>n.flush(null))))}recycleAsyncId(n,r,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(n,r,s);0===n.actions.length&&(cancelAnimationFrame(r),n.scheduled=void 0)}});j(4581);let wL=(()=>{class i{constructor(r,s,o){this._platform=r,this._change=new Xt.xQ,this._changeListener=u=>{this._change.next(u)},this._document=o,s.runOutsideAngular(()=>{if(r.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){const r=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+o,right:r.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const r=this._document,s=this._getWindow(),o=r.documentElement,u=o.getBoundingClientRect();return{top:-u.top||r.body.scrollTop||s.scrollY||o.scrollTop||0,left:-u.left||r.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(r=20){return r>0?this._change.pipe(function(i,n=Np.P){return function(i){return function(r){return r.lift(new L3(i))}}(()=>function(i=0,n,r){let s=-1;return(0,eL.k)(n)?s=Number(n)<1?1:Number(n):(0,Ea.K)(n)&&(r=n),(0,Ea.K)(r)||(r=Np.P),new Tn.y(o=>{const u=(0,eL.k)(i)?i:+i-r.now();return r.schedule(B3,u,{index:0,period:s,subscriber:o})})}(i,n))}(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(er),h.LFG(h.R0b),h.LFG(pe,8))},i.\u0275prov=h.Yz7({factory:function(){return new i(h.LFG(er),h.LFG(h.R0b),h.LFG(pe,8))},token:i,providedIn:"root"}),i})(),DL=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})(),RH=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[EA,nw,DL],EA,DL]}),i})();const kH=[[["caption"]],[["colgroup"],["col"]]],NH=["caption","colgroup, col"];function Kk(i){return class extends i{constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(n){const r=this._sticky;this._sticky=Ai(n),this._hasStickyChanged=r!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}}}const Bv=new h.OlP("CDK_TABLE");let $v=(()=>{class i{constructor(r){this.template=r}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkCellDef",""]]}),i})(),Hv=(()=>{class i{constructor(r){this.template=r}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),QA=(()=>{class i{constructor(r){this.template=r}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class LH{}const VH=Kk(LH);let id=(()=>{class i extends VH{constructor(r){super(),this._table=r,this._stickyEnd=!1}get name(){return this._name}set name(r){this._setNameInput(r)}get stickyEnd(){return this._stickyEnd}set stickyEnd(r){const s=this._stickyEnd;this._stickyEnd=Ai(r),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(r){r&&(this._name=r,this.cssClassFriendlyName=r.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(Bv,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,s,o){if(1&r&&(h.Suo(o,$v,5),h.Suo(o,Hv,5),h.Suo(o,QA,5)),2&r){let u;h.iGM(u=h.CRH())&&(s.cell=u.first),h.iGM(u=h.CRH())&&(s.headerCell=u.first),h.iGM(u=h.CRH())&&(s.footerCell=u.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[h._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),h.qOj]}),i})();class Qk{constructor(n,r){const s=r.nativeElement.classList;for(const o of n._columnCssClassName)s.add(o)}}let Jk=(()=>{class i extends Qk{constructor(r,s){super(r,s)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(id),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[h.qOj]}),i})(),Xk=(()=>{class i extends Qk{constructor(r,s){var o;if(super(r,s),1===(null===(o=r._table)||void 0===o?void 0:o._elementRef.nativeElement.nodeType)){const u=r._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===u||"treegrid"===u?"gridcell":"cell")}}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(id),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[h.qOj]}),i})();class IL{constructor(){this.tasks=[],this.endTasks=[]}}const eN=new h.OlP("_COALESCED_STYLE_SCHEDULER");let AL=(()=>{class i{constructor(r){this._ngZone=r,this._currentSchedule=null,this._destroyed=new Xt.xQ}schedule(r){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(r)}scheduleEnd(r){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(r)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new IL,this._getScheduleObservable().pipe(la(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const r=this._currentSchedule;this._currentSchedule=new IL;for(const s of r.tasks)s();for(const s of r.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,cn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Al(1))}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(h.R0b))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac}),i})(),tN=(()=>{class i{constructor(r,s){this.template=r,this._differs=s}ngOnChanges(r){if(!this._columnsDiffer){const s=r.columns&&r.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(r){return this instanceof mw?r.headerCell.template:this instanceof gw?r.footerCell.template:r.cell.template}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4))},i.\u0275dir=h.lG2({type:i,features:[h.TTD]}),i})();class UH extends tN{}const BH=Kk(UH);let mw=(()=>{class i extends BH{constructor(r,s,o){super(r,s),this._table=o}ngOnChanges(r){super.ngOnChanges(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Bv,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),i})();class $H extends tN{}const HH=Kk($H);let gw=(()=>{class i extends HH{constructor(r,s,o){super(r,s),this._table=o}ngOnChanges(r){super.ngOnChanges(r)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Bv,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[h.qOj,h.TTD]}),i})(),JA=(()=>{class i extends tN{constructor(r,s,o){super(r,s),this._table=o}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc),h.Y36(h.ZZ4),h.Y36(Bv,8))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[h.qOj]}),i})(),sd=(()=>{class i{constructor(r){this._viewContainer=r,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b))},i.\u0275dir=h.lG2({type:i,selectors:[["","cdkCellOutlet",""]]}),i.mostRecentCellOutlet=null,i})(),nN=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){1&r&&h.GkF(0,0)},directives:[sd],encapsulation:2}),i})(),iN=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){1&r&&h.GkF(0,0)},directives:[sd],encapsulation:2}),i})(),XA=(()=>{class i{constructor(r){this.templateRef=r}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.Rgc))},i.\u0275dir=h.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const ML=["top","bottom","left","right"];class jH{constructor(n,r,s,o,u=!0,f=!0,g){this._isNativeHtmlTable=n,this._stickCellCss=r,this.direction=s,this._coalescedStyleScheduler=o,this._isBrowser=u,this._needsPositionStickyOnElement=f,this._positionListener=g,this._cachedCellWidths=[],this._borderCellCss={top:`${r}-border-elem-top`,bottom:`${r}-border-elem-bottom`,left:`${r}-border-elem-left`,right:`${r}-border-elem-right`}}clearStickyPositioning(n,r){const s=[];for(const o of n)if(o.nodeType===o.ELEMENT_NODE){s.push(o);for(let u=0;u<o.children.length;u++)s.push(o.children[u])}this._coalescedStyleScheduler.schedule(()=>{for(const o of s)this._removeStickyStyle(o,r)})}updateStickyColumns(n,r,s,o=!0){if(!n.length||!this._isBrowser||!r.some(x=>x)&&!s.some(x=>x))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const u=n[0],f=u.children.length,g=this._getCellWidths(u,o),v=this._getStickyStartColumnPositions(g,r),C=this._getStickyEndColumnPositions(g,s),T=r.lastIndexOf(!0),S=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const x="rtl"===this.direction,k=x?"right":"left",N=x?"left":"right";for(const L of n)for(let F=0;F<f;F++){const z=L.children[F];r[F]&&this._addStickyStyle(z,k,v[F],F===T),s[F]&&this._addStickyStyle(z,N,C[F],F===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:g.slice(0,T+1).map((L,F)=>r[F]?L:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:g.slice(S).map((L,F)=>s[F+S]?L:null).reverse()}))})}stickRows(n,r,s){if(!this._isBrowser)return;const o="bottom"===s?n.slice().reverse():n,u="bottom"===s?r.slice().reverse():r,f=[],g=[],v=[];for(let T=0,S=0;T<o.length;T++){if(!u[T])continue;f[T]=S;const x=o[T];v[T]=this._isNativeHtmlTable?Array.from(x.children):[x];const k=x.getBoundingClientRect().height;S+=k,g[T]=k}const C=u.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,S;for(let x=0;x<o.length;x++){if(!u[x])continue;const k=f[x],N=x===C;for(const L of v[x])this._addStickyStyle(L,s,k,N)}"top"===s?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:g,offsets:f,elements:v}):null===(S=this._positionListener)||void 0===S||S.stickyFooterRowsUpdated({sizes:g,offsets:f,elements:v})})}updateStickyFooterContainer(n,r){if(!this._isNativeHtmlTable)return;const s=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{r.some(o=>!o)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(n,r){for(const o of r)n.style[o]="",n.classList.remove(this._borderCellCss[o]);ML.some(o=>-1===r.indexOf(o)&&n.style[o])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,r,s,o){n.classList.add(this._stickCellCss),o&&n.classList.add(this._borderCellCss[r]),n.style[r]=`${s}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const r={top:100,bottom:10,left:1,right:1};let s=0;for(const o of ML)n.style[o]&&(s+=r[o]);return s?`${s}`:""}_getCellWidths(n,r=!0){if(!r&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],o=n.children;for(let u=0;u<o.length;u++)s.push(o[u].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(n,r){const s=[];let o=0;for(let u=0;u<n.length;u++)r[u]&&(s[u]=o,o+=n[u]);return s}_getStickyEndColumnPositions(n,r){const s=[];let o=0;for(let u=n.length;u>0;u--)r[u]&&(s[u]=o,o+=n[u]);return s}}const sN=new h.OlP("CDK_SPL");let eM=(()=>{class i{constructor(r,s){this.viewContainer=r,this.elementRef=s}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","rowOutlet",""]]}),i})(),tM=(()=>{class i{constructor(r,s){this.viewContainer=r,this.elementRef=s}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),nM=(()=>{class i{constructor(r,s){this.viewContainer=r,this.elementRef=s}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),rM=(()=>{class i{constructor(r,s){this.viewContainer=r,this.elementRef=s}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.s_b),h.Y36(h.SBq))},i.\u0275dir=h.lG2({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),iM=(()=>{class i{constructor(r,s,o,u,f,g,v,C,T,S,x){this._differs=r,this._changeDetectorRef=s,this._elementRef=o,this._dir=f,this._platform=v,this._viewRepeater=C,this._coalescedStyleScheduler=T,this._viewportRuler=S,this._stickyPositioningListener=x,this._onDestroy=new Xt.xQ,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new h.vpe,this.viewChange=new Jr({start:0,end:Number.MAX_VALUE}),u||this._elementRef.nativeElement.setAttribute("role","table"),this._document=g,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(r){this._trackByFn=r}get dataSource(){return this._dataSource}set dataSource(r){this._dataSource!==r&&this._switchDataSource(r)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(r){this._multiTemplateDataRows=Ai(r),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(r){this._fixedLayout=Ai(r),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((r,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe(la(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),KA(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const r=this._dataDiffer.diff(this._renderRows);if(!r)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(r,s,(o,u,f)=>this._getEmbeddedViewArgs(o.item,f),o=>o.item.data,o=>{1===o.operation&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),r.forEachIdentityChange(o=>{s.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(r){this._customColumnDefs.add(r)}removeColumnDef(r){this._customColumnDefs.delete(r)}addRowDef(r){this._customRowDefs.add(r)}removeRowDef(r){this._customRowDefs.delete(r)}addHeaderRowDef(r){this._customHeaderRowDefs.add(r),this._headerRowDefChanged=!0}removeHeaderRowDef(r){this._customHeaderRowDefs.delete(r),this._headerRowDefChanged=!0}addFooterRowDef(r){this._customFooterRowDefs.add(r),this._footerRowDefChanged=!0}removeFooterRowDef(r){this._customFooterRowDefs.delete(r),this._footerRowDefChanged=!0}setNoDataRow(r){this._customNoDataRow=r}updateStickyHeaderRowStyles(){const r=this._getRenderedRows(this._headerRowOutlet),o=this._elementRef.nativeElement.querySelector("thead");o&&(o.style.display=r.length?"":"none");const u=this._headerRowDefs.map(f=>f.sticky);this._stickyStyler.clearStickyPositioning(r,["top"]),this._stickyStyler.stickRows(r,u,"top"),this._headerRowDefs.forEach(f=>f.resetStickyChanged())}updateStickyFooterRowStyles(){const r=this._getRenderedRows(this._footerRowOutlet),o=this._elementRef.nativeElement.querySelector("tfoot");o&&(o.style.display=r.length?"":"none");const u=this._footerRowDefs.map(f=>f.sticky);this._stickyStyler.clearStickyPositioning(r,["bottom"]),this._stickyStyler.stickRows(r,u,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,u),this._footerRowDefs.forEach(f=>f.resetStickyChanged())}updateStickyColumnStyles(){const r=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...r,...s,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),r.forEach((u,f)=>{this._addStickyColumnStyles([u],this._headerRowDefs[f])}),this._rowDefs.forEach(u=>{const f=[];for(let g=0;g<s.length;g++)this._renderRows[g].rowDef===u&&f.push(s[g]);this._addStickyColumnStyles(f,u)}),o.forEach((u,f)=>{this._addStickyColumnStyles([u],this._footerRowDefs[f])}),Array.from(this._columnDefsByName.values()).forEach(u=>u.resetStickyChanged())}_getAllRenderRows(){const r=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let o=0;o<this._data.length;o++){let u=this._data[o];const f=this._getRenderRowsForData(u,o,s.get(u));this._cachedRenderRowsMap.has(u)||this._cachedRenderRowsMap.set(u,new WeakMap);for(let g=0;g<f.length;g++){let v=f[g];const C=this._cachedRenderRowsMap.get(v.data);C.has(v.rowDef)?C.get(v.rowDef).push(v):C.set(v.rowDef,[v]),r.push(v)}}return r}_getRenderRowsForData(r,s,o){return this._getRowDefs(r,s).map(f=>{const g=o&&o.has(f)?o.get(f):[];if(g.length){const v=g.shift();return v.dataIndex=s,v}return{data:r,rowDef:f,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),sM(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=sM(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=sM(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=sM(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const r=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=r[0]}_renderUpdatedColumns(){const r=(f,g)=>f||!!g.getColumnsDiff(),s=this._rowDefs.reduce(r,!1);s&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(r,!1);o&&this._forceRenderHeaderRows();const u=this._footerRowDefs.reduce(r,!1);return u&&this._forceRenderFooterRows(),s||o||u}_switchDataSource(r){this._data=[],KA(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),r||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=r}_observeRenderChanges(){if(!this.dataSource)return;let r;KA(this.dataSource)?r=this.dataSource.connect(this):function(i){return!!i&&(i instanceof Tn.y||"function"==typeof i.lift&&"function"==typeof i.subscribe)}(this.dataSource)?r=this.dataSource:Array.isArray(this.dataSource)&&(r=(0,it.of)(this.dataSource)),this._renderChangeSubscription=r.pipe(la(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((r,s)=>this._renderRow(this._headerRowOutlet,r,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((r,s)=>this._renderRow(this._footerRowOutlet,r,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(r,s){const o=Array.from(s.columns||[]).map(g=>this._columnDefsByName.get(g)),u=o.map(g=>g.sticky),f=o.map(g=>g.stickyEnd);this._stickyStyler.updateStickyColumns(r,u,f,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(r){const s=[];for(let o=0;o<r.viewContainer.length;o++){const u=r.viewContainer.get(o);s.push(u.rootNodes[0])}return s}_getRowDefs(r,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(u=>!u.when||u.when(s,r));else{let u=this._rowDefs.find(f=>f.when&&f.when(s,r))||this._defaultRowDef;u&&o.push(u)}return o}_getEmbeddedViewArgs(r,s){return{templateRef:r.rowDef.template,context:{$implicit:r.data},index:s}}_renderRow(r,s,o,u={}){const f=r.viewContainer.createEmbeddedView(s.template,u,o);return this._renderCellTemplateForItem(s,u),f}_renderCellTemplateForItem(r,s){for(let o of this._getCellTemplates(r))sd.mostRecentCellOutlet&&sd.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const r=this._rowOutlet.viewContainer;for(let s=0,o=r.length;s<o;s++){const f=r.get(s).context;f.count=o,f.first=0===s,f.last=s===o-1,f.even=s%2==0,f.odd=!f.even,this.multiTemplateDataRows?(f.dataIndex=this._renderRows[s].dataIndex,f.renderIndex=s):f.index=this._renderRows[s].dataIndex}}_getCellTemplates(r){return r&&r.columns?Array.from(r.columns,s=>{const o=this._columnDefsByName.get(s);return r.extractCellTemplate(o)}):[]}_applyNativeTableSections(){const r=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const o of s){const u=this._document.createElement(o.tag);u.setAttribute("role","rowgroup");for(const f of o.outlets)u.appendChild(f.elementRef.nativeElement);r.appendChild(u)}this._elementRef.nativeElement.appendChild(r)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const r=(s,o)=>s||o.hasStickyChanged();this._headerRowDefs.reduce(r,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(r,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(r,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new jH(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,it.of)()).pipe(la(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(r){return r.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const r=this._customNoDataRow||this._noDataRow;if(r){const s=0===this._rowOutlet.viewContainer.length;if(s!==this._isShowingNoDataRow){const o=this._noDataRowOutlet.viewContainer;s?o.createEmbeddedView(r.templateRef):o.clear(),this._isShowingNoDataRow=s}}}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(h.ZZ4),h.Y36(h.sBO),h.Y36(h.SBq),h.$8M("role"),h.Y36(ow,8),h.Y36(pe),h.Y36(er),h.Y36(cg),h.Y36(eN),h.Y36(wL),h.Y36(sN,12))},i.\u0275cmp=h.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,s,o){if(1&r&&(h.Suo(o,XA,5),h.Suo(o,id,5),h.Suo(o,JA,5),h.Suo(o,mw,5),h.Suo(o,gw,5)),2&r){let u;h.iGM(u=h.CRH())&&(s._noDataRow=u.first),h.iGM(u=h.CRH())&&(s._contentColumnDefs=u),h.iGM(u=h.CRH())&&(s._contentRowDefs=u),h.iGM(u=h.CRH())&&(s._contentHeaderRowDefs=u),h.iGM(u=h.CRH())&&(s._contentFooterRowDefs=u)}},viewQuery:function(r,s){if(1&r&&(h.Gf(eM,7),h.Gf(tM,7),h.Gf(nM,7),h.Gf(rM,7)),2&r){let o;h.iGM(o=h.CRH())&&(s._rowOutlet=o.first),h.iGM(o=h.CRH())&&(s._headerRowOutlet=o.first),h.iGM(o=h.CRH())&&(s._footerRowOutlet=o.first),h.iGM(o=h.CRH())&&(s._noDataRowOutlet=o.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,s){2&r&&h.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[h._Bn([{provide:Bv,useExisting:i},{provide:cg,useClass:vL},{provide:eN,useClass:AL},{provide:sN,useValue:null}])],ngContentSelectors:NH,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){1&r&&(h.F$t(kH),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0),h.GkF(3,1),h.GkF(4,2),h.GkF(5,3))},directives:[tM,eM,rM,nM],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})();function sM(i,n){return i.concat(Array.from(n))}let GH=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[RH]]}),i})();const qH=[[["caption"]],[["colgroup"],["col"]]],WH=["caption","colgroup, col"];let RL=(()=>{class i extends iM{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(r,s){2&r&&h.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[h._Bn([{provide:cg,useClass:vL},{provide:iM,useExisting:i},{provide:Bv,useExisting:i},{provide:eN,useClass:AL},{provide:sN,useValue:null}]),h.qOj],ngContentSelectors:WH,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){1&r&&(h.F$t(qH),h.Hsn(0),h.Hsn(1,1),h.GkF(2,0),h.GkF(3,1),h.GkF(4,2),h.GkF(5,3))},directives:[tM,eM,rM,nM],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),i})(),oN=(()=>{class i extends $v{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matCellDef",""]],features:[h._Bn([{provide:$v,useExisting:i}]),h.qOj]}),i})(),aN=(()=>{class i extends Hv{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[h._Bn([{provide:Hv,useExisting:i}]),h.qOj]}),i})(),lN=(()=>{class i extends id{get name(){return this._name}set name(r){this._setNameInput(r)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[h._Bn([{provide:id,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),h.qOj]}),i})(),cN=(()=>{class i extends Jk{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[h.qOj]}),i})(),uN=(()=>{class i extends Xk{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[h.qOj]}),i})(),kL=(()=>{class i extends mw{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[h._Bn([{provide:mw,useExisting:i}]),h.qOj]}),i})(),NL=(()=>{class i extends JA{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275dir=h.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[h._Bn([{provide:JA,useExisting:i}]),h.qOj]}),i})(),OL=(()=>{class i extends nN{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[h._Bn([{provide:nN,useExisting:i}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){1&r&&h.GkF(0,0)},directives:[sd],encapsulation:2}),i})(),PL=(()=>{class i extends iN{}return i.\u0275fac=function(){let n;return function(s){return(n||(n=h.n5z(i)))(s||i)}}(),i.\u0275cmp=h.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[h._Bn([{provide:iN,useExisting:i}]),h.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){1&r&&h.GkF(0,0)},directives:[sd],encapsulation:2}),i})(),rj=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[GH,Ir],Ir]}),i})();function sj(i,n){1&i&&(h.TgZ(0,"h3",4),h._uU(1,"No existen empleados registados"),h.qZA())}function oj(i,n){1&i&&(h.TgZ(0,"mat-header-cell",16),h._uU(1," Nombre "),h.qZA())}function aj(i,n){if(1&i&&(h.TgZ(0,"mat-cell"),h._uU(1),h.qZA()),2&i){const r=n.$implicit;h.xp6(1),h.hij(" ",r.firstName," ")}}function lj(i,n){1&i&&(h.TgZ(0,"mat-header-cell",16),h._uU(1," Apellido "),h.qZA())}function cj(i,n){if(1&i&&(h.TgZ(0,"mat-cell"),h._uU(1),h.qZA()),2&i){const r=n.$implicit;h.xp6(1),h.hij(" ",r.lastName," ")}}function uj(i,n){1&i&&(h.TgZ(0,"mat-header-cell",16),h._uU(1," Usuario "),h.qZA())}function dj(i,n){if(1&i&&(h.TgZ(0,"mat-cell"),h._uU(1),h.qZA()),2&i){const r=n.$implicit;h.xp6(1),h.hij(" ",r.userName," ")}}function hj(i,n){1&i&&(h.TgZ(0,"mat-header-cell",16),h._uU(1," Mail "),h.qZA())}function fj(i,n){if(1&i&&(h.TgZ(0,"mat-cell"),h._uU(1),h.qZA()),2&i){const r=n.$implicit;h.xp6(1),h.hij(" ",r.email," ")}}function pj(i,n){1&i&&(h.TgZ(0,"mat-header-cell"),h._uU(1," Acci\xf3n "),h.qZA())}const mj=function(i){return["/edit-employee/",i]};function gj(i,n){if(1&i){const r=h.EpF();h.TgZ(0,"mat-cell"),h.TgZ(1,"button",17),h.TgZ(2,"mat-icon"),h._uU(3,"edit"),h.qZA(),h._uU(4," Editar"),h.qZA(),h.TgZ(5,"button",18),h.NdJ("click",function(){const u=h.CHM(r).$implicit;return h.oxw(2).deleteEmployee(u.id)}),h.TgZ(6,"mat-icon"),h._uU(7,"delete"),h.qZA(),h._uU(8," Eliminar"),h.qZA(),h.qZA()}if(2&i){const r=n.$implicit;h.xp6(1),h.Q6J("routerLink",h.VKq(1,mj,r.id))}}function _j(i,n){1&i&&h._UZ(0,"mat-header-row")}function yj(i,n){1&i&&h._UZ(0,"mat-row")}function vj(i,n){if(1&i&&(h.TgZ(0,"mat-table",5),h.ynx(1,6),h.YNc(2,oj,2,0,"mat-header-cell",7),h.YNc(3,aj,2,1,"mat-cell",8),h.BQk(),h.ynx(4,9),h.YNc(5,lj,2,0,"mat-header-cell",7),h.YNc(6,cj,2,1,"mat-cell",8),h.BQk(),h.ynx(7,10),h.YNc(8,uj,2,0,"mat-header-cell",7),h.YNc(9,dj,2,1,"mat-cell",8),h.BQk(),h.ynx(10,11),h.YNc(11,hj,2,0,"mat-header-cell",7),h.YNc(12,fj,2,1,"mat-cell",8),h.BQk(),h.ynx(13,12),h.YNc(14,pj,2,0,"mat-header-cell",13),h.YNc(15,gj,9,3,"mat-cell",8),h.BQk(),h.YNc(16,_j,1,0,"mat-header-row",14),h.YNc(17,yj,1,0,"mat-row",15),h.qZA()),2&i){const r=h.oxw();h.Q6J("dataSource",r.employeesArray),h.xp6(16),h.Q6J("matHeaderRowDef",r.displayedColumns),h.xp6(1),h.Q6J("matRowDefColumns",r.displayedColumns)}}const bj=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:fH},{path:"employees",component:(()=>{class i{constructor(r){this._employeeService=r,this.employees=[],this.employeesArray=[],this.displayedColumns=["firstName","lastName","userName","email","action"]}ngOnInit(){this.getEmployees()}getEmployees(){this._employeeService.getEmployees().subscribe(r=>{this.employees=[],this.employeesArray=[],r.forEach(s=>{this.employees.push(Object.assign({id:s.payload.doc.id},s.payload.doc.data())),this.employeesArray.push({id:s.payload.doc.id,firstName:s.payload.doc.data().firstName,lastName:s.payload.doc.data().lastName,userName:s.payload.doc.data().userName,email:s.payload.doc.data().email,creationDate:s.payload.doc.data().creationDate,modificationDate:s.payload.doc.data().modificationDate})}),console.log(this.employeesArray)})}deleteEmployee(r){this._employeeService.deleteEmployees(r).then(()=>{console.log("Empleado eliminado!")}).catch(s=>{console.log(s)})}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(m))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-list-employees"]],decls:6,vars:2,consts:[[1,"demo-button-container"],["mat-stroked-button","","color","primary","routerLink","/create-employee",1,"demo-button"],["class","align",4,"ngIf"],["class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[1,"align"],[1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","firstName"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","userName"],["matColumnDef","email"],["matColumnDef","action"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["mat-sort-header",""],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"]],template:function(r,s){1&r&&(h._UZ(0,"app-header"),h.TgZ(1,"div",0),h.TgZ(2,"button",1),h._uU(3," Ingresar empleado "),h.qZA(),h.qZA(),h.YNc(4,sj,2,0,"h3",2),h.YNc(5,vj,18,3,"mat-table",3)),2&r&&(h.xp6(4),h.Q6J("ngIf",0==s.employeesArray.length),h.xp6(1),h.Q6J("ngIf",s.employeesArray.length>0))},directives:[Lk,Fk,Xd,xo,RL,lN,aN,oN,kL,NL,cN,uN,$F,OL,PL],styles:[".demo-button[_ngcontent-%COMP%]{width:100%;align-self:center;align-items:center;border-color:#2c2891}.align[_ngcontent-%COMP%]{padding:3.8%;display:flex;flex-direction:column;align-items:center;margin-top:10px}"]}),i})()},{path:"create-employee",component:oL},{path:"edit-employee/:id",component:oL},{path:"**",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-page-not-found"]],decls:84,vars:0,consts:[["width","1123","height","837","viewBox","0 0 1123 837","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","1123","height","837","fill","black"],["id","sky","filter","url(#filter0_d)"],["id","background","x","30","y","26","width","1063","height","777","rx","20","fill","black"],["id","stars"],["id","Vector","d","M202.12 319.2C204.937 319.2 207.22 316.917 207.22 314.1C207.22 311.283 204.937 309 202.12 309C199.303 309 197.02 311.283 197.02 314.1C197.02 316.917 199.303 319.2 202.12 319.2Z","fill","white"],["id","Vector_2","d","M566.12 615.2C568.937 615.2 571.22 612.917 571.22 610.1C571.22 607.283 568.937 605 566.12 605C563.303 605 561.02 607.283 561.02 610.1C561.02 612.917 563.303 615.2 566.12 615.2Z","fill","white"],["id","Vector_3","d","M351.12 638.95C352.694 638.95 353.97 637.674 353.97 636.1C353.97 634.526 352.694 633.25 351.12 633.25C349.546 633.25 348.27 634.526 348.27 636.1C348.27 637.674 349.546 638.95 351.12 638.95Z","fill","white"],["id","Vector_4","d","M985.11 503.99C986.684 503.99 987.96 502.714 987.96 501.14C987.96 499.566 986.684 498.29 985.11 498.29C983.536 498.29 982.26 499.566 982.26 501.14C982.26 502.714 983.536 503.99 985.11 503.99Z","fill","white"],["id","Vector_5","d","M822.11 247.99C823.684 247.99 824.96 246.714 824.96 245.14C824.96 243.566 823.684 242.29 822.11 242.29C820.536 242.29 819.26 243.566 819.26 245.14C819.26 246.714 820.536 247.99 822.11 247.99Z","fill","white"],["id","Vector_6","d","M1053.11 372.99C1054.68 372.99 1055.96 371.714 1055.96 370.14C1055.96 368.566 1054.68 367.29 1053.11 367.29C1051.54 367.29 1050.26 368.566 1050.26 370.14C1050.26 371.714 1051.54 372.99 1053.11 372.99Z","fill","white"],["id","Vector_7","d","M292.12 152.2C294.937 152.2 297.22 149.917 297.22 147.1C297.22 144.283 294.937 142 292.12 142C289.303 142 287.02 144.283 287.02 147.1C287.02 149.917 289.303 152.2 292.12 152.2Z","fill","white"],["id","Vector_8","d","M151.95 492.17H147.41V487.63H145.56V492.17H141.02V494.02H145.56V498.55H147.41V494.02H151.95V492.17Z","fill","white"],["id","Vector_9","d","M265.95 490.17H261.41V485.63H259.56V490.17H255.02V492.02H259.56V496.55H261.41V492.02H265.95V490.17Z","fill","white"],["id","Vector_10","d","M428.95 582.17H424.41V577.63H422.56V582.17H418.02V584.02H422.56V588.55H424.41V584.02H428.95V582.17Z","fill","white"],["id","Vector_11","d","M776.98 344.67H774.91V342.6H774.07V344.67H772V345.51H774.07V347.58H774.91V345.51H776.98V344.67Z","fill","white"],["id","Vector_12","d","M68.98 422.67H66.91V420.6H66.07V422.67H64V423.51H66.07V425.58H66.91V423.51H68.98V422.67Z","fill","white"],["id","Vector_13","d","M153.98 592.67H151.91V590.6H151.07V592.67H149V593.51H151.07V595.58H151.91V593.51H153.98V592.67Z","fill","white"],["id","Vector_14","d","M297.97 357.71H295.9V355.64H295.06V357.71H292.99V358.55H295.06V360.62H295.9V358.55H297.97V357.71Z","fill","white"],["id","Vector_15","d","M321.98 268.67H319.91V266.6H319.07V268.67H317V269.51H319.07V271.58H319.91V269.51H321.98V268.67Z","fill","white"],["id","Vector_16","d","M956.9 333.07C957.916 333.07 958.74 332.246 958.74 331.23C958.74 330.214 957.916 329.39 956.9 329.39C955.884 329.39 955.06 330.214 955.06 331.23C955.06 332.246 955.884 333.07 956.9 333.07Z","fill","white"],["id","rocket"],["id","Vector_17","d","M635.46 400H466V406.78H635.46V400Z","fill","#535461"],["id","body-rocket"],["id","Vector_18","d","M482.581 674.368H458.851L463.091 645.558H478.341L482.581 674.368Z","fill","#535461"],["id","Vector_19","d","M685.931 674.368H662.211L666.441 645.558H681.701L685.931 674.368Z","fill","#535461"],["id","Group","opacity","0.1"],["id","Vector_20","opacity","0.1","d","M665.261 656.998H682.881L681.701 648.948H666.441L665.261 656.998Z","fill","black"],["id","Vector_21","d","M559.681 674.368H535.961L540.191 645.558H555.451L559.681 674.368Z","fill","#535461"],["id","Vector_22","d","M607.981 674.368H584.261L588.491 645.558H603.741L607.981 674.368Z","fill","#535461"],["id","Group_2","opacity","0.1"],["id","Vector_23","opacity","0.1","d","M587.311 656.998H604.931L603.741 648.948H588.491L587.311 656.998Z","fill","black"],["id","Vector_24","d","M677.861 300.724L677.86 300.724L677.869 300.733C681.479 304.531 686.193 310.849 691.386 320.975C702.335 342.647 707.995 366.605 707.901 390.887V390.888V652.328H633.901L633.901 391.988L633.901 391.986C633.785 367.014 639.733 342.386 651.234 320.22C655.114 312.85 659.549 305.944 664.436 300.73L664.436 300.73L664.442 300.724C665.29 299.787 666.326 299.038 667.481 298.525C668.637 298.012 669.887 297.747 671.151 297.747C672.415 297.747 673.666 298.012 674.821 298.525C675.977 299.038 677.012 299.787 677.861 300.724Z","fill","#E0E0E0","stroke","black"],["id","Vector_25","d","M463.524 300.733L463.524 300.733L463.532 300.724C464.38 299.787 465.416 299.038 466.571 298.525C467.727 298.012 468.977 297.747 470.241 297.747C471.505 297.747 472.755 298.012 473.911 298.525C475.067 299.038 476.102 299.787 476.95 300.724L476.95 300.724L476.957 300.731C481.853 305.944 486.278 312.85 490.168 320.22C501.665 342.388 507.612 367.014 507.501 391.986V391.988V652.328H433.501L433.501 390.888L433.501 390.887C433.408 366.605 439.067 342.647 450.017 320.975C455.2 310.849 459.913 304.531 463.524 300.733Z","fill","#E0E0E0","stroke","black"],["id","Vector_26","d","M490.201 396.448L508.001 396.538V418.478H490.201V396.448Z","fill","#535461"],["id","Vector_27","d","M633.401 396.448L651.191 396.538V418.478H633.401V396.448Z","fill","#535461"],["id","Group_3","opacity","0.1"],["id","Vector_28","opacity","0.1","d","M490.611 319.648C486.711 312.258 482.261 305.308 477.321 300.048C475.926 298.502 474.062 297.456 472.016 297.071C469.969 296.686 467.852 296.984 465.991 297.918C467.063 298.453 468.032 299.175 468.851 300.048C473.781 305.308 478.241 312.258 482.131 319.648C493.671 341.887 499.638 366.595 499.521 391.648V652.468H508.001V391.658C508.115 366.602 502.147 341.892 490.611 319.648V319.648Z","fill","black"],["id","Group_4","opacity","0.1"],["id","Vector_29","opacity","0.1","d","M657.571 320.368C661.461 312.978 665.921 306.028 670.851 300.768C671.773 299.772 672.889 298.976 674.131 298.428C672.298 297.626 670.26 297.421 668.304 297.841C666.348 298.261 664.573 299.285 663.231 300.768C658.291 306.028 653.831 312.978 649.941 320.368C638.407 342.609 632.44 367.315 632.551 392.368V653.228H640.181V392.388C640.061 367.328 646.029 342.613 657.571 320.368V320.368Z","fill","black"],["id","Vector_30","d","M471.041 738.768H470.391C467.331 738.768 464.395 737.553 462.231 735.388C460.067 733.224 458.851 730.289 458.851 727.228V674.368H482.581V727.228C482.581 730.289 481.365 733.224 479.201 735.388C477.037 737.553 474.102 738.768 471.041 738.768Z","fill","url(#paint0_linear)"],["id","Vector_31","d","M548.371 738.518H547.721C544.661 738.518 541.725 737.303 539.561 735.138C537.397 732.974 536.181 730.039 536.181 726.978V674.118H559.911V726.978C559.911 730.039 558.695 732.974 556.531 735.138C554.367 737.303 551.432 738.518 548.371 738.518Z","fill","url(#paint1_linear)"],["id","Vector_32","d","M597.371 738.518H596.721C593.661 738.518 590.725 737.303 588.561 735.138C586.397 732.974 585.181 730.039 585.181 726.978V674.118H608.911V726.978C608.911 730.039 607.695 732.974 605.531 735.138C603.367 737.303 600.432 738.518 597.371 738.518Z","fill","url(#paint2_linear)"],["id","Vector_33","d","M674.371 738.518H673.721C670.661 738.518 667.725 737.303 665.561 735.138C663.397 732.974 662.181 730.039 662.181 726.978V674.118H685.911V726.978C685.911 730.039 684.695 732.974 682.531 735.138C680.367 737.303 677.432 738.518 674.371 738.518Z","fill","url(#paint3_linear)"],["id","Vector_34","d","M578.51 96.4834L578.52 96.4957L578.531 96.5076C583.685 102.221 590.434 111.588 597.797 126.726L597.798 126.73C613.465 158.638 621.544 194.732 621.655 231.32L622.93 650.608L517.93 650.927L516.661 233.319C516.547 195.664 524.762 158.515 541.048 125.774C546.594 114.716 552.917 104.371 559.813 96.561L559.822 96.5507L559.831 96.5402C560.972 95.1742 562.398 94.0744 564.009 93.3179C565.62 92.5615 567.377 92.1667 569.157 92.1613C570.937 92.1559 572.697 92.54 574.312 93.2866C575.928 94.0333 577.361 95.1244 578.51 96.4834Z","fill","#EEEEEE","stroke","black","stroke-width","2"],["id","Vector_35","d","M585.811 142.368H551.971C545.896 142.368 540.971 147.293 540.971 153.368V156.958C540.971 163.034 545.896 167.958 551.971 167.958H585.811C591.886 167.958 596.811 163.034 596.811 156.958V153.368C596.811 147.293 591.886 142.368 585.811 142.368Z","fill","#535461"],["id","Vector_36","d","M433.431 396.448L451.231 396.538V418.478H433.431V396.448Z","fill","#535461"],["id","Vector_37","d","M690.171 396.448L707.961 396.538V418.478H690.171V396.448Z","fill","#535461"],["id","filter0_d","x","0","y","0","width","1123","height","837","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"],["dy","4"],["stdDeviation","15"],["type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.7 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow","result","shape"],["id","paint0_linear","x1","470.721","y1","674.368","x2","470.721","y2","738.768","gradientUnits","userSpaceOnUse"],["stop-color","#E0E0E0"],["offset","0.31","stop-color","#FCCC63"],["offset","0.77","stop-color","#F55F44"],["id","paint1_linear","x1","548.051","y1","674.118","x2","548.051","y2","738.518","gradientUnits","userSpaceOnUse"],["id","paint2_linear","x1","597.051","y1","674.118","x2","597.051","y2","738.518","gradientUnits","userSpaceOnUse"],["id","paint3_linear","x1","674.051","y1","674.118","x2","674.051","y2","738.518","gradientUnits","userSpaceOnUse"],[1,"text"],["routerLink","/home"]],template:function(r,s){1&r&&(h.TgZ(0,"body"),h.TgZ(1,"div"),h.O4$(),h.TgZ(2,"svg",0),h._UZ(3,"rect",1),h.TgZ(4,"g",2),h._UZ(5,"rect",3),h.TgZ(6,"g",4),h._UZ(7,"path",5),h._UZ(8,"path",6),h._UZ(9,"path",7),h._UZ(10,"path",8),h._UZ(11,"path",9),h._UZ(12,"path",10),h._UZ(13,"path",11),h._UZ(14,"path",12),h._UZ(15,"path",13),h._UZ(16,"path",14),h._UZ(17,"path",15),h._UZ(18,"path",16),h._UZ(19,"path",17),h._UZ(20,"path",18),h._UZ(21,"path",19),h._UZ(22,"path",20),h.qZA(),h.TgZ(23,"g",21),h._UZ(24,"path",22),h.TgZ(25,"g",23),h._UZ(26,"path",24),h._UZ(27,"path",25),h.TgZ(28,"g",26),h._UZ(29,"path",27),h.qZA(),h._UZ(30,"path",28),h._UZ(31,"path",29),h.TgZ(32,"g",30),h._UZ(33,"path",31),h.qZA(),h._UZ(34,"path",32),h._UZ(35,"path",33),h._UZ(36,"path",34),h._UZ(37,"path",35),h.TgZ(38,"g",36),h._UZ(39,"path",37),h.qZA(),h.TgZ(40,"g",38),h._UZ(41,"path",39),h.qZA(),h._UZ(42,"path",40),h._UZ(43,"path",41),h._UZ(44,"path",42),h._UZ(45,"path",43),h._UZ(46,"path",44),h._UZ(47,"path",45),h._UZ(48,"path",46),h._UZ(49,"path",47),h.qZA(),h.qZA(),h.qZA(),h.TgZ(50,"defs"),h.TgZ(51,"filter",48),h._UZ(52,"feFlood",49),h._UZ(53,"feColorMatrix",50),h._UZ(54,"feOffset",51),h._UZ(55,"feGaussianBlur",52),h._UZ(56,"feColorMatrix",53),h._UZ(57,"feBlend",54),h._UZ(58,"feBlend",55),h.qZA(),h.TgZ(59,"linearGradient",56),h._UZ(60,"stop",57),h._UZ(61,"stop",58),h._UZ(62,"stop",59),h.qZA(),h.TgZ(63,"linearGradient",60),h._UZ(64,"stop",57),h._UZ(65,"stop",58),h._UZ(66,"stop",59),h.qZA(),h.TgZ(67,"linearGradient",61),h._UZ(68,"stop",57),h._UZ(69,"stop",58),h._UZ(70,"stop",59),h.qZA(),h.TgZ(71,"linearGradient",62),h._UZ(72,"stop",57),h._UZ(73,"stop",58),h._UZ(74,"stop",59),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(75,"div",63),h.TgZ(76,"h1"),h._uU(77,"404 Error"),h.qZA(),h.TgZ(78,"h2"),h._uU(79,"Couldn't launch :("),h.qZA(),h.TgZ(80,"h3"),h._uU(81,"P\xe1gina no Encontrada - Vuelve al "),h.TgZ(82,"a",64),h._uU(83,"HOME"),h.qZA(),h.qZA(),h.qZA(),h.qZA())},directives:[eh],styles:['@import"https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Fira+Mono:wght@500&display=swap";body[_ngcontent-%COMP%]{height:95vh;background:#000000;text-align:center;color:#e0e0e0;font-family:"Fira Mono",monospace}h1[_ngcontent-%COMP%]{font-size:2.5rem;font-family:"Permanent Marker",cursive}div[_ngcontent-%COMP%]{transform-style:preserve-3d}svg[_ngcontent-%COMP%]{width:clamp(300px,70%,600px);height:500px}#rocket[_ngcontent-%COMP%]{transform:translateY(750px);animation:launch 2s ease-out forwards}@keyframes launch{0%{transform:translateY(750px)}to{perspective:500px;transform:translateY(0)}}#stars[_ngcontent-%COMP%]{animation:twinkling 2s linear}@keyframes twinkling{0%{transform:scale(0)}to{transform:scale(1)}}.text[_ngcontent-%COMP%]{opacity:0;animation:appear 1s ease-in forwards;animation-delay:1.8s}@keyframes appear{0%{opacity:0}to{opacity:1}}a[_ngcontent-%COMP%]{color:#f66947;text-decoration:none}']}),i})()}];let Ej=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({imports:[[Vb.forRoot(bj)],Vb]}),i})(),Cj=(()=>{class i{constructor(r){this.title="ingweb-fm",this.items=r.collection("items").valueChanges()}}return i.\u0275fac=function(r){return new(r||i)(h.Y36(c))},i.\u0275cmp=h.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){1&r&&h._UZ(0,"router-outlet")},directives:[th],styles:[""]}),i})();var hf=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(hf||(hf={})),hf))();const FL="firebasestorage.googleapis.com",LL="storageBucket";class hr extends Ht.ZR{constructor(n,r){super(dN(n),`Firebase Storage: ${r} (${dN(n)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,hr.prototype)}_codeEquals(n){return dN(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function dN(i){return"storage/"+i}function hN(){return new hr("unknown","An unknown error occurred, please check the error payload for server response.")}function VL(){return new hr("canceled","User canceled the upload/download.")}function UL(){return new hr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pj(){return new hr("no-download-url","The given file does not have any download URLs.")}function jv(i){return new hr("invalid-argument",i)}function BL(){return new hr("app-deleted","The Firebase app was deleted.")}function $L(i){return new hr("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _w(i,n){return new hr("invalid-format","String does not match format '"+i+"': "+n)}function oM(i){throw new hr("internal-error","Internal error: "+i)}class Fj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=hf.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hf.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hf.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,r,s,o){if(this.sent_)throw oM("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,n,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw oM("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw oM("cannot .getStatus() before sending");try{return this.xhr_.status}catch(n){return-1}}getResponseText(){if(!this.sent_)throw oM("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",n)}}class Vj{createConnection(){return new Fj}}class Zi{constructor(n,r){this.bucket=n,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,r){let s;try{s=Zi.makeFromUrl(n,r)}catch(o){return new Zi(n,"")}if(""===s.path)return s;throw function(i){return new hr("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(n)}static makeFromUrl(n,r){let s=null;const o="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+o+"(/(.*))?$","i");function C(ie){ie.path_=decodeURIComponent(ie.path)}const S=r.replace(/[.]/g,"\\."),K=[{regex:g,indices:{bucket:1,path:3},postModify:function(ie){"/"===ie.path.charAt(ie.path.length-1)&&(ie.path_=ie.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${r===FL?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let ie=0;ie<K.length;ie++){const ke=K[ie],Fe=ke.regex.exec(n);if(Fe){let _e=Fe[ke.indices.path];_e||(_e=""),s=new Zi(Fe[ke.indices.bucket],_e),ke.postModify(s);break}}if(null==s)throw function(i){return new hr("invalid-url","Invalid URL '"+i+"'.")}(n);return s}}class Uj{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}function aM(i){return"string"==typeof i||i instanceof String}function HL(i){return fN()&&i instanceof Blob}function fN(){return"undefined"!=typeof Blob}function pN(i,n,r,s){if(s<n)throw jv(`Invalid value for '${i}'. Expected ${n} or greater.`);if(s>r)throw jv(`Invalid value for '${i}'. Expected ${r} or less.`)}function ff(i,n,r){let s=n;return null==r&&(s=`https://${n}`),`${r}://${s}/v0${i}`}function jL(i){const n=encodeURIComponent;let r="?";for(const s in i)i.hasOwnProperty(s)&&(r=r+(n(s)+"=")+n(i[s])+"&");return r=r.slice(0,-1),r}class Gj{constructor(n,r,s,o,u,f,g,v,C,T,S){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=n,this.method_=r,this.headers_=s,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=g,this.errorCallback_=v,this.progressCallback_=T,this.timeout_=C,this.pool_=S,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const n=this;function s(o,u){const f=n.resolve_,g=n.reject_,v=u.connection;if(u.wasSuccessCode)try{const C=n.callback_(v,v.getResponseText());!function(i){return void 0!==i}(C)?f():f(C)}catch(C){g(C)}else if(null!==v){const C=hN();C.serverResponse=v.getResponseText(),g(n.errorCallback_?n.errorCallback_(v,C):C)}else g(u.canceled?n.appDelete_?BL():VL():new hr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new lM(!1,null,!0)):this.backoffId_=function(i,n,r){let s=1,o=null,u=!1,f=0;function g(){return 2===f}let v=!1;function C(...N){v||(v=!0,n.apply(null,N))}function T(N){o=setTimeout(()=>{o=null,i(S,g())},N)}function S(N,...L){if(v)return;if(N)return void C.call(null,N,...L);if(g()||u)return void C.call(null,N,...L);let z;s<64&&(s*=2),1===f?(f=2,z=0):z=1e3*(s+Math.random()),T(z)}let x=!1;function k(N){x||(x=!0,!v&&(null!==o?(N||(f=2),clearTimeout(o),T(0)):N||(f=1)))}return T(0),setTimeout(()=>{u=!0,k(!0)},r),k}(function(o,u){if(u)return void o(!1,new lM(!1,null,!0));const f=n.pool_.createConnection();function g(v){null!==n.progressCallback_&&n.progressCallback_(v.loaded,v.lengthComputable?v.total:-1)}n.pendingConnection_=f,null!==n.progressCallback_&&f.addUploadProgressListener(g),f.send(n.url_,n.method_,n.body_,n.headers_).then(()=>{null!==n.progressCallback_&&f.removeUploadProgressListener(g),n.pendingConnection_=null;const v=f.getErrorCode()===hf.NO_ERROR,C=f.getStatus();if(!v||n.isRetryStatusCode_(C)){const S=f.getErrorCode()===hf.ABORT;return void o(!1,new lM(!1,null,S))}const T=-1!==n.successCodes_.indexOf(C);o(!0,new lM(T,f))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(n){const r=n>=500&&n<600,o=-1!==[408,429].indexOf(n),u=-1!==this.additionalRetryCodes_.indexOf(n);return r||o||u}}class lM{constructor(n,r,s){this.wasSuccessCode=n,this.connection=r,this.canceled=!!s}}function Jj(...i){const n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){const r=new n;for(let s=0;s<i.length;s++)r.append(i[s]);return r.getBlob()}if(fN())return new Blob(i);throw new hr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const To={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mN{constructor(n,r){this.data=n,this.contentType=r||null}}function gN(i,n){switch(i){case To.RAW:return new mN(zL(n));case To.BASE64:case To.BASE64URL:return new mN(GL(i,n));case To.DATA_URL:return new mN(function(i){const n=new qL(i);return n.base64?GL(To.BASE64,n.rest):function(i){let n;try{n=decodeURIComponent(i)}catch(r){throw _w(To.DATA_URL,"Malformed data URL.")}return zL(n)}(n.rest)}(n),function(i){return new qL(i).contentType}(n))}throw hN()}function zL(i){const n=[];for(let r=0;r<i.length;r++){let s=i.charCodeAt(r);s<=127?n.push(s):s<=2047?n.push(192|s>>6,128|63&s):55296==(64512&s)?r<i.length-1&&56320==(64512&i.charCodeAt(r+1))?(s=65536|(1023&s)<<10|1023&i.charCodeAt(++r),n.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):n.push(239,191,189):56320==(64512&s)?n.push(239,191,189):n.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(n)}function GL(i,n){switch(i){case To.BASE64:{const o=-1!==n.indexOf("-"),u=-1!==n.indexOf("_");if(o||u)throw _w(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case To.BASE64URL:{const o=-1!==n.indexOf("+"),u=-1!==n.indexOf("/");if(o||u)throw _w(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function(i){return atob(i)}(n)}catch(o){throw _w(i,"Invalid character found")}const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s}class qL{constructor(n){this.base64=!1,this.contentType=null;const r=n.match(/^data:([^,]+)?,/);if(null===r)throw _w(To.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;null!=s&&(this.base64=function(i,n){return i.length>=n.length&&i.substring(i.length-n.length)===n}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=n.substring(n.indexOf(",")+1)}}class Ac{constructor(n,r){let s=0,o="";HL(n)?(this.data_=n,s=n.size,o=n.type):n instanceof ArrayBuffer?(r?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),s=this.data_.length):n instanceof Uint8Array&&(r?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),s=n.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(n,r){if(HL(this.data_)){const o=function(i,n,r){return i.webkitSlice?i.webkitSlice(n,r):i.mozSlice?i.mozSlice(n,r):i.slice?i.slice(n,r):null}(this.data_,n,r);return null===o?null:new Ac(o)}{const s=new Uint8Array(this.data_.buffer,n,r-n);return new Ac(s,!0)}}static getBlob(...n){if(fN()){const r=n.map(s=>s instanceof Ac?s.data_:s);return new Ac(Jj.apply(null,r))}{const r=n.map(f=>aM(f)?gN(To.RAW,f).data:f.data_);let s=0;r.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return r.forEach(f=>{for(let g=0;g<f.length;g++)o[u++]=f[g]}),new Ac(o,!0)}}uploadData(){return this.data_}}function _N(i){let n;try{n=JSON.parse(i)}catch(r){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(n)?n:null}function WL(i){const n=i.lastIndexOf("/",i.length-2);return-1===n?i:i.slice(n+1)}function a4(i,n){return n}class gs{constructor(n,r,s,o){this.server=n,this.local=r||n,this.writable=!!s,this.xform=o||a4}}let cM=null;function yw(){if(cM)return cM;const i=[];i.push(new gs("bucket")),i.push(new gs("generation")),i.push(new gs("metageneration")),i.push(new gs("name","fullPath",!0));const r=new gs("name");r.xform=function(u,f){return function(i){return!aM(i)||i.length<2?i:WL(i)}(f)},i.push(r);const o=new gs("size");return o.xform=function(u,f){return void 0!==f?Number(f):f},i.push(o),i.push(new gs("timeCreated")),i.push(new gs("updated")),i.push(new gs("md5Hash",null,!0)),i.push(new gs("cacheControl",null,!0)),i.push(new gs("contentDisposition",null,!0)),i.push(new gs("contentEncoding",null,!0)),i.push(new gs("contentLanguage",null,!0)),i.push(new gs("contentType",null,!0)),i.push(new gs("metadata","customMetadata",!0)),cM=i,cM}function ZL(i,n,r){const s=_N(n);return null===s?null:function(i,n,r){const s={type:"file"},o=r.length;for(let u=0;u<o;u++){const f=r[u];s[f.local]=f.xform(s,n[f.server])}return function(i,n){Object.defineProperty(i,"ref",{get:function(){const u=new Zi(i.bucket,i.fullPath);return n._makeStorageReference(u)}})}(s,i),s}(i,s,r)}function yN(i,n){const r={},s=n.length;for(let o=0;o<s;o++){const u=n[o];u.writable&&(r[u.server]=i[u.local])}return JSON.stringify(r)}const YL="prefixes";class od{constructor(n,r,s,o){this.url=n,this.method=r,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mc(i){if(!i)throw hN()}function uM(i,n){return function(s,o){const u=ZL(i,o,n);return Mc(null!==u),u}}function zv(i){return function(r,s){let o;return o=401===r.getStatus()?r.getResponseText().includes("Firebase App Check token is invalid")?new hr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new hr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?function(i){return new hr("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===r.getStatus()?function(i){return new hr("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):s,o.serverResponse=s.serverResponse,o}}function dM(i){const n=zv(i);return function(s,o){let u=n(s,o);return 404===s.getStatus()&&(u=function(i){return new hr("object-not-found","Object '"+i+"' does not exist.")}(i.path)),u.serverResponse=o.serverResponse,u}}function QL(i,n,r){const o=ff(n.fullServerUrl(),i.host,i._protocol),f=i.maxOperationRetryTime,g=new od(o,"GET",uM(i,r),f);return g.errorHandler=dM(n),g}function g4(i,n,r,s,o){const u={};u.prefix=n.isRoot?"":n.path+"/",r&&r.length>0&&(u.delimiter=r),s&&(u.pageToken=s),o&&(u.maxResults=o);const g=ff(n.bucketOnlyServerUrl(),i.host,i._protocol),C=i.maxOperationRetryTime,T=new od(g,"GET",function(i,n){return function(s,o){const u=function(i,n,r){const s=_N(r);return null===s?null:function(i,n,r){const s={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[YL])for(const o of r[YL]){const u=o.replace(/\/$/,""),f=i._makeStorageReference(new Zi(n,u));s.prefixes.push(f)}if(r.items)for(const o of r.items){const u=i._makeStorageReference(new Zi(n,o.name));s.items.push(u)}return s}(i,n,s)}(i,n,o);return Mc(null!==u),u}}(i,n.bucket),C);return T.urlParams=u,T.errorHandler=zv(n),T}function _4(i,n,r){const o=ff(n.fullServerUrl(),i.host,i._protocol),f=i.maxOperationRetryTime,g=new od(o,"GET",function(i,n){return function(s,o){const u=ZL(i,o,n);return Mc(null!==u),function(i,n,r,s){const o=_N(n);if(null===o||!aM(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const f=encodeURIComponent;return u.split(",").map(C=>{const S=i.fullPath;return ff("/b/"+f(i.bucket)+"/o/"+f(S),r,s)+jL({alt:"media",token:C})})[0]}(u,o,i.host,i._protocol)}}(i,r),f);return g.errorHandler=dM(n),g}function y4(i,n,r,s){const u=ff(n.fullServerUrl(),i.host,i._protocol),g=yN(r,s),C=i.maxOperationRetryTime,T=new od(u,"PATCH",uM(i,s),C);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=g,T.errorHandler=dM(n),T}function v4(i,n){const s=ff(n.fullServerUrl(),i.host,i._protocol),g=new od(s,"DELETE",function(v,C){},i.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=dM(n),g}function JL(i,n,r){const s=Object.assign({},r);return s.fullPath=i.path,s.size=n.size(),s.contentType||(s.contentType=function(i,n){return n&&n.type()||"application/octet-stream"}(0,n)),s}class hM{constructor(n,r,s,o){this.current=n,this.total=r,this.finalized=!!s,this.metadata=o||null}}function vN(i,n){let r=null;try{r=i.getResponseHeader("X-Goog-Upload-Status")}catch(o){Mc(!1)}return Mc(!!r&&-1!==(n||["active"]).indexOf(r)),r}const T4={STATE_CHANGED:"state_changed"},_s={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bN(i){switch(i){case"running":case"pausing":case"canceling":return _s.RUNNING;case"paused":return _s.PAUSED;case"success":return _s.SUCCESS;case"canceled":return _s.CANCELED;case"error":default:return _s.ERROR}}class D4{constructor(n,r,s){if(function(i){return"function"==typeof i}(n)||null!=r||null!=s)this.next=n,this.error=null!=r?r:void 0,this.complete=null!=s?s:void 0;else{const u=n;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Gv(i){return(...n)=>{Promise.resolve().then(()=>i(...n))}}class t2{constructor(n,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=n,this._blob=r,this._metadata=s,this._mappings=yw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const n=this._transferred;return r=>this._updateProgress(n+r)}_shouldDoResumable(n){return n.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(n){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":n(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((n,r)=>{const s=function(i,n,r,s,o){const u=n.bucketOnlyServerUrl(),f=JL(n,s,o),g={name:f.fullPath},v=ff(u,i.host,i._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},S=yN(f,r),N=new od(v,"POST",function(L){let F;vN(L);try{F=L.getResponseHeader("X-Goog-Upload-URL")}catch(z){Mc(!1)}return Mc(aM(F)),F},i.maxUploadRetryTime);return N.urlParams=g,N.headers=T,N.body=S,N.errorHandler=zv(n),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,n,r);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const n=this._uploadUrl;this._resolveToken((r,s)=>{const o=function(i,n,r,s){const v=new od(r,"POST",function(C){const T=vN(C,["active","final"]);let S=null;try{S=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch(k){Mc(!1)}S||Mc(!1);const x=Number(S);return Mc(!isNaN(x)),new hM(x,s.size(),"final"===T)},i.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=zv(n),v}(this._ref.storage,this._ref._location,n,this._blob),u=this._ref.storage._makeRequest(o,r,s);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const n=262144*this._chunkMultiplier,r=new hM(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let f;try{f=function(i,n,r,s,o,u,f,g){const v=new hM(0,0);if(f?(v.current=f.current,v.total=f.total):(v.current=0,v.total=s.size()),s.size()!==v.total)throw new hr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const C=v.total-v.current;let T=C;o>0&&(T=Math.min(T,o));const S=v.current,N={"X-Goog-Upload-Command":T===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},L=s.slice(S,S+T);if(null===L)throw UL();const K=new od(r,"POST",function(ie,ke){const Fe=vN(ie,["active","final"]),he=v.current+T,_e=s.size();let Ee;return Ee="final"===Fe?uM(n,u)(ie,ke):null,new hM(he,_e,"final"===Fe,Ee)},n.maxUploadRetryTime);return K.headers=N,K.body=L.uploadData(),K.progressCallback=g||null,K.errorHandler=zv(i),K}(this._ref._location,this._ref.storage,s,this._blob,n,this._mappings,r,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const g=this._ref.storage._makeRequest(f,o,u);this._request=g,g.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((n,r)=>{const s=QL(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,n,r);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((n,r)=>{const s=function(i,n,r,s,o){const u=n.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},v=function(){let K="";for(let ie=0;ie<2;ie++)K+=Math.random().toString().slice(2);return K}();f["Content-Type"]="multipart/related; boundary="+v;const C=JL(n,s,o),T=yN(C,r),k=Ac.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+v+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",s,"\r\n--"+v+"--");if(null===k)throw UL();const N={name:C.fullPath},L=ff(u,i.host,i._protocol),z=i.maxUploadRetryTime,J=new od(L,"POST",uM(i,r),z);return J.urlParams=N,J.headers=f,J.body=k.uploadData(),J.errorHandler=zv(n),J}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,n,r);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(n){const r=this._transferred;this._transferred=n,this._transferred!==r&&this._notifyObservers()}_transition(n){if(this._state!==n)switch(n){case"canceling":case"pausing":this._state=n,void 0!==this._request&&this._request.cancel();break;case"running":const r="paused"===this._state;this._state=n,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=n,this._notifyObservers();break;case"canceled":this._error=VL(),this._state=n,this._notifyObservers();break;case"error":case"success":this._state=n,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const n=bN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:n,metadata:this._metadata,task:this,ref:this._ref}}on(n,r,s,o){const u=new D4(r||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(n,r){return this._promise.then(n,r)}catch(n){return this.then(null,n)}_addObserver(n){this._observers.push(n),this._notifyObserver(n)}_removeObserver(n){const r=this._observers.indexOf(n);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let n=!0;switch(bN(this._state)){case _s.SUCCESS:Gv(this._resolve.bind(null,this.snapshot))();break;case _s.CANCELED:case _s.ERROR:Gv(this._reject.bind(null,this._error))();break;default:n=!1}n&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(n){switch(bN(this._state)){case _s.RUNNING:case _s.PAUSED:n.next&&Gv(n.next.bind(n,this.snapshot))();break;case _s.SUCCESS:n.complete&&Gv(n.complete.bind(n))();break;case _s.CANCELED:case _s.ERROR:n.error&&Gv(n.error.bind(n,this._error))();break;default:n.error&&Gv(n.error.bind(n,this._error))()}}resume(){const n="paused"===this._state||"pausing"===this._state;return n&&this._transition("running"),n}pause(){const n="running"===this._state;return n&&this._transition("pausing"),n}cancel(){const n="running"===this._state||"pausing"===this._state;return n&&this._transition("canceling"),n}}class ug{constructor(n,r){this._service=n,this._location=r instanceof Zi?r:Zi.makeFromUrl(r,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,r){return new ug(n,r)}get root(){const n=new Zi(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WL(this._location.path)}get storage(){return this._service}get parent(){const n=function(i){if(0===i.length)return null;const n=i.lastIndexOf("/");return-1===n?"":i.slice(0,n)}(this._location.path);if(null===n)return null;const r=new Zi(this._location.bucket,n);return new ug(this._service,r)}_throwIfRoot(n){if(""===this._location.path)throw $L(n)}}function r2(i,n,r){return EN.apply(this,arguments)}function EN(){return(EN=(0,xe.Z)(function*(i,n,r){const o=yield s2(i,{pageToken:r});n.prefixes.push(...o.prefixes),n.items.push(...o.items),null!=o.nextPageToken&&(yield r2(i,n,o.nextPageToken))})).apply(this,arguments)}function s2(i,n){return CN.apply(this,arguments)}function CN(){return(CN=(0,xe.Z)(function*(i,n){null!=n&&"number"==typeof n.maxResults&&pN("options.maxResults",1,1e3,n.maxResults);const r=n||{},s=g4(i.storage,i._location,"/",r.pageToken,r.maxResults);return(yield i.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function wN(){return(wN=(0,xe.Z)(function*(i){i._throwIfRoot("getMetadata");const n=QL(i.storage,i._location,yw());return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function TN(){return(TN=(0,xe.Z)(function*(i,n){i._throwIfRoot("updateMetadata");const r=y4(i.storage,i._location,n,yw());return(yield i.storage.makeRequestWithTokens(r)).getPromise()})).apply(this,arguments)}function DN(){return(DN=(0,xe.Z)(function*(i){i._throwIfRoot("getDownloadURL");const n=_4(i.storage,i._location,yw());return(yield i.storage.makeRequestWithTokens(n)).getPromise().then(r=>{if(null===r)throw Pj();return r})})).apply(this,arguments)}function SN(){return(SN=(0,xe.Z)(function*(i){i._throwIfRoot("deleteObject");const n=v4(i.storage,i._location);return(yield i.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function o2(i,n){const r=function(i,n){const r=n.split("/").filter(s=>s.length>0).join("/");return 0===i.length?r:i+"/"+r}(i._location.path,n),s=new Zi(i._location.bucket,r);return new ug(i.storage,s)}function a2(i,n){if(i instanceof IN){const r=i;if(null==r._bucket)throw new hr("no-default-bucket","No default bucket found. Did you set the '"+LL+"' property when initializing the app?");const s=new ug(r,r._bucket);return null!=n?a2(s,n):s}return void 0!==n?o2(i,n):i}function P4(i,n){if(n&&function(i){return/^[A-Za-z]+:\/\//.test(i)}(n)){if(i instanceof IN)return function(i,n){return new ug(i,n)}(i,n);throw jv("To use ref(service, url), the first argument must be a Storage instance.")}return a2(i,n)}function l2(i,n){const r=null==n?void 0:n[LL];return null==r?null:Zi.makeFromBucketSpec(r,i)}class IN{constructor(n,r,s,o,u,f){this.app=n,this._authProvider=r,this._appCheckProvider=s,this._pool=o,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=FL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?Zi.makeFromBucketSpec(u,this._host):l2(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._bucket=null!=this._url?Zi.makeFromBucketSpec(this._url,n):l2(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){pN("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){pN("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}_getAuthToken(){var n=this;return(0,xe.Z)(function*(){if(n._overrideAuthToken)return n._overrideAuthToken;const r=n._authProvider.getImmediate({optional:!0});if(r){const s=yield r.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var n=this;return(0,xe.Z)(function*(){const r=n._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new ug(this,n)}_makeRequest(n,r,s){if(this._deleted)return new Uj(BL());{const o=function(i,n,r,s,o,u){const f=jL(i.urlParams),g=i.url+f,v=Object.assign({},i.headers);return function(i,n){n&&(i["X-Firebase-GMPID"]=n)}(v,n),function(i,n){null!==n&&n.length>0&&(i.Authorization="Firebase "+n)}(v,r),function(i,n){i["X-Firebase-Storage-Version"]="webjs/"+(null!=n?n:"AppManager")}(v,u),function(i,n){null!==n&&(i["X-Firebase-AppCheck"]=n)}(v,s),new Gj(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o)}(n,this._appId,r,s,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(n){var r=this;return(0,xe.Z)(function*(){const[s,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(n,s,o)})()}}function u2(i,n){return P4(i=(0,Ht.m9)(i),n)}(0,ch._registerComponent)(new F_.wA("storage",function(i,{instanceIdentifier:n}){const r=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new IN(r,s,o,new Vj,n,ch.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ch.registerVersion)("@firebase/storage","0.8.3");class fM{constructor(n,r,s){this._delegate=n,this.task=r,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class d2{constructor(n,r){this._delegate=n,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new fM(this._delegate.snapshot,this,this._ref)}then(n,r){return this._delegate.then(s=>{if(n)return n(new fM(s,this,this._ref))},r)}on(n,r,s,o){let u;return r&&(u="function"==typeof r?f=>r(new fM(f,this,this._ref)):{next:r.next?f=>r.next(new fM(f,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(n,u,s||void 0,o||void 0)}}class h2{constructor(n,r){this._delegate=n,this._service=r}get prefixes(){return this._delegate.prefixes.map(n=>new ad(n,this._service))}get items(){return this._delegate.items.map(n=>new ad(n,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ad{constructor(n,r){this._delegate=n,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(n){const r=function(i,n){return o2(i,n)}(this._delegate,n);return new ad(r,this.storage)}get root(){return new ad(this._delegate.root,this.storage)}get parent(){const n=this._delegate.parent;return null==n?null:new ad(n,this.storage)}put(n,r){return this._throwIfRoot("put"),new d2(function(i,n,r){return function(i,n,r){return i._throwIfRoot("uploadBytesResumable"),new t2(i,new Ac(n),r)}(i=(0,Ht.m9)(i),n,r)}(this._delegate,n,r),this)}putString(n,r=To.RAW,s){this._throwIfRoot("putString");const o=gN(r,n),u=Object.assign({},s);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new d2(new t2(this._delegate,new Ac(o.data,!0),u),this)}listAll(){return function(i){return function(i){const n={prefixes:[],items:[]};return r2(i,n).then(()=>n)}(i=(0,Ht.m9)(i))}(this._delegate).then(n=>new h2(n,this.storage))}list(n){return function(i,n){return s2(i=(0,Ht.m9)(i),n)}(this._delegate,n||void 0).then(r=>new h2(r,this.storage))}getMetadata(){return function(i){return function(i){return wN.apply(this,arguments)}(i=(0,Ht.m9)(i))}(this._delegate)}updateMetadata(n){return function(i,n){return function(i,n){return TN.apply(this,arguments)}(i=(0,Ht.m9)(i),n)}(this._delegate,n)}getDownloadURL(){return function(i){return function(i){return DN.apply(this,arguments)}(i=(0,Ht.m9)(i))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(i){return function(i){return SN.apply(this,arguments)}(i=(0,Ht.m9)(i))}(this._delegate)}_throwIfRoot(n){if(""===this._delegate._location.path)throw $L(n)}}class f2{constructor(n,r){this.app=n,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(n){if(p2(n))throw jv("ref() expected a child path but got a URL, use refFromURL instead.");return new ad(u2(this._delegate,n),this)}refFromURL(n){if(!p2(n))throw jv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zi.makeFromUrl(n,this._delegate.host)}catch(r){throw jv("refFromUrl() expected a valid full URL but got an invalid one.")}return new ad(u2(this._delegate,n),this)}setMaxUploadRetryTime(n){this._delegate.maxUploadRetryTime=n}setMaxOperationRetryTime(n){this._delegate.maxOperationRetryTime=n}useEmulator(n,r,s={}){!function(i,n,r,s={}){!function(i,n,r,s={}){i.host=`${n}:${r}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken="string"==typeof o?o:(0,Ht.Sg)(o,i.app.options.projectId))}(i,n,r,s)}(this._delegate,n,r,s)}}function p2(i){return/^[A-Za-z]+:\/\//.test(i)}function X4(i,{instanceIdentifier:n}){const r=i.getProvider("app-compat").getImmediate(),s=i.getProvider("storage").getImmediate({identifier:n});return new f2(r,s)}function m2(i){const n=function(i){return new Tn.y(n=>{const r=f=>n.next(f);r(i.snapshot);const u=i.on("state_changed",r);return i.then(f=>{r(f),n.complete()},f=>{r(i.snapshot),(f=>{n.error(f)})(f)}),function(){u()}}).pipe(GO(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>n,percentageChanges:()=>n.pipe((0,Dt.U)(r=>r.bytesTransferred/r.totalBytes*100))}}function pM(i){return{getDownloadURL:()=>(0,it.of)(void 0).pipe(Sn.fc,rr(()=>i.getDownloadURL()),Sn.iC),getMetadata:()=>(0,it.of)(void 0).pipe(Sn.fc,rr(()=>i.getMetadata()),Sn.iC),delete:()=>(0,cn.D)(i.delete()),child:n=>pM(i.child(n)),updateMetadata:n=>(0,cn.D)(i.updateMetadata(n)),put:(n,r)=>m2(i.put(n,r)),putString:(n,r,s)=>m2(i.putString(n,r,s)),listAll:()=>(0,cn.D)(i.listAll())}}!function(i){const n={TaskState:_s,TaskEvent:T4,StringFormat:To,Storage:f2,Reference:ad};i.INTERNAL.registerComponent(new F_.wA("storage-compat",X4,"PUBLIC").setServiceProps(n).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.3")}(LT.Z);const n5=new h.OlP("angularfire2.storageBucket"),r5=new h.OlP("angularfire2.storage.maxUploadRetryTime"),i5=new h.OlP("angularfire2.storage.maxOperationRetryTime"),s5=new h.OlP("angularfire2.storage.use-emulator");let o5=(()=>{class i{constructor(r,s,o,u,f,g,v,C,T){const S=(0,as.on)(r,f,s);this.storage=(0,Sn.cc)(`${S.name}.storage.${o}`,"AngularFireStorage",S.name,()=>{const x=f.runOutsideAngular(()=>S.storage(o||void 0)),k=T;return k&&x.useEmulator(...k),v&&x.setMaxUploadRetryTime(v),C&&x.setMaxOperationRetryTime(C),x},[v,C])}ref(r){return pM(this.storage.ref(r))}refFromURL(r){return pM(this.storage.refFromURL(r))}upload(r,s,o){return pM(this.storage.ref(r)).put(s,o)}}return i.\u0275fac=function(r){return new(r||i)(h.LFG(as.Dh),h.LFG(as.xv,8),h.LFG(n5,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Sn.HU),h.LFG(r5,8),h.LFG(i5,8),h.LFG(s5,8))},i.\u0275prov=h.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),a5=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({}),i})(),l5=(()=>{class i{constructor(){kv.Z.registerVersion("angularfire",Sn.q4.full,"gcs-compat")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i}),i.\u0275inj=h.cJS({providers:[o5],imports:[a5]}),i})();const g2_firebase={apiKey:"AIzaSyBvJaqWCiALeufjXeBrjznz8c4AzFo8yvQ",authDomain:"ingwebfm.firebaseapp.com",projectId:"ingwebfm",storageBucket:"ingwebfm.appspot.com",messagingSenderId:"657106277956",appId:"1:657106277956:web:55e4a071088968f4ee0e11"};let c5=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=h.oAB({type:i,bootstrap:[Cj]}),i.\u0275inj=h.cJS({providers:[],imports:[[Vf,as.hO.initializeApp(g2_firebase),Ej,UR,l5,d,NU,_B,ZB,jB,rj,o3,W3,NT,r$]]}),i})();(0,h.G48)(),qc().bootstrapModule(c5).catch(i=>console.error(i))},4762:(ot,Oe,j)=>{"use strict";function Ie(ge,ve){var Re={};for(var Ce in ge)Object.prototype.hasOwnProperty.call(ge,Ce)&&ve.indexOf(Ce)<0&&(Re[Ce]=ge[Ce]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(Ce=Object.getOwnPropertySymbols(ge);we<Ce.length;we++)ve.indexOf(Ce[we])<0&&Object.prototype.propertyIsEnumerable.call(ge,Ce[we])&&(Re[Ce[we]]=ge[Ce[we]])}return Re}function oe(ge,ve,Re,Ce){return new(Re||(Re=Promise))(function(ue,Ke){function ut(pt){try{_t(Ce.next(pt))}catch(wt){Ke(wt)}}function Vt(pt){try{_t(Ce.throw(pt))}catch(wt){Ke(wt)}}function _t(pt){pt.done?ue(pt.value):function(ue){return ue instanceof Re?ue:new Re(function(Ke){Ke(ue)})}(pt.value).then(ut,Vt)}_t((Ce=Ce.apply(ge,ve||[])).next())})}function X(ge,ve){var Ce,we,ue,Ke,Re={label:0,sent:function(){if(1&ue[0])throw ue[1];return ue[1]},trys:[],ops:[]};return Ke={next:ut(0),throw:ut(1),return:ut(2)},"function"==typeof Symbol&&(Ke[Symbol.iterator]=function(){return this}),Ke;function ut(_t){return function(pt){return function(_t){if(Ce)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Ce=1,we&&(ue=2&_t[0]?we.return:_t[0]?we.throw||((ue=we.return)&&ue.call(we),0):we.next)&&!(ue=ue.call(we,_t[1])).done)return ue;switch(we=0,ue&&(_t=[2&_t[0],ue.value]),_t[0]){case 0:case 1:ue=_t;break;case 4:return Re.label++,{value:_t[1],done:!1};case 5:Re.label++,we=_t[1],_t=[0];continue;case 7:_t=Re.ops.pop(),Re.trys.pop();continue;default:if(!(ue=(ue=Re.trys).length>0&&ue[ue.length-1])&&(6===_t[0]||2===_t[0])){Re=0;continue}if(3===_t[0]&&(!ue||_t[1]>ue[0]&&_t[1]<ue[3])){Re.label=_t[1];break}if(6===_t[0]&&Re.label<ue[1]){Re.label=ue[1],ue=_t;break}if(ue&&Re.label<ue[2]){Re.label=ue[2],Re.ops.push(_t);break}ue[2]&&Re.ops.pop(),Re.trys.pop();continue}_t=ve.call(ge,Re)}catch(pt){_t=[6,pt],we=0}finally{Ce=ue=0}if(5&_t[0])throw _t[1];return{value:_t[0]?_t[1]:void 0,done:!0}}([_t,pt])}}}function G(ge){var ve="function"==typeof Symbol&&Symbol.iterator,Re=ve&&ge[ve],Ce=0;if(Re)return Re.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&Ce>=ge.length&&(ge=void 0),{value:ge&&ge[Ce++],done:!ge}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(ge,ve){var Re="function"==typeof Symbol&&ge[Symbol.iterator];if(!Re)return ge;var we,Ke,Ce=Re.call(ge),ue=[];try{for(;(void 0===ve||ve-- >0)&&!(we=Ce.next()).done;)ue.push(we.value)}catch(ut){Ke={error:ut}}finally{try{we&&!we.done&&(Re=Ce.return)&&Re.call(Ce)}finally{if(Ke)throw Ke.error}}return ue}function ye(ge,ve,Re){if(Re||2===arguments.length)for(var ue,Ce=0,we=ve.length;Ce<we;Ce++)(ue||!(Ce in ve))&&(ue||(ue=Array.prototype.slice.call(ve,0,Ce)),ue[Ce]=ve[Ce]);return ge.concat(ue||Array.prototype.slice.call(ve))}j.d(Oe,{_T:()=>Ie,mG:()=>oe,Jh:()=>X,XA:()=>G,CR:()=>ce,ev:()=>ye})},8239:(ot,Oe,j)=>{"use strict";function h(Y,Ie,De,re,pe,oe,X){try{var H=Y[oe](X),q=H.value}catch(G){return void De(G)}H.done?Ie(q):Promise.resolve(q).then(re,pe)}function le(Y){return function(){var Ie=this,De=arguments;return new Promise(function(re,pe){var oe=Y.apply(Ie,De);function X(q){h(oe,re,pe,X,H,"next",q)}function H(q){h(oe,re,pe,X,H,"throw",q)}X(void 0)})}}j.d(Oe,{Z:()=>le})}},ot=>{ot(ot.s=5443)}]);